webpackJsonp([2],[function(e,t,n){n(1010),e.exports=n(976)},,function(e,t,n){"use strict";var i=n(3),s=n(66),r=window.document,o=e.exports={insertScript:function(e,t){var n,i,s=r.createElement("script"),a=r.getElementsByTagName("head")[0];s.async=!0,s.src=e,t=t||{},n=t.removeAfterLoad?a.removeChild.bind(a,s):t.onload,i=t.onerror,(n||i)&&o.onScriptLoad(s,n,i),a.appendChild(s)},onScriptLoad:function(e,t,n){t&&(e.addEventListener?e.addEventListener("load",t,!1):e.readyState&&(e.onreadystatechange=t)),n&&(e.onerror=n)},isInDocument:function(e){var t=arguments.length<=1||void 0===arguments[1]?window.document.body:arguments[1];return e.closest(t).length>0},pollForInsertion:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?3e4:arguments[2],r=s.defer(),a=100,l=i.after(Math.ceil(n/a),r.reject),u=function(){"pending"===r.state()&&(o.isInDocument(e,t)?r.resolve():(window.setTimeout(u,a),l()))};return u(),r}}},,,,function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],s=c[i.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](i.parts[r]);for(;r<i.parts.length;r++)s.parts.push(o(i.parts[r],t))}else{for(var a=[],r=0;r<i.parts.length;r++)a.push(o(i.parts[r],t));c[i.id]={id:i.id,refs:1,parts:a}}}}function s(e){for(var t=[],n={},i=0;i<e.length;i++){var s=e[i],r=s[0],o=s[1],a=s[2],l=s[3],u={css:o,media:a,sourceMap:l};n[r]?n[r].parts.push(u):t.push(n[r]={id:r,parts:[u]})}return t}function r(){var e=document.createElement("style"),t=p();return e.type="text/css",t.appendChild(e),e}function o(e,t){var n,i,s;if(t.singleton){var o=g++;n=f||(f=r()),i=l.bind(null,n,o,!1),s=l.bind(null,n,o,!0)}else n=r(),i=u.bind(null,n),s=function(){n.parentNode.removeChild(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else s()}}function a(e,t,n){var i=["/** >>"+t+" **/","/** "+t+"<< **/"],s=e.lastIndexOf(i[0]),r=n?i[0]+n+i[1]:"";if(e.lastIndexOf(i[0])>=0){var o=e.lastIndexOf(i[1])+i[1].length;return e.slice(0,s)+r+e.slice(o)}return e+r}function l(e,t,n,i){var s=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=a(e.styleSheet.cssText,t,s);else{var r=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(r,o[t]):e.appendChild(r)}}function u(e,t){var n=t.css,i=t.media,s=t.sourceMap;if(s&&"function"==typeof btoa)try{n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(s))+" */",n='@import url("data:stylesheet/css;base64,'+btoa(n)+'")'}catch(r){}if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var c={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=d(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),p=d(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,g=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h());var n=s(e);return i(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o],l=c[a.id];l.refs--,r.push(l)}if(e){var u=s(e);i(u,t)}for(var o=0;o<r.length;o++){var l=r[o];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete c[l.id]}}}}},,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(757),s=n(3),r=n(231),o=e.exports=new r;i.applyTo(o),s.each({app_id:1e3*String(Date.now()).substr(-8)+Math.floor(1e3*Math.random()),app_version:null,public_api_host:"https://api.soundcloud.com/",api_v2_host:"https://api-v2.soundcloud.com/",client_application_id:46941,client_id:"02gUJC0hH2ct1EGOcYXQIzRFU91c72Ea",eventlogger_tracking_url:"https://eventgateway.soundcloud.com",experiments:null,geoip:null,fb_app_id:"19507961798",adyen_url:"https://test.adyen.com/hpp/cse/js/7814235253800464.shtml",playHistoryLength:50,maxComments:200,me:null,mixi_api_key:"1403ed11563185e9cff6cfeedf4f2ecf77fa459e",notifications:null,notificationsUri:"wss://pushers.soundcloud.com/",oauth_token:null,preferFlashAudio:!0,promotedContentServer:"https://promoted.soundcloud.com/promo",promotedContentAccessToken:"web",restoreToSound:null,rollouts:null,router:null,songkick_api_key:"ZWsLr2h7FF5sHG54",facebook_api_key:"a7309b9a9a85963579f7e8bcffd36d2a",versionUpdateInterval:36e5,visualsHost:"https://visuals.soundcloud.com",visualsQueueHost:"https://visuals-queue.soundcloud.com/visuals",wisHost:"https://wis.sndcdn.com"},function(e,t){o.set(t,e,{silent:!0})}),o.finalize()},function(e,t,n){"use strict";var i,s,r=n(3),o=n(27),a=n(22),l=n(97),u=new l("broadcast"),c=a.get("app_id");u.on("broadcast",function(e){var t=e.current;t&&t.appId!==c&&s.call(d,t)});var d=e.exports=r.assign({},o.Events,{broadcast:function(e,t){var n,r;return"string"==typeof e?(n=[].slice.call(arguments,1),t=e,e={}):n=[].slice.call(arguments,2),r=i(t,n),u.set("broadcast",r),e.excludeThis||s.call(this,r),this}});i=function(e,t){return{type:e,timestamp:Date.now(),appId:c,args:t}},s=function(e){this.trigger.apply(this,["broadcast:"+e.type].concat(e.args||[]))}},function(e,t,n){"use strict";e.exports=n(2348)},function(e,t,n){(function(t){"use strict";function i(e,t,n){return y.centered(e,t,n,"connectWithSoundCloud")}function s(){return t.ajax({url:"https://soundcloud.com/logout",type:"DELETE",dataType:"text"}).promise()}function r(e){var t=window.document.createElement("form");return h.each(e,function(e,n){"data"!==n&&t.setAttribute(n,e)}),h.each(e.data,function(e,n){var i=window.document.createElement("input");i.setAttribute("type","text"),i.setAttribute("name",n),i.setAttribute("value",e),t.appendChild(i)}),t}function o(){return["auth_token","p","v"].some(function(e){return void 0!==m.get(e)})}function a(e){return v.trigger.bind(v,e)}function l(e){var t=!0;m.set({name:k,value:e,expirationInDays:365,secure:t,domainStrict:!0})}var u,c,d,h=n(3),p=n(35),f=n(27),g=n(22),m=n(390),v=n(23),_=n(97),y=n(261),b=n(66),w=n(67),x="soundcloud-callback.html",k="oauth_token",S="authentication:tokenChange",T=150,A="non-expiring fast-connect purchase upload",E="https://soundcloud.com/connect/token",C="signup_denied",D=new _("anonymous-user");!function(){var e=new _("auth"),t=e.get(k);t&&!m.get(k)&&l(t),e.dispose()}();var I=null;v.on("broadcast:"+S,function(e){e?(I=e,v.trigger("connect:login","login")):v.trigger("connect:logout",{isOriginator:!1})});var M=e.exports=h.assign({},f.Events,{_redirectAfterSignupRoute:null,setAuthToken:function(e){v.broadcast({excludeThis:!0},S,e),l(e)},getAuthToken:function(){return I=I||m.get(k)},isLoggedIn:function(){return!!this.getAuthToken()},login:function(e){var t,n,s,o=window.document,a=window.location;return e=e||{},s=e.redirectRoute,null!==s&&(this._redirectAfterSignupRoute=s),e.implicitAction?v.trigger("tracking:authentication:initiate",{action:"implicit:"+e.implicitAction,target:e.implicitTarget}):v.trigger("tracking:authentication:initiate",{action:"explicit:"+(e.signup?"create_account":"sign_in")}),d?u&&!u.closed&&u.focus&&u.focus():(d=b.defer().fail(function(){d=null}),this.isLoggedIn()?d.resolve():e.facebook?(c=o.createElement("iframe"),c.name="loginIframe",c.style.display="none",o.body.appendChild(c),n=r({action:w.stringify({host:g.get("public_api_host").replace("api.",""),path:["connect","via","facebook"],query:{client_id:g.get("client_id"),response_type:"token",scope:A,native_signup:"true",redirect_uri:a.protocol+"//"+a.host+"/"+x}}),method:"post",target:"loginIframe",data:{facebook_token:e.fb_token}}),o.body.appendChild(n),n.submit(),o.body.removeChild(n)):(t=w.stringify({host:g.get("public_api_host").replace("api.",""),path:["connect"],query:{client_id:g.get("client_id"),response_type:"token",scope:A,display:"next",redirect_uri:a.protocol+"//"+a.host+"/"+x,highlight:e.signup===!1?null:"signup"}}),v.trigger("auth:start",{context:e.context}),u=i(t,500,500),function l(){u&&!u.closed||M.isLoggedIn()||!d?u.closed?d&&v.once("connect:hasUserData",d.resolve).trigger("connect:login","login"):window.setTimeout(l,T):d.reject()}())),d},hasSignedUp:function(){this._redirectAfterSignupRoute?g.get("router").navigateToRoute(this._redirectAfterSignupRoute,null,{trigger:!0}):this._redirectAfterSignupRoute!==!1&&v.once("connect:hasUserData",a("onboarding:start")),v.once("connect:hasUserData",a("signup:successful")),p.include(),this._redirectAfterSignupRoute=null},hasLoggedIn:function(){v.trigger("login:successful"),v.once("connect:hasUserData",a("onboarding:for-zero-likes"))},loginWithFacebook:function(e){return M.login({facebook:!0,fb_token:e})},logout:function(){return s().always(function(){M.clearUserData(),v.trigger("connect:logout",{isOriginator:!0})})},clearUserData:function(){m.unset(k),v.broadcast({excludeThis:!0},S,"")},currentUserId:function(){return g.get("me").id},removeIframe:function(){c&&(c.parentNode.removeChild(c),c=null,M.isLoggedIn()&&v.once("connect:hasUserData",d.resolve).trigger("connect:login","login"))},loginFailed:function(e){v.trigger("login:failed"),e&&e.error===C&&v.trigger("connect:signupDenied"),d&&d.reject()},getUserIdentifier:function(){var e;return e=M.isLoggedIn()?M.currentUserId():M.getAnonymousUserIdentifier()},getAnonymousUserIdentifier:function(){for(var e=D.get("id");!e||1e3>e;)e=Math.floor(1e9*Math.random()),D.set("id",e);return e},loginWithCookies:function(){var e,n=b.defer();return o()?(e=w.modify(E,{query:{client_id:g.get("client_id"),scope:A}}),t.ajax(e,{type:"POST",dataType:"json",contentType:"application/json"}).done(function(e){M.setAuthToken(e.access_token),n.resolve()}).fail(n.reject)):n.reject(),n},loginToClassicSoundCloud:function(){o()||t.ajax({type:"post",url:"https://soundcloud.com/session",data:{access_token:M.getAuthToken(),format:"json"}})}})}).call(t,n(1))},function(e,t,n){"use strict";function i(e){return s.first(e.subscriptions)}var s=n(3),r=n(737),o=n(64),a=n(71);e.exports={productIds:{CONSUMER_SUBSCRIPTION_HIGH_TIER:"go",CONSUMER_SUBSCRIPTION_FREE:"free",CREATOR_SUBSCRIPTION_FREE:"free",CREATOR_SUBSCRIPTION_PRO:"creator-pro",CREATOR_SUBSCRIPTION_PRO_UNLIMITED:"creator-pro-unlimited",CREATOR_GIFT_FREE:"gift-free",CREATOR_GIFT_PRO:"gift-pro",CREATOR_GIFT_PRO_UNLIMITED:"gift-pro-unlimited"},planNames:{CONSUMER_SUBSCRIPTION_HIGH_TIER_NAME:"go"},htDiscount:{USD:"5"},htPrice:{USD:"9.99"},proUnlimitedHtPrice:{USD:"4.99"},proUnlimitedRoundedPrice:{USD:"5"},getIcon:function(e,t){var n=i(e),o=n&&n.product.name,a=n&&n.product.id;return a===this.productIds.CREATOR_SUBSCRIPTION_PRO||a===this.productIds.CREATOR_SUBSCRIPTION_PRO_UNLIMITED?(t=s.assign({},t,{prefix:"sc-status-icon",title:o||"",type:"creator"}),r.render(t)):""},getIconLink:function(e,t){var n,s,r,l,u=this.getIcon(e,t);return u?(r=a.getRoute("premium",null,null,t&&t.referral),n=i(e),s=n&&n.product.name,l=o.t("[[planName]] user",{planName:s}),'<a class="premiumIconLink" href="'+r+'" title="'+l+'">'+u+"</a>"):u},getNextLevelProductId:function(e){var t=e.getPlan();return t===this.productIds.CREATOR_SUBSCRIPTION_FREE||"lite"===t||void 0===t?this.productIds.CREATOR_SUBSCRIPTION_PRO:this.productIds.CREATOR_SUBSCRIPTION_PRO_UNLIMITED},getQuotaInfo:function(e,t){var n,i,s=e.getUploadSecondsLeft(),r=e.getUploadSecondsUsed(),a=e.getUploadMinutesLeft(),l=e.getUploadMinutesUsed(),u=e.hasProPlanLevel()?o.t("Pro plan"):o.t("free"),c=e.isOverQuota();return e.hasUnlimitedUpload()?!1:(n=Math.round((s+r)/60),i=n/60,t?{minutesLeft:a,minutesUsed:l,limitInMinutes:n,limitInHours:i,isOverQuota:c}:0>s?o.tp("You’re over your [[planName]] [[limitInHours]]-hour limit by <strong>1</strong> minute.","You’re over your [[planName]] [[limitInHours]]-hour limit by <strong>%d</strong> minutes.",-a,{planName:u,limitInHours:i}):o.tp("You have 1 minute left.","You have %d minutes left.",a))}}},,function(e,t,n){(function(t){"use strict";function i(e){e=e||{};var n=g.assign({},w,{422:g.noop}),i={},s=[C];return e.code?i.code=e.code:i.result_url=window.location.protocol+"//"+window.location.host+"/"+I,e.orderUrn?(s.push("retry"),i.order_urn=e.orderUrn):i.package_urn=$.getUrn(),B&&(i.origin_ref=B),t.ajax({url:v.get("api_v2_host")+s.join("/"),type:"POST",statusCode:n,data:JSON.stringify(i),contentType:"application/json",dataType:"json"})}function s(e){var t=e.urn,n=e.state,i=e.form_params,s={context:U,click_name:"clickthrough::"+[q.getProductId(),$.getTrackingUseCase()].join("/"),click_object:q.getReferenceParam()};try{i=JSON.parse(i)}catch(o){return r.call(this)}t&&n===V?(p(t),h.call(this,n),b.trigger("premium:started",s),this.successful(e.gift)):t&&i?(p(t),h.call(this,n),c(l.call(this,i)),b.trigger("premium:started",s),a.call(this,!0),this.triggerEvent("started")):r.call(this)}function r(e){var t=e?e.responseText:"";if(t)try{t=JSON.parse(t).error}catch(n){t=null}t&&"object"==typeof t&&(t=t.code),this.cancel(),b.trigger("premium:pageView","error"),this.trigger("error",t)}function o(e){return t.ajax({url:v.get("api_v2_host")+[D,e].join("/"),type:"GET",contentType:"application/json",dataType:"json"})}function a(e){var t=[this.isGiftPayment()?"gifts":null,e?$.isProUnlimited()?"pro-unlimited":"pro":null],n={trigger:!e};v.get("router").navigateToRoute("premium",t,n)}function l(e){return{action:e.action,params:e.inputs.map(function(e){return g.pairs(e)[0]})}}function u(){O&&(O.close(),O=null)}function c(e){N=e}function d(e){R=e}function h(e){F=F||{},F.state=e}function p(e){F=F||{},F.urn=e}function f(){$&&$.release(),O=P=R=$=F=N=B=U=null}var g=n(3),m=n(27),v=n(22),_=n(25),y=n(147),b=n(23),w=n(225),x=n(261),k=n(94),S=n(66),T=n(67),A=n(26),E=A.productIds,C="payments/checkout",D="payments/checkout",I="payment_callback.html",M=[1024,768],P=null,L=null,F=null,N=null,O=null,R=null,$=null,B=null,U=null,z=["use_case","preselected_term"],j="failed",H="pending",V="successful",q=e.exports=g.assign({},m.Events,{start:function(e,t){function n(){i.call(this,t).done(a.resolve).fail(a.reject)}var o=this,a=S.defer();return R?a.resolve():_.isLoggedIn()?(t&&t.trackingContext&&(U=t.trackingContext),d(e),$=new k({id:e},{ref:B}),this.triggerEvent("starting"),$.attrExists(z)?n.call(this):$.fetch().done(function(){n.call(o)}),a.done(function(e){s.call(o,e)}).fail(function(e){r.call(o,e)})):_.login({implicitAction:"purchase"}).then(function(){return q.start(e,t)})},handleCallback:function(e){var t=T.parse(e.location.href),n=t.query.url;n?O||this.openExternal(n):this.processOrder()},processOrder:function(){this.triggerEvent("processing"),this.pollForOrderStatus()},openExternal:function(e){if(/(^|\.)paypal\.com$/.test(T.parse(e).host)){var t=M[0],n=M[1];O=x.centered(e,t,n),this.listenTo(this,"processing finished",u),function i(){O&&!O.closed?window.setTimeout(i,1e3):O&&O.closed&&"external"===P&&(u(),q.cancel())}(),this.triggerEvent("external",e)}else this.cancel()},successful:function(e){var t=[$.getTrackingUseCase(),q.getProductId(),q.getReferenceParam()];b.trigger("premium:pageView","premium/success/"+t.filter(Boolean).join("/")),this.triggerEvent("successful"),e&&(L=e.code),v.get("router").navigateToRoute("purchased",[R],{trigger:!0}),this.finish(),e||this.pollForPlanUpdate()},unsuccessful:function(e){var t=[$.getTrackingUseCase(),q.getProductId(),e,q.getReferenceParam()];b.trigger("premium:pageView","premium/failed/"+t.filter(Boolean).join("/")),a.call(this,!1),this.triggerEvent("unsuccessful",e),this.finish()},updatedPlan:function(){this.triggerEvent("updatedPlan")},cancel:function(){/^(starting|started|external|processing)$/.test(P)&&(a.call(this,!1),this.triggerEvent("canceled"),f())},finish:function(){this.triggerEvent("finished"),f()},retry:function(){var e=this.getOrder().urn;i.call(this,{orderUrn:e}).done(s.bind(this)).fail(r.bind(this))},getProductId:function(){return R},getPaymentParams:function(){return N},getOrder:function(){return F},getReferenceParam:function(){return B},setReferenceParam:function(e){B=e},isGiftPayment:function(){return $.isGift()},claimGiftCode:function(){var e=L;return L=null,e},triggerEvent:function(e,t){var n=this;e.split(" ").forEach(function(e){P=e,n.trigger(e,R,F,t)})},purchasedToProductId:function(e,t){switch(e){case"pro":return t?E.CREATOR_GIFT_PRO:E.CREATOR_SUBSCRIPTION_PRO;case"pro-unlimited":return t?E.CREATOR_GIFT_PRO_UNLIMITED:E.CREATOR_SUBSCRIPTION_PRO_UNLIMITED}},pollForOrderStatus:function(){var e=this,t=this.getOrder().urn,n=new y({tolerance:1,giveUp:30,backoffRate:1.3}),i=function(){o(t).done(s).fail(function(t){var i=t.status;404===i?e.unsuccessful():n.failed()})},s=function(t){switch(h.call(e,t.state),t.state){case H:n.failed();break;case V:e.successful(t.gift);break;case j:t.action===q.orderAction.RETRY?e.retry():e.unsuccessful(t.reason)}};this.listenTo(n,"enabled",i).listenTo(n,"giveup",this.unsuccessful.bind(this,"timeout")),i()},pollForPlanUpdate:function(){var e=v.get("me"),t=e.getPlan(),n=new y({tolerance:1,giveUp:15,backoffRate:1.5,maxDelay:15e3,enabled:!1}),i=function(){e.fetch().always(n.failed.bind(n))},s=function(i){t!==i.getPlan()&&(q.updatedPlan(),this.stopListening(n).stopListening(e))};this.listenTo(n,"enabled",i).listenTo(e,"change:subscriptions",s)}},{orderStates:{FAILED:j,PENDING:H,SUCCESSFUL:V},orderAction:{ABORT:"abort",RETRY:"retry",CANCEL:"cancel"},paymentFailStates:{CANCEL:"cancelled.user",GENERIC:"declined.generic",INSUFFICIENT_BALANCE:"declined.insufficient_balance",INVALID_CARD:"declined.invalid_card",PAYPAL_GENERIC:"declined.paypal.generic",PROCESSING_PROBLEM:"declined.processing_problem",REFUND:"refunded.system",ERROR_FRONTEND:"error.frontend"}})}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function i(e){var n=e.method,i="json"===e.dataType,s="get"===n,r=i&&!s?JSON.stringify(e.data):e.data;return t.ajax({url:e.url,type:n,data:r,contentType:i?"application/json":null,processData:!s,timeout:e.timeout}).then(function(e,t,n){return{body:e,status:n.status,headers:{}}})}function s(e){return e.replace(c,"/$&")||"/"}function r(e,t,n,i,r){return u.stringify({scheme:e,host:t,port:n,path:s(i),query:r})}var o=n(955),a=n(940),l=n(1005),u=n(67),c=/^[^\/]/;e.exports=o({endpoints:a,services:l},i,r)}).call(t,n(1))},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"assets/images/statistics/jumpmonth-a98e52.png"},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e){o["default"](e)}t.__esModule=!0,t.registerDefaultDecorators=s;var r=n(2349),o=i(r)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function s(e){o["default"](e),l["default"](e),c["default"](e),h["default"](e),f["default"](e),m["default"](e),_["default"](e)}t.__esModule=!0,t.registerDefaultHelpers=s;var r=n(2350),o=i(r),a=n(2351),l=i(a),u=n(2352),c=i(u),d=n(2353),h=i(d),p=n(2354),f=i(p),g=n(2355),m=i(g),v=n(2356),_=i(v)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4),s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(s.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=s.lookupLevel(e),"undefined"!=typeof console&&s.lookupLevel(s.level)<=e){var t=s.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];console[t].apply(console,i)}}};t["default"]=s,e.exports=t["default"]},,function(e,t,n){function i(e,t){return r.t(e,t.hash,{comment:t.hash._comment,context:t.hash._context})}function s(e){return r.t(o.cleanBlockText(e.fn()),e.hash,{comment:e.hash._comment,context:e.hash._context})}var r=n(64),o=n(736);e.exports=function(){var e=arguments.length;if(2===e)return i.apply(this,arguments);if(1===e)return s.apply(this,arguments);throw new Error("Invalid signature to t helper, expected 1 or 2 arguments, got "+e)}},function(e,t,n){var i=n(21),s=n(766);e.exports=function(){return new i.SafeString(s.handlebarHelper.apply(this,arguments))}},function(e,t,n){(function(t){"use strict";function i(e,t){for(var n=this;n&&!t.isPropagationStopped();)n.trigger(e,t),n=n._parentView}function s(e,t){return b.defaults(t,e.prototype.defaults),e===k?t:s(e.__super__.constructor,t)}function r(e,t,n){var i=e?"on":"off";n?t||(t=n.source):n=l.call(this,t),u(n).forEach(function(e){t[i]("change:"+e,this._onModelChange,this)},this)}function o(e,t){var n=e?"on":"off";t[n]("add",this.onAdd,this)[n]("remove",this.onRemove,this)[n]("reset",this.onCollectionReset,this)[n]("add remove reset",this.onCollectionChange,this)}function a(e){var t=e.source,n=e.options;n.isModel?r.call(this,!1,null,e):o.call(this,!1,t),t.release()}function l(e){return b.filter(this._dataSources,function(t){return t.source===e})}function u(e){var t=[];return e=Array.isArray(e)?e:[e],e.forEach(function(e){var n=e.options.observedAttributes,i=c(e);n&&!Array.isArray(n)&&(n=n[e.source.resource_type]),t=t.concat(n?n.concat(i):i)}),t}function c(e){var t=e.options.requiredAttributes;return t&&!Array.isArray(t)&&(t=t[e.source.resource_type]),t||[]}function d(e){var t=e.options.observedAttributes,n=e.source;return t&&t.length&&!n.isPopulated()&&!n.hasDataForView(t)}var h=n(27),p=n(259),f=n(2),g=n(1063),m=n(72),v=n(66),_=n(334),y=n(339),b=n(3),w=46,x=47,k=e.exports=h.View.extend(_,{ModelClass:null,requiredAttributes:null,observedAttributes:null,css:null,template:b.noop,LoadingView:null,loadingViewArgs:null,loadingTemplate:function(){return""},element2selector:null,_element2selector_cache:null,defaults:{bulkFetch:0},bubbleEvents:null,disposed:!1,subviews:null,_subviews_keys:null,_lastEventId:null,constructorArguments:null,_whenInsertedDefer:null,_deferreds:null,_dataSources:null,initialize:function(e){var t;e=this.options=s(this.constructor,e||{}),this.constructorArguments=b.clone(e),e.resource_id&&this.ModelClass&&(this.model=t=this.getModel(e.resource_id,e.resource_type)),this._deferreds=[],this.subviews=[],this._subviews_keys=[],this._dataSources=[],this.resetElementCache(),this._setupBubbleListeners(),this._setup(e),t&&this.model!==t&&t.release(),this.model?this.addDataSource(this.model,{observedAttributes:this.observedAttributes,requiredAttributes:this.requiredAttributes}):this.collection&&this.addDataSource(this.collection)},_setup:function(e){this.setup(e)},setup:b.noop,_dispose:function(){if(!this.disposed){for(this._teardown(),this.dispose(),this.disposed=!0;this._deferreds.length;)"number"==typeof this._deferreds[0]?window.clearTimeout(this._deferreds.shift()):this._deferreds[0].reject("viewDisposed");for(this.off(),this.stopListening();this._dataSources.length;)a.call(this,this._dataSources.shift());this.destroyElement(),["el","$el","model","collection","constructorArguments"].forEach(function(e){this[e]&&(this[e]=null)},this)}},destroyElement:function(){this.$el.remove()},dispose:b.noop,_teardown:function(){this.disposeSubviews(),this._whenInsertedDefer&&(this._whenInsertedDefer.reject(),this._whenInsertedDefer=null),this.teardown(),this.resetElementCache()},teardown:b.noop,disposeSubviews:function(){for(;this.subviews.length;)this.subviews.pop()._dispose();this.subviews=[],this._subviews_keys=[]},getModel:function(e,t,n){var i,s,r,o,a;return o={id:e,resource_type:t},r=this.ModelClass.getClass?this.ModelClass.getClass(o):this.ModelClass,i=r.hashFn(o,n),s=r.instances.get(i),s?s.hold():(a={id:e},t&&(a.resource_type=t),s=new r(a)),s},_setupBubbleListeners:function(){var e,t;for(t in this.bubbleEvents)this.bubbleEvents.hasOwnProperty(t)&&(e=this.bubbleEvents[t],this.on(t,this[e],this))},getObservedAttributes:function(e){var t=l.call(this,e);return u(t)},addDeferred:function(e){var t=this;return"number"==typeof e?this._deferreds.push(e):e.reject&&"pending"===e.state()&&(e.always(function(){var n=t._deferreds.indexOf(e);n>-1&&t._deferreds.splice(n,1)}),this._deferreds.push(e)),e},addTimeout:function(e,t){return this.addDeferred(window.setTimeout(e,t))},addDataSource:function(e,t){var n=e instanceof m;return t=b.clone(t)||{},n?(b.defaults(t,{isModel:!0,requiredAttributes:null,observedAttributes:null}),this._dataSources.push({source:e,options:t}),r.call(this,!0,e)):(b.defaults(t,{isCollection:!0}),this._dataSources.push({source:e,options:t}),o.call(this,!0,e)),e},removeDataSource:function(e){this._dataSources.some(function(t,n){return t.source===e?(a.call(this,t),this._dataSources.splice(n,1),!0):void 0},this)},addSubview:function(e,t){return e._parentView=this,this.subviews.push(e),this._subviews_keys.push(t),t&&(this.subviews[t]=e),e},removeSubview:function(e){for(var t=this.subviews.length;t--;)if(this.subviews[t]===e)return this._subviews_keys[t]&&delete this.subviews[this._subviews_keys[t]],e._parentView=null,this.subviews.splice(t,1),void this._subviews_keys.splice(t,1)},getAncestorSubviews:function(){var e=[];return this.subviews.forEach(function(t){e.push(t),e=e.concat(t.getAncestorSubviews())}),e},getElement:function(e){var t;return this._element2selector_cache[e]===t&&(this._element2selector_cache[e]=this.$(this.element2selector[e])),this._element2selector_cache[e]},resetElementCache:function(){this._element2selector_cache={}},render:function(){var e,t=this,n=this.hasData(),i=this.getTemplate(n);return i&&(e=this._getTemplateData(n),y.render(i.bind(this),e,this.el),y.subviews(this)),n?!function(){t.renderDecorate();var e=t._dataSources.filter(d);e.length&&t.addTimeout(function(){b.invoke(b.pluck(e,"source"),"fetch")},0)}():(!i&&this.LoadingView&&this.addSubview(new this.LoadingView(b.result(this,"loadingViewArgs")),"loading").render().$el.appendTo(this.el),this.fetchData().fail(this.removeLoader.bind(this))),this},hasData:function(){return!this._dataSources.some(this.missingRequiredData,this)},fetchData:function(){var e,t,n=this,i=this._fetchDeferred;return i||(e=this._dataSources.filter(this.missingRequiredData,this),t=e.length,t?(this._fetchDeferred=i=t>1?v.settled(e.map(this.fetchDataFromSource,this)):this.fetchDataFromSource(e[0]),i.always(function(){n._fetchDeferred=null})):i=v.resolve()),i},missingRequiredData:function(e){var t;return e.options.isModel&&(t=c(e),!t.length)?!1:!e.source.hasDataForView(t)},fetchDataFromSource:function(e){var t=e.source,n=this.options.bulkFetch;return e.options.isCollection&&n?t.bulkFetch(n):t.fetch({attrs:u(e),reset:!0})},renderDecorate:b.noop,rerender:function(){this.disposed||(this._teardown(),this.render())},getTemplate:function(e){return e||!this.LoadingView&&!this.loadingTemplate?this.template:this.LoadingView?null:this.loadingTemplate},_getTemplateData:function(e){var t={};return this.model?t=this.getModelData():this.collection&&(t=this.getCollectionData()),t._options=b.clone(this.options),e&&(t=this.getTemplateData(t)||t),t},getTemplateData:b.noop,getCollectionData:function(){return this.collection.toJSON()},getModelData:function(){return this.model.toJSON()},bubble:function(e,t){var n=new g(t);return i.apply(this,[e,n]),n},getContextData:function(){return this.bubble("contextrequest").data},removeLoader:function(){var e=this.subviews.loading;e&&(e._dispose(),this.removeSubview(e))},scrollIntoView:function(){var e,n,i,s,r,o,a,l,u,c,d=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],h=d.position,f=void 0===h?"auto":h,g=d.topOffset,m=void 0===g?20:g,_=d.bottomOffset,y=void 0===_?20:_,b=this.$el.offset(),k=v.defer(),S=0;return b?(l=t(".g-main-scroll-area").first(),l.length||(l=t("#content"),S=w),r=t(window.document).scrollTop(),u=l.offset().top,s=t(window).height()-x,n=r+u,i=r+s,o=Math.floor(b.top),a=Math.floor(o+this.$el.height()),e=o>n&&i>a,e?k.resolve():(c="top"===f||"auto"===f&&n>o?o-u-m-S:a-s+y,p.visible()?t("body,html").animate({scrollTop:c},{complete:k.resolve,duration:300}):(t("body,html").prop({scrollTop:c}),k.resolve())),k):!1},isEquivalentTo:function(e,t){var n=t||{};return this.constructor===e&&b.isEqual(s(e,n),this.constructorArguments)},whenInserted:function(e){return this._whenInsertedDefer||(this._whenInsertedDefer=f.pollForInsertion(this.$el,e)),this._whenInsertedDefer},_onModelChange:function(e,t,n,i){this._lastEventId!==i&&(this._lastEventId=i,this.onModelChange(e,t,n))},onModelChange:function(){this.rerender()},onCollectionChange:function(e,t){2===arguments.length&&(t=e),this.disposed||this.trigger("update:collection",t.length)},onCollectionReset:function(){this.rerender()},onAdd:b.noop,onRemove:b.noop})}).call(t,n(1))},function(e,t,n){"use strict";function i(e,t,n){n=n||{};var i=r.t(e,t,n.context,n.comment);return new a.SafeString(i)}function s(e,t,n,i,s){s=s||{};var o=r.tp(e,t,n,i,s.context,s.comment);return new a.SafeString(o)}var r,o,a=n(21),l=n(959),u=n(945);e.exports={initialize:function(){var e=window.__sc_locale||{};o=window.document.documentElement.getAttribute("lang"),r=r||new l,r.setLocale(o),r.extend(e[o]),this.numberHelper=r.number,this.dateTimeHelper=r.dateTime},t:i,tp:s,tPending:i,tpPending:s,getLocale:function(){return o},getCurrentLanguage:function(){return u.experimentalAndPublicLanguages[o]},getD3LocaleData:function(){return r.getLocaleDataFor("d3")},getDatePickerLocaleData:function(){return r.getLocaleDataFor("jquery.datepicker")}}},function(e,t,n){var i=n(71);e.exports=function(){var e=Array.prototype.slice.call(arguments,0,-1);return i.getRoute.apply(i,e)}},function(e,t,n){"use strict";var i=n(1),s=e.exports={defer:function(e){var t=i.Deferred();if(!e)return t;if("function"==typeof e){var n=t.promise();return e.call(n,t.resolve,t.reject),n}return e&&"function"==typeof e.then&&e.then(t.resolve,t.reject),t},settled:function(e){if(e&&e.length){var t=i.Deferred(),n=e.length,s=Array(n),r=!1,o=function(){r=!0};return e.forEach(function(e,i){e.fail(o).always(function(){for(var e=arguments.length,o=Array(e),a=0;e>a;a++)o[a]=arguments[a];s[i]=o,0===--n&&(r?t.reject.apply(t,s):t.resolve.apply(t,s))})}),t}return i.Deferred().resolve()},all:function(e){return i.when.apply(i,e)},resolve:function(e){return i.Deferred().resolve(e)},reject:function(e){return i.Deferred().reject(e)},promisify:function(e){return function(){for(var t=arguments.length,n=Array(t),s=0;t>s;s++)n[s]=arguments[s];var r=i.Deferred();return n.push(function(e,t){e?r.reject(e):r.resolve(t)}),e.apply(void 0,n),r.promise()}},call:function(e){var t=i.Deferred();try{for(var n=arguments.length,s=Array(n>1?n-1:0),r=1;n>r;r++)s[r-1]=arguments[r];t.resolve(e.apply(void 0,s))}catch(o){t.reject(o)}return t.promise()},mapEither:function(e,t){return t.then(e,e)},sequential:function(e){return e.reduce(function(e,t){return e.then(t,function(){return t().then(s.reject)})},i.Deferred().resolve())},delay:function(e){var t=s.defer();return window.setTimeout(function(){t.resolve()},e),t}}},function(e,t,n){"use strict";var i,s=n(3),r=n(93),o=n(697),a=n(162);i=r.pushState?s.identity:function(e){return e&&e.replace(/#/,"")};var l=e.exports=s.defaults({parse:function(e,t){return e=i(e),o.parse(i(e),t)},getQueryParam:function(e,t){return l.getQueryParams(t)[e]},getFragmentParam:function(e){return r.pushState?l.parseQueryString(window.location.hash.substring(1))[e]:void 0},removeFragmentParam:function(e,t){return t=t||window.location.href,t.replace(new RegExp("#(?:(.+)&?)?"+a.regexpEscape(e)+"(?:=[^&]*(?:&|$))?"),"#$1").replace(/#$/,"")},getQueryParams:function(){var e,t;return function(n){var i=n||(r.pushState?window.location.search:window.location.hash.replace(/^[^?]*/,""));return i!==e&&(e=i,t=l.parseQueryString(i)),t}}(),getQueryString:function(e){return e?e.replace(/^[^?#]*(\?[^#]*)?(?:#.*)?$/,"$1"):r.pushState?window.location.search:window.location.hash.replace(/^[^?]*/,"")}},o)},function(e,t,n){(function(t){"use strict";function i(e,t){return e.get?e.get(t):e[t]}function s(e,t){this.has(e)&&this.set(e,Math.max(0,this.get(e)+(t?1:-1)))}function r(e,t){s.call(this,e.isPrivate()?"private_tracks_count":"track_count",t)}function o(e){c.each({follow:e.onFollow,like:e.onLikesChanged,repost:e.onReposted,comment:e.onComment,destroy:e.onDeleteResource,createPlaylist:e.onPlaylistCreate},function(t,n){e.listenTo(d,n+":origin:user:"+e.id,t)})}function a(e){s.call(this,"followers_count",e.state)}function l(){
return{product:{id:E,name:""},recurring:!1}}function u(){return{product:{id:D,name:"Free"},recurring:!1}}var c=n(3),d=n(76),h=n(22),p=n(156),f=n(754),g=n(192),m=n(332),v=n(193),_=n(755),y=n(72),b=n(941),w=n(66),x=n(395),k=n(944),S=n(151),T=n(26),A=T.productIds,E=A.CONSUMER_SUBSCRIPTION_FREE,C=A.CONSUMER_SUBSCRIPTION_HIGH_TIER,D=A.CREATOR_SUBSCRIPTION_FREE,I=[{emitter:d,event:"follow",getInstance:function(e,t){var n=t.target;return e.id===n},handler:a}];e.exports=y.extend(f,_,x.withOptions({types:k.user}),v.withOptions({attr:"username"}),g.withOptions({read:"avatar_url",write:"avatar_data"}),m,S.withOptions({events:I}),{resource_type:"user",urnPrefix:"soundcloud:users",saveFormat:"json",saveWithWrapper:!1,_connections:null,setup:function(){var e=this;this.has("creator_subscriptions")&&!this.has("subscriptions")&&(this.set("subscriptions",this.get("creator_subscriptions")),this.unset("creator_subscriptions")),this.options.isMe&&(this.id?o(this):this.once("change:id",function(){o(e)}))},baseUrl:function(){var e=this.id;return e?this.getEndpointUrl("user",{id:e}):"you"===this.get("permalink")?this.getEndpointUrl("me"):void 0},ownerUrl:function(){return this.getEndpointUrl("userAsOwner",{urn:this.getUrn()})},getImageSaveUrl:function(){return this.getEndpointUrl("userImageUpdate",{id:this.id})},ownerAttributes:["default_tracks_feedable","cpp","downloads_disabled","hidden_tracks_count","blocked_tracks_count","default_license","primary_email","primary_email_confirmed","date_of_birth","gender"],parse:function(e){return e.primary_email_confirmed=e.primary_email_confirmed!==!1,e.creator_subscriptions&&(e.subscriptions=e.creator_subscriptions,delete e.creator_subscriptions),e.visuals&&e.visuals.visuals&&(e.visuals=e.visuals.visuals),"undefined"==typeof e.country_code&&"undefined"!=typeof e.country&&(e.country_code=p.countryToCode(e.country)),e},onLikesChanged:function(e){s.call(this,"likes_count",e.state)},hasLikes:function(){return this.get("likes_count")>0||this.get("public_favorites_count")>0},hasPlaylists:function(){return this.get("playlist_count")>0||this.get("private_playlists_count")>0},hasFollowings:function(){return this.get("followings_count")>0},onFollow:function(e){s.call(this,"followings_count",e.state)},onReposted:function(e){s.call(this,"reposts_count",e.state)},onComment:function(e){e.state&&s.call(this,"comments_count",!0)},onDeleteResource:function(e){var t=e.targetModel;switch(t.resource_type){case"sound":this.adjustUploadSeconds(t),this.owns("sound",t)&&r.call(this,t,!1);break;case"comment":this.owns("comment",t)&&s.call(this,"comments_count",!1)}},onPlaylistCreate:function(e){var t="private"===e.object.get("sharing")?"private_playlists_count":"playlist_count";this.set(t,(this.get(t)||0)+1)},owns:function(e,t){void 0===t&&(t=e,e=t.resource_type);var n,s=this.id;if(!s)return!1;switch(e){case"comment":case"playlist":case"sound":return s===i(t,"user_id");case"group":return n=i(t,"creator"),!!n&&s===n.id;case"user":return s===i(t,"id");case"sound-upload-edit":case"playlist-upload":case"playlist-edit":case"profile-settings":return!0}return!1},canDownload:function(e){return"sound"===e.resource_type&&e.get("downloadable")&&e.get("has_downloads_left")!==!1},getCountry:function(){var e=this.get("country_code");return e?p.codeToCountry(e):this.get("country")},getCountryCode:function(){var e=this.get("country");return e?p.countryToCode(e):this.get("country_code")},getPlan:function(){return this.getCreatorSubscription().product.id},getConsumerPlan:function(){return this.getConsumerSubscription().product.id},getPlanName:function(){return this.getCreatorSubscription().product.name},isCPPEnabled:function(){return!!this.get("cpp")},getCPPOption:function(e,t){var n=this.get("cpp");return null!=(n&&n.config&&n.config[e])?n.config[e]:t},canEditMonetization:function(){return this.getCPPOption("can_edit_monetization",!0)},canEditDownloadable:function(){return this.getCPPOption("can_edit_downloadable",!0)},canEditRssEnabled:function(){return this.getCPPOption("can_edit_rss_enabled",!0)},hasGeoblocking:function(){return this.isCPPEnabled()||h.get("rollouts").get("geo_blocking_settings")},hasMonetization:function(){return this.getCPPOption("has_monetization_form")},hasFullScheduling:function(){return this.isCPPEnabled()||h.get("rollouts").get("scheduled_publishings")},hasToPublicScheduling:function(){return this.isCPPEnabled()||h.get("rollouts").get("scheduled_publishings_only_sunrise_to_public")},hasAnyScheduling:function(){return this.hasFullScheduling()||this.hasToPublicScheduling()},hasMonthlyPlan:function(){return this.getCreatorSubscription().recurring},isPremium:function(){var e=this.getPlan();return e&&e!==D},hasHighTier:function(){return this.getConsumerPlan()===C},hasProPlanLevel:function(){return 1===this.getPerk("planLevel")},getConsumerSubscription:function(){var e=this.get("consumer_subscriptions");return e&&e[0]||l()},getCreatorSubscription:function(){var e=this.get("subscriptions");return e&&e[0]||u()},getPerk:function(e){var t=this.getPlan();if(t)return b.get(t,e)},isPublisherBlocked:function(){var e=this.get("publisher_state");return!(!e||!e.is_included)},getPermalink:function(){return this.get("permalink_url").replace(/^https?:.+?\w\//,"/")},isMe:function(){return this===h.get("me")&&!!this.id},hasConnection:function(e){var n=this,i=w.defer(),s=this.isMe();return this._connections||!s?i.resolve(s&&this._connections.indexOf(e)>-1):t.ajax({url:this.getEndpointUrl("meConnections"),dataType:"json"}).done(function(t){n._connections=t.map(function(e){return e.type}),i.resolve(n._connections.indexOf(e)>-1)}).fail(i.resolve.bind(i,!1)),i},getNumTracks:function(e){var t=this.get("track_count")||0,n=this.get("private_tracks_count")||0,i=this.get("blocked_tracks_count")||0,s=this.get("hidden_tracks_count")||0;switch(e){case"public":return t;case"private":return n;case"hidden":return s;case"blocked":return i;default:return t+n+s+i}},getNumPlaylists:function(e){var t=this.get("playlist_count")||0,n=this.get("private_playlists_count")||0;switch(e){case"public":return t;case"private":return n;default:return t+n}},hasOwnSounds:function(){return!!(this.get("track_count")||this.get("private_tracks_count")||this.get("playlist_count")||this.get("private_playlists_count"))},hasSounds:function(){return!!(this.get("track_count")||this.get("private_tracks_count")||this.get("reposts_count")||this.get("playlist_count")||this.get("private_playlists_count"))},hasPublicSounds:function(){return!!(this.get("track_count")||this.get("reposts_count")||this.get("playlist_count"))},adjustUploadSeconds:function(e,t){var n,i,s,r=e.get("duration");r&&(n=Math.round(r/1e3)*(t?-1:1),i=this.getUploadSecondsLeft()+n,s=this.getUploadSecondsUsed()-n,this.setUploadSeconds(i,s))},setUploadSeconds:function(e,t){var n=c.clone(this.get("quota"));n&&(n.upload_seconds_used=t,n.unlimited_upload_quota||(n.upload_seconds_left=e),this.set("quota",n))},getUploadSecondsLeft:function(){var e=this.get("quota");return e?e.unlimited_upload_quota?1/0:e.upload_seconds_left:void 0},getUploadSecondsUsed:function(){var e=this.get("quota");return e?e.upload_seconds_used:0},getUploadSeconds:function(){var e=this.getUploadSecondsLeft();return e===1/0?e:e+this.getUploadSecondsUsed()},hasUnlimitedUpload:function(){return this.getUploadSecondsLeft()===1/0},getUploadMinutesLeft:function(){var e=this.getUploadSecondsLeft();return(0>e?Math.floor:Math.ceil)(e/60)},getUploadMinutesUsed:function(){return Math.round(this.getUploadSecondsUsed()/60)},isOverQuota:function(){return this.getUploadSecondsLeft()<0},getRSSFeedUrl:function(){return"http://feeds.soundcloud.com/users/"+this.getUrn()+"/sounds.rss"}},{normalize:function(e){return e.avatar_url&&(e.avatar_url=e.avatar_url.replace("http:","https:").replace(/\?.*/,"")),e},resolve:function(e){return"you"===e?w.resolve(h.get("me")):y._resolve(this,e,function(t){return t.hasPermalink(e)})}})}).call(t,n(1))},,function(e,t,n){"use strict";function i(){this._visuals||(this._visuals=new k(null,{resource_id:this.id})),this._visuals.reset(this.get("visuals"),{parse:!0}),this._visuals.lastFetchTime=Date.now()}function s(){var e=!this.isBlocked()&&this._streamsExist;e!==this._playable&&(this._playable=e,this.trigger("change:playable",e))}var r=n(3),o=n(76),a=n(177),l=n(786),u=n(753),c=n(1050),d=n(1097),h=n(23),p=n(754),f=n(192),g=n(332),m=n(193),v=n(755),_=n(72),y=n(95),b=n(1100),w=n(756),x=n(151),k=n(713),S=n(67),T=n(68),A=r.constant(1),E=function(){return this},C=r.constant(void 0),D=.25,I="BLOCK",M="SNIP",P="MONETIZE",L="ALLOW",F=function(e,t){var n=t.target,i=t.targetType;return e.id===n&&"sound"===i},N=[{emitter:o,event:"like",getInstance:F,handler:function(e){this.onLike(e)}},{emitter:o,event:"repost",getInstance:F,handler:function(e){this.onRepost(e)}},{emitter:o,event:"comment",getInstance:F,handler:function(e){this.onComment(e)}}],O=(e.exports=_.extend(d.withOptions({batchEndpoint:"trackBatch",getBatchParams:function(e){var t=e.playlist;return{playlistId:t&&t.id,playlistSecretToken:t&&t.get("secret_token")}}}),u,p,v,b,m.withOptions({attr:"title"}),f.withOptions({read:"artwork_url",write:"artwork_data"}),g,w,x.withOptions({events:N}),{resource_type:"sound",urnPrefix:"soundcloud:tracks",getEndpointForMethod:function(e){return"read"===e?"track":null},audio:null,_visuals:null,submodelMap:{user:T,created_with:l},timeOffset:0,playlist:null,originalSound:null,ownerAttributes:["scheduled_public_date","scheduled_private_date","scheduled_timezone","geo_blockings","managed_by_feeds","publisher_state","reveal_comments","reveal_stats"],_streamsExist:!0,_playable:!0,setup:function(e,t){var n=!(!t||!t.suppressGlobalEvents);this.createAudio(),this.on("play",O("play",n),this).on("pause",O("pause",n),this).on("seeked",O("seeked",n),this).on("finish",O("finish",n),this).on("playStart",O("playStart",!0),this),this.getSounds=r.memoize(this.getSounds),this.listenTo(this,"change:visuals",i).listenTo(this,"change:policy",s),this.attrExists("visuals")&&i.call(this),s.call(this)},getSubmodelOptions:function(e){return"user"===e?{parse:!0}:null},ownerUrl:function(){return this.getEndpointUrl("trackAsOwner",{urn:this.getUrn()})},parse:function(e){var t=e.schedule;return e.scheduled_timezone=t&&t.timezone,e.scheduled_public_date=t&&Date.parse(t.sunrise),e.scheduled_private_date=t&&Date.parse(t.sunset),e},baseUrl:function(){return this.getEndpointUrl("track",{urn:this.getUrn()})},destroyUrl:function(){return this.getEndpointUrl("trackDelete",{id:this.id})},streamsUrl:function(){return this.getEndpointUrl("trackStreams",{id:this.id})},registerUrl:function(e){return this.getEndpointUrl("trackRegisterPlayback",{id:this.id},{client_event_id:e,policy:this.get("policy")})},getImageSaveUrl:function(){return this.getEndpointUrl("trackPatchUpdate",{id:this.id})},extractSecretToken:function(e){return S.parse(e.uri).query.secret_token},play:function(e){this.playlist?(this.playlist.setCurrentSound(this),this.playlist.play(e)):this.audio.play(e)},pause:function(e){this.playlist?this.playlist.pause(e):this.audio.pause(e)},seek:function(e){this.audio.seek(e)},seekRelative:function(e){this.audio.seekRelative(e)},getSounds:function(){return[this]},getCurrentSound:E,getFirstSound:E,getLastSound:E,getNumSounds:A,getPrevSound:C,getNextSound:C,getSoundIndex:function(e){return e===this?0:-1},isBuffering:function(){return this.audio.isBuffering()},isPlaying:function(){return this.audio.isPlaying()},loadProgress:function(){return this.audio.loadProgress()},currentTime:function(){return this.audio.currentTime()},getListenTime:function(){return this.audio.getListenTime()},isNowPlaying:function(){return y.getCurrentSound()===this},progress:function(){return this.currentTime()/this.duration()},duration:function(){return this.get("full_duration")||this.get("duration")},getMediaDuration:function(){return this.get("duration")},isPlayable:function(){return this._playable},setHasStreamInfo:function(e){this._streamsExist!==e&&(this._streamsExist=e,s.call(this))},isProcessing:function(){var e=this.get("state");return"finished"!==e&&null!=e},isEditing:function(){return!1},isCommentable:function(){return this.get("commentable")!==!1},isManagedByFeeds:function(){return!!this.get("managed_by_feeds")},isMonetizable:function(){return!!this.get("monetization_enabled")},isMonetizablePending:function(){var e=this.get("monetization");return!this.isMonetizable()&&!!(e&&e.territories&&e.territories.length>0)},isPublisherBlocked:function(){var e=this.get("publisher_state");return!(!e||!e.blocked_because_of_publishers)},hasScheduledPrivacy:function(){return!(!this.get("scheduled_public_date")&&!this.get("scheduled_private_date"))},isGeoblocked:function(){var e=this.get("geo_blockings");return!(!e||!e.length)},isBlocked:function(){return this.get("policy")===I},isSnippetized:function(){return this.get("policy")===M},isMonetized:function(){return this.get("policy")===P},isAllowed:function(){return this.get("policy")===L},getOriginalSound:function(){return this.originalSound||this},hasMinPlayTime:function(){return this.audio.getListenTime()>=D*this.getMediaDuration()},createAudio:function(){this.audio=c.createAudioFromSound(this)},initAudio:function(){this.audio&&this.audio.initAudio()},toJSON:function(){var e=_.prototype.toJSON.apply(this,arguments);return e._playlist={},this.playlist&&r.each(["id","permalink","permalink_url","secret_token","user_id"],function(t){e._playlist[t]=this.playlist.get(t)},this),e},saveUrl:function(e){return e?this.getEndpointUrl("trackPatchUpdate",{id:this.id}):this.isNew()?this.getEndpointUrl("trackCreate"):this.getEndpointUrl("trackUpdate",{urn:this.getUrn()})},saveFormat:"json",getAttributesToBeSaved:function(){var e=["api_streamable","commentable","description","downloadable","embeddable","feedable","genre","isrc","label_name","license","monetization","original_filename","permalink","purchase_title","purchase_url","release_date","replacing_uid","replacing_original_filename","reveal_comments","reveal_stats","sharing","shared_to","tag_list","title","uid","geo_blockings","publisher_metadata","restrictions","rightsholders"].reduce(function(e,t){return null!=this[t]&&(e[t]=this[t]),e}.bind(this.attributes),{});return r.assign(e,r.pick(this.attributes,["scheduled_private_date","scheduled_public_date","scheduled_timezone","scheduled_public_timezone"])),e},setMonetizableTrack:function(e){e.hold(),this.addSubmodel(e),this._monetizableTrack=e},getMonetizableTrack:function(){return this._monetizableTrack}},{states:{READY:"ready",PROCESSING:"processing",FAILED:"failed",FINISHED:"finished"},hashFn:function(e){var t=e.resource_id;if(t){if("object"==typeof t){if("playlist_id"in t)return[t.playlist_id,t.sound_id].join("_");if("ad_target_id"in t)return["ad",t.ad_target_id,t.sound_id].join("_")}return t}return e.id||null},resolve:function(e,t,n){return _._resolve(this,[e,t,n],function(n){var i=n.get("user");return i&&n.get("permalink")===t&&i.permalink===e})},normalize:function(e){var t=e.waveform_url;return t&&t.indexOf("/w1.")>-1&&(e.waveform_url=t.replace(/\/w1\./,"/wis.")),e},onCleanup:function(e){return e._visuals&&(e._visuals.release(),e._visuals=null),e.audio.dispose(),_.onCleanup.apply(this,arguments)}}),r.memoize(function(e,t){return function(n){var i=r.toArray(arguments);n&&n.sound===a.getCurrentSound()&&(n.ad=a.getCurrentAd()),t||h.trigger.apply(h,["audio:"+e].concat(i)),h.trigger.apply(h,["tracking:"+e].concat(i))}},function(e,t){return e+(t?"":"-global")}))},function(e,t,n){(function(t){"use strict";function i(e,n){var i,s;this.currentLayout&&(e!==this.currentLayout&&this.currentLayout.dispose(),g.trigger("layout:beforeChange",this._currentLayoutInfo)),this.currentLayout=e,s=this._currentLayoutInfo=e.getChangeEventData(n),i=t("#content"),e.render(),i.children()[0]!==e.el&&i.empty()[0].appendChild(e.el),g.trigger("layout:change",s)}function s(e){return e._navigationBlocks.filter(r).map(function(e){return e.callback}).filter(d.identity).reduce(function(e,t){return t(e)!==!1&&e},!0)}function r(e){return!e.condition||e.condition()}function o(){return v.pushState?window.location.href:"https://"+window.location.hostname+"/"+window.location.hash.replace(/^[#\/]/,"")}function a(e,t){("popstate"!==t.type||s(e))&&h.History.prototype.checkUrl.call(this,t)}var l,u,c,d=n(3),h=n(27),p=n(22),f=n(25),g=n(23),m=n(66),v=n(93),_=n(67),y=300,b=e.exports=h.Router.extend({currentLayout:null,_currentLayoutInfo:null,_navigationBlocks:null,_navCount:0,initialize:function(){this._navigationBlocks=[],d.bindAll(this,"onBeforeUnload","detachCurrentLayout"),h.history.checkUrl=a.bind(h.history,this)},setRoutes:function(e,t){var n=this;l=e,u=t,c=l.slice(0).reverse(),e.forEach(function(e){n.route(e.route,e.name,e.handler)})},setLoader:function(e){this.loader=e},reload:function(){this.match(window.location.href.replace(/^https?:\/\/[^\/]+\//,""))},addNavigationBlock:function(e,n,i){var s,r=d.uniqueId();return s=this._navigationBlocks.unshift({id:r,exitSiteMessage:e,callback:n,condition:i}),1===s&&t(window).on("beforeunload",this.onBeforeUnload),r},removeNavigationBlock:function(e){var n,i=this._navigationBlocks;for(n=i.length;n--;)if(i[n].id===e){i.splice(n,1);break}i.length||t(window).off("beforeunload",this.onBeforeUnload)},isNavigationBlocked:function(){return this._navigationBlocks.some(r)},onBeforeUnload:function(){var e=d.find(this._navigationBlocks,r);return e&&e.exitSiteMessage},navigateToRoute:function(e,t,n){var i,s=[e];t&&t.length&&(s=s.concat(t)),i=b.getRoute.apply(b,s),this.navigate(i,n)},navigate:function(e,t){s(this)&&(t&&t.hard?window.location.href=e:h.Router.prototype.navigate.call(this,e,t))},match:function(e){return h.history.loadUrl(e)},getUrlInfo:function(e){var t,n,i,s=_.parse(e);return s.path?(t=s.path.substring(1),i=d.find(c,function(e){return e.route.test(t)}),i&&(n={name:i.name,params:this._extractParameters(i.route,t)}),n):void 0},apply:function(e,t){var n,s,r=this,o="layouts/"+e;++this._navCount,this.setupDeferred&&this.setupDeferred.reject(),this.setupDeferred=s=m.defer(),n=window.setTimeout(this.detachCurrentLayout,y),this.loader.loadLayout(o).always(window.clearTimeout.bind(window,n)).done(function(n){if("rejected"!==s.state()){var o=r.currentLayout instanceof n?r.currentLayout:new n;o.setArgs(t),r.setupDeferred=o.setup(t).done(i.bind(r,o,e,t))}})},notImplemented:function(e){var t=o();e&&(t=e(t)),window.open(t),window.history.go(-1)},isLoggedIn:function(){return f.isLoggedIn()},getRolloutValue:function(e){return p.get("rollouts").get(e)},getExperimentValue:function(e,t){return p.get("experiments").get(e,t)},getCurrentUserPermalink:function(){return p.get("me").get("permalink")},getQueryParams:function(e){return _.getQueryParams(e)},getQueryString:function(e){return _.getQueryString(e)},getLayoutInfo:function(){return this._currentLayoutInfo},getRouteInfo:function(e){return d.find(l,function(t){return t.name===e})},getNavCount:function(){return this._navCount},unauthenticated:function(){g.trigger("tracking:unauthenticated-access"),this.navigate("/",{replace:!0,trigger:!0})},detachCurrentLayout:function(){this.currentLayout&&this.currentLayout.$el.detach()}},{getRoute:function(e){var t,n;if(t=d.find(l,function(t){return t.name===e})){if(n=u[e])return n.apply(this,[].slice.call(arguments,1))}else;},includeSecretTokenForSound:function(e){var t=p.get("me");return!(!e.secret_token||t.owns("sound",e))},includeSecretTokenForPlaylist:function(e){var t=p.get("me");return!(!e.secret_token||t.owns("playlist",e))}})}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function i(e,n){function i(e,t){var n=/tracks\/([0-9]+)/.exec(t)||[],i=n[1],s=/playlists\/([0-9]+)/.exec(t)||[],r=s[1],o=u.get("public_api_host"),a=u.get("api_v2_host");return i?t.replace(o,a).replace("tracks/"+i,"tracks/"+e.urnPrefix+":"+i):r?t.replace(o,a):t}var s=f.stringify({path:"resolve",query:{url:e,"_status_code_map[302]":200,_status_format:"json"}});return t.getJSON(s).then(function(t){var s=n.getNewInstance({});return s.baseUrl=i(s,t.location),s.set("permalink_url",e),s.fetch({endpoint:!1}).then(function(){return s})}).then(function(e){return n.instances.add(e),e.release(),e})}function s(e,n){var i=f.stringify({host:u.get("api_v2_host"),path:"resolve",query:{permalink_url:e}});return t.getJSON(i).then(function(e){var t=new n(e);return t.release(),t})}function r(e,t){return!(e&&e.last_modified&&t&&t.last_modified&&Date.parse(e.last_modified)>Date.parse(t.last_modified))}var o=n(3),a=n(189),l=n(27),u=n(22),c=n(29),d=n(1099),h=n(66),p=n(411),f=n(67),g=l.Model.extend(d,{resource_type:null,lastFetchTime:null,_submodels:null,submodelMap:null,getEndpointUrl:c.getUrlForEndpoint,getEndpointForMethod:function(e){return null},initialize:function(e,t){var n=this;this._submodels=this._submodels||[],this.options=t||{},o.each(this.submodelMap,function(e,t){n.on("change:"+t,function(){n.createSubmodel(e,t)})}),this.setup.apply(this,arguments),o.each(this.submodelMap,function(e,t){n.get(t)&&n.createSubmodel(e,t)})},setup:o.noop,getSubmodelOptions:function(e){return null},createSubmodel:function(e,t){var n=this,i=this.getSubmodelOptions(t);[].concat(this.get(t)).forEach(function(t){var s=new e(t,i);s.lastFetchTime=Date.now(),n.addSubmodel(s)})},addSubmodel:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];n.forEach(function(t){-1===e._submodels.indexOf(t)?e._submodels.push(t):t.release()})},getAttributesToBeSaved:function(){return o.pick(this.toJSON(),function(e){return null!==e})},save:function(e,t){var n,i=this,s="json"===o.result(this,"saveFormat"),r=o.result(this,"saveWithWrapper"),u=s?"application/json":void 0,c=this.getAttributesToBeSaved(),d=e?o.pick(c,Object.keys(e)):c,h=r?(n={},n[a.toAPIResource(this.resource_type)]=d,n):d,p=s?JSON.stringify(h):f.param(h);return l.Model.prototype.save.call(this,e,o.assign({url:this.saveUrl(e,t),data:p,contentType:u},t)).done(function(e){i.set(e),i.updateResourceId()})},set:function(e,t,n){var i,s;if(null==e)return this;if("object"==typeof e)i=e,n=t;else{var a;a={},a[e]=t,i=a}return!r(this.attributes,i)&&(i=o.pick(i,o.difference(o.keys(i),o.keys(this.attributes))),o.isEmpty(i))?this:(s=this.constructor.normalize?this.constructor.normalize(o.clone(i)):i,o.each(this.submodelMap,function(e,t){var n=i[t];n&&e&&e.normalize&&!o.isArray(n)&&(s[t]=e.normalize(o.clone(n)))}),l.Model.prototype.set.call(this,s,n))},saveUrl:function(){return o.result(this,"baseUrl")},saveFormat:"param",saveWithWrapper:!0,destroy:function(e){var t=l.Model.prototype.destroy.call(this,o.assign({url:this.isNew()?null:this.destroyUrl()},e));return this.constructor.removeInstance(this),t},destroyUrl:function(){return o.result(this,"baseUrl")},baseUrl:o.noop,url:function(){var e=arguments.length<=0||void 0===arguments[0]?"baseUrl":arguments[0];return o.result(this,e)},toJSON:function(){var e=l.Model.prototype.toJSON.apply(this,arguments);return e._resource_id=this.resource_id,e._resource_type=this.resource_type,e},toString:function(){return this.resource_type?this.resource_type+" ("+(this.isNew()?"new":this.resource_id)+"): "+(this.attributes.permalink||this.attributes.title||this.attributes.name):Object.prototype.toString.call(this)},hasDataForView:function(e){return this.attrExists(e)},updateResourceId:function(){var e=this.constructor.hashFn(this.attributes),t=this.resource_id;e&&(this.resource_id=e,this.constructor.instances.changeKey(t,e))},attrExists:function(e){var t=Object.prototype.hasOwnProperty;return o.isArray(e)?e.every(t,this.attributes):t.call(this.attributes,e)},equivalentTo:function(e){return this===e||this.id&&this.id===e.id},getUrn:function(){var e=this.urnPrefix,t=this.id;return e&&t?e+":"+t:void 0},isPopulated:function(){return!!this.lastFetchTime},forceChange:function(e){var t=this.get(e);return this.unset(e,{silent:!0}),this.set(e,t),this}},{_resolve:function(e,t,n){var r,o=e.instances.find(n);return o?h.resolve(o):(r=f.stringify({scheme:window.document.location.protocol.replace(/:/,""),host:u.get("public_api_host").replace(/^https?:\/\/api\./,""),path:t}),u.get("rollouts").get("resolve_api_v2")?s(r,e):i(r,e))}});e.exports=p.applyTo(g,{hashFn:function(e){return e&&(e.id||e.resource_id)||null},onCleanup:function(e){var t=e._submodels;t&&t.length&&(o.invoke(t,"release"),t.length=0)},prepareArgs:function(e,t){return t=t||{},e=e||{},t.parse&&(e=this.parse(e),t=o.clone(t),t.parse=!1),[e,t]},prepareInstance:function(e,t){return t=t||{},t.collection&&(this.lastFetchTime=Date.now()),o.isEmpty(e)||this.set(e),delete this.attributes.resource_id,this},getIncrementValue:function(e,t){var n=t&&t.collection;return n?n.constructor.instances.countFor(n.resource_id):1}})}).call(t,n(1))},function(e,t,n){"use strict";var i=n(3),s=n(87),r=n(70),o=e.exports=function(e,t){var n=o.getClass(e);return e=i.omit(e,"resource_type"),new n(e,t)};o.getClass=function(e){var t=e.resource_type||e.kind;return"playlist"===t?s:"sound"===t||"track"===t?r:r}},function(e,t,n){"use strict";function i(e,t){return c.defaults(t,e.prototype.defaults),e===h?t:i(e.__super__.constructor,t)}function s(e){this.next_href&&(this.next_href=u.modify(this.next_href,{query:e}))}var r=n(27),o=n(29),a=n(66),l=n(411),u=n(67),c=n(3),d={},h=e.exports=l.applyTo(r.Collection.extend({next_href:null,lastFetchTime:null,model:d,getEndpointUrl:o.getUrlForEndpoint,getEndpointForMethod:function(e){return null},defaults:{offset:0,limit:10,secret_token:null,maxPageSize:100},initialize:function(e,t){this.options=i(this.constructor,t||{}),this.setup(this.options)},setup:c.noop,_prepareModel:function(e){var t=e instanceof r.Model,n=r.Collection.prototype._prepareModel.apply(this,arguments);return n&&n.hold(this._usageCount()-(t?0:1)),n},_removeReference:function(e){return e.release(this._usageCount()),r.Collection.prototype._removeReference.apply(this,arguments)},fetch:function(e){var t=this,n=e&&e.url||c.result(this,"url");return n?this._requests&&this._requests[n]||r.Collection.prototype.fetch.call(this,e).done(function(){!t.isFullyPopulated()||0!==t.length||e&&e.reset||t.reset([])}):a.defer().done(e&&e.success).resolve({})},fetchUntilResults:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=this.options.limit,i=this.length,s=c.defaults({reset:!1},t),r=function(t){return e.fetch(t).then(o)},o=function(){var t=e.length,n=t>i,o=e.isFullyPopulated();return n||o?void 0:(e.setLimit(Math.min(2*e.options.limit,e.options.maxPageSize)),r(s))};return r(t).always(function(){e.setLimit(n)})},bulkFetch:function(e){var t,n,i=this,r=arguments[1],o=arguments[2];if(!r){if(this._requests=this._requests||{},this._requests.bulk)return this._requests.bulk;this._requests.bulk=r=a.defer(),r.always(function(){delete i._requests.bulk}),o=this.length,t=this.options.limit,this.next_href||(this.options.limit=e-this.length),r.always(function(){i.options.limit=t,s.call(i,{limit:t})})}return this.length<e&&this.url()?(n=this.lastFetchTime?{add:!0,reset:!1,remove:!1}:{reset:!0},n.silent=!0,s.call(this,{limit:e-this.length}),this.fetch(n).done(function(){i.bulkFetch(e,r,o)}).fail(r.reject)):(o?this.rest(o).forEach(function(e){i.trigger("add",e,i,{})}):this.trigger("reset",this,{}),r.resolve()),r},removeWhere:function(e){var t=this.models.filter(e,this);return t.length&&this.remove(t),t},url:function(){if(null!==this.next_href)return this.next_href;var e=u.parse(c.result(this,"baseUrl"));return c.assign(e.query,{limit:this.options.limit,offset:this.options.offset,linked_partitioning:1}),this.options.secret_token&&(e.query.secret_token=this.options.secret_token),u.stringify(e)},parse:function(e){return e.collection},empty:function(){this.next_href=null,this.lastFetchTime=null,this.options.offset&&(this.options.offset=0),this.reset(null,{silent:!0})},setToFullyPopulated:function(){this.lastFetchTime=Date.now(),this.next_href=!1},hasDataForView:function(){return!!this.lastFetchTime},isPopulated:function(){return!!this.lastFetchTime},isFullyPopulated:function(){return this.next_href===!1},setLimit:function(e){this.options.limit=e,s.call(this,{limit:e})},indexOfEquivalentModel:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?this.models:arguments[1],i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=-1;return i&&(n=n.slice(i)),n.some(function(n,r){return t.compareModels(e,n)?(s=r+i,!0):void 0}),s},indexesOfEquivalentModels:function(e,t){for(var n=[],i=0;-1!==(i=this.indexOfEquivalentModel(e,t,i));)n.push(i),i++;return n},compareModels:function(e,t){return e===t||e.equivalentTo(t)}}),{hashFn:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.resource_id,i=void 0===n?null:n;return i},onHold:function(e,t,n){e.length&&e.at(0).hold&&e.invoke("hold",n)},onRelease:function(e,t,n){e.length&&e.at(0).release&&e.invoke("release",n)}})},,function(e,t,n){"use strict";function i(e){var t=!1,n=e.state,r=e.list,l=e.target,c=e.origin,d="user"!==e.originType||c===u.currentUserId(),h=v.defer();if(d&&!u.isLoggedIn())u.login({context:e.context,implicitAction:e.action,implicitTarget:b.generate(e.targetType,e.target)}).done(function(){e.origin=u.currentUserId(),i(e).done(h.resolve).fail(h.reject)}).fail(h.reject);else{if(r&&d){var p=function(){if(r.get(l)!==n){if(r.toggle(l,n),e.state=n=r.get(l),e.persist){var o=r.setRemote(l,n,e.listOptions);o&&o.fail(function(t,r){"abort"!==r&&s(a.assign({xhr:t},e)),i(a.defaults({persist:!1,state:!n},e))})}}else t=!0};r.fetch().done(p).done(h.resolve).fail(h.reject)}else h.resolve();h.done(function(){t||o(e)})}return h}function s(e){var t=a.some(x._errHandlers,function(t){return t(e)===!1});t||x.trigger("error",e)}function r(e){return e=e||{},{state:e.state,origin:e.origin,originType:e.originType,object:e.object,target:e.target,targetType:e.targetType,targetModel:e.targetModel,context:e.context,attribution:e.context&&e.context.attribution}}function o(e){var t=e.action,n=e.origin,i=e.target,s=e.originType,o=e.targetType;x.trigger([t,t+":origin:"+s+":"+n,i?t+":target:"+o+":"+i:""].join(" "),r(e))}var a=n(3),l=n(27),u=n(25),c=n(790),d=n(343),h=n(792),p=n(791),f=n(272),g=n(434),m=n(435),v=n(66),_=n(436),y=n(437),b=n(99),w={followings:new d,followers:new c,soundLikes:new _,playlistLikes:new g,soundReposts:new y,playlistReposts:new m,groups:new h,blockings:new f},x=e.exports=a.assign({},l.Events,{bindErrorHandler:function(e){x._errHandlers.unshift(e)},unbindErrorHandler:function(e){var t=x._errHandlers;t.splice(t.indexOf(e),1)},_errHandlers:[],notify:function(e,t){t=a.defaults({},t,{action:e,origin:u.currentUserId(),originType:"user",object:null,target:null,targetType:null,targetModel:null,state:!0}),o(t)},follow:function(e,t,n){var s=u.currentUserId();n=a.defaults({},n,{action:"follow",origin:s,originType:"user",target:e,targetType:"user",state:t,persist:!0});var r=n,o=r.origin,l=r.target,c=r.state;if(o===l)return v.resolve();if(l!==s)return n.list=o===s?w.followings:null,i(n);var d=function(){var e=v.defer(),t=w.followers;return t.fetch().done(function(){t.get(o)!==c&&(t.toggle(o,c),n.state=t.get(o),i(n).done(e.resolve).fail(e.reject))}),{v:e}}();return"object"==typeof d?d.v:void 0},join:function(e,t,n){return n=a.defaults({},n,{action:"join",origin:u.currentUserId(),originType:"user",target:e,targetType:"group",state:t,persist:!0,list:w.groups}),i(n)},destroy:function(e,t){return t=a.defaults({},t,{action:"destroy",origin:u.currentUserId(),originType:"user",target:e.id,targetType:e.resource_type,targetModel:e,state:!0}),o(t),e.destroy()},like:function(e,t,n,s){return s=a.defaults({},s,{action:"like",origin:u.currentUserId(),originType:"user",target:e,targetType:t,state:n,persist:!0,list:"playlist"===t?w.playlistLikes:w.soundLikes}),i(s)},addToGroup:function(e,t,n,s){var r=new p({},{soundId:e});return s=a.defaults({},s,{action:"addToGroup",origin:e,originType:"sound",target:t,targetType:"group",state:n,persist:!0,list:r}),r.release(),i(s)},repost:function(e,t,n,s){return s=a.defaults({},s,{action:"repost",origin:u.currentUserId(),originType:"user",target:e,targetType:t,
state:n,persist:!0,list:"playlist"===t?w.playlistReposts:w.soundReposts}),i(s)},block:function(e,t,n,s,r){n=!(!t||!n),r=a.defaults({},r,{action:"block",origin:u.currentUserId(),originType:"user",target:e,targetType:"user",state:t,persist:!0,list:w.blockings,listOptions:{reported:n,remove_activities:s}});var o=i(r);return t&&u.isLoggedIn()&&x.follow(u.currentUserId(),!1,{origin:e}),o}})},,,,,function(e,t,n){var i=n(392),s=n(21);e.exports=function(e){return new s.SafeString(i.getAccessibleMarkup(e.hash))}},,,,function(e,t,n){"use strict";function i(e){return e&&e.sc_a_id}function s(e){c.set("sc_a_id",e.sc_a_id)}var r=n(3),o=n(22),a=n(97),l=n(67),u=n(99),c=new a("promoted-persistent"),d={addToSet:"add_to_set_click",follow:"follow_click",like:"like_click",play:"sound_play",skip:"sound_skip",finish:"sound_finish",impression:"impression",repost:"repost_click",share:"share_click",adClick:"ad_click",soundClickThrough:"sound_click",sponsorClickThrough:"sponsor_click",userClickThrough:"profile_click",purchaseClickThrough:"purchase_click"},h={search:"/promoted/search",suggestedUsers:"/promoted/users",uploadTakeover:"/promoted/upload-takeover",uploadText:"/promoted/upload-text"},p={dashboxListen:"listen",dashboxNotifications:"notifications",dashboxStream:"stream",dashboxTags:"tags",dashboxUserProfile:"profile"},f=[],g=e.exports={getAdUrl:function(e,t){return l.stringify({path:h[e],query:r.assign(g._getPromotedQueryParams(),t)},o.get("api_v2_host"))},getAudioAdsUrl:function(e){var t=g._getPromotedQueryParams();return e&&e.trackId&&(t.track_id=e.trackId),l.stringify({path:"/audio-ad",query:t},o.get("api_v2_host"))},getDashboxUrl:function(e,t){var n=g._getPromotedQueryParams();n.locale=t;var i={path:"/dashbox/"+p[e],query:n};return l.stringify(i,o.get("api_v2_host"))},getAdUrlQuery:function(){var e=g._getPromotedQueryParams();return e.user_urn=o.get("me").getUrn(),e.promoted_playlist=!0,{query:e}},extractPromotedAttrs:function(e){return e&&e.isPromoted&&e.isPromoted()?e.pick("ad_urn","campaign","promoted_by","promoted_by_urn","tracking"):void 0},parseResponse:function(e){var t=r.first(e.promoted);return i(t)?(s(t),t):{}},parseDashboxResponse:function(e){return i(e)&&s(e),e&&e.data?e.data.dashbox:e},parseStreamResponse:function(e){return e&&e.collection&&e.collection.filter(function(e){return e.promoted}).forEach(function(e){i(e.promoted)&&s(e.promoted),e.promoted&&(e.promoted.ad_urn&&(e.ad_urn=e.promoted.ad_urn),e.promoted.tracking&&(e.tracking=e.promoted.tracking),e.campaign="promoted",delete e.promoted),e.user&&(e.promoted_by=e.user,e.promoted_by_urn=u.generate(e.promoted_by.kind,e.promoted_by.id),delete e.user)}),e},trackEvent:function(e,t){var n="impression"===e?g._sendRequestOnce:g._sendRequest;g._getTrackingUrls(e,t).forEach(n)},_getTrackingUrls:function(e,t){var n=t&&t.tracking&&t.tracking[d[e]]||[];return r.isArray(n)?n:[n]},_getPromotedQueryParams:function(){return{sc_a_id:c.get("sc_a_id")}},_sendRequest:function(e){var t=new window.Image;t.src=e},_sendRequestOnce:function(e){-1===f.indexOf(e)&&(g._sendRequest(e),f.push(e))}}},function(e,t,n){"use strict";function i(e,t){this.attrExists(e)&&this.set(e,Math.max(0,this.get(e)+(t?1:-1)))}function s(e){i.call(this,"members_count",e.state)}var r=n(76),o=n(22),a=n(192),l=n(332),u=n(193),c=n(72),d=n(395),h=n(151),p=[{emitter:r,event:"join",getInstance:function(e,t){var n=t.target;return e.id===n},handler:s}];e.exports=c.extend(d,u.withOptions({attr:"name"}),a.withOptions({read:"artwork_url",write:"artwork_data"}),l,h.withOptions({events:p}),{resource_type:"group",urnPrefix:"soundcloud:groups",baseUrl:function(){return"groups/"+this.id},isMyGroup:function(){return o.get("me").owns(this)}},{resolve:function(e){return c._resolve(this,["groups",e],function(t){return t&&t.hasPermalink(e)})}})},function(e,t,n){"use strict";function i(e,t){e.originalSound.set(e.attributes,t)}function s(e,t){this.set(e.attributes,t)}function r(){return D.stringify({path:["playlists",this.id]})}function o(){a.call(this)}function a(e){var t=this.soundsCollection.pluck("duration").reduce(function(e,t){return e+(t||0)},0);this.set("duration",t,e)}function l(e){var t=this,n=e.filter(function(e){return!t.findSoundById(e)}),i=this.soundsCollection.filter(function(t){var n=t.id;return-1===e.indexOf(n)});i.forEach(function(e){return t.removeSound(e)}),n.forEach(function(e){var n=new T({id:e});t.addSound(n),n.release()}),this.reorder(e)}var u,c=n(3),d=n(753),h=n(76),p=n(27),f=n(22),g=n(330),m=n(23),v=n(192),_=n(332),y=n(193),b=n(72),w=n(95),x=n(756),k=n(151),S=n(333),T=n(70),A=n(334),E=n(732),C=n(68),D=n(67),I=c.constant(!1),M="tracklistChange";u=p.Collection.extend({model:T,fetch:function(){return this.playlist.fetch.apply(this.playlist,arguments)},initialize:function(e,t){this.playlist=t.playlist},hasDataForView:function(){return!!this.playlist.attributes.tracks},isFullyPopulated:c.constant(!0),_usageCount:c.constant(1),hold:c.noop,release:c.noop});var P=function(e,t){var n=t.target,i=t.targetType;return e.id===n&&"playlist"===i},L=[{emitter:m,event:"broadcast:"+M,getInstance:function(e,t){var n=e.id,i=t.id;return n===i},handler:function(e){var t=e.trackIds;l.call(this,t)}},{emitter:h,event:"like",getInstance:P,handler:function(e){this.onLike(e)}},{emitter:h,event:"repost",getInstance:P,handler:function(e){this.onRepost(e)}}],F=(e.exports=b.extend(g,d,S,A,y.withOptions({attr:"title"}),v.withOptions({read:"artwork_url",write:"artwork_data"}),_,x,k.withOptions({events:L}),{resource_type:"playlist",urnPrefix:"soundcloud:playlists",submodelMap:{tracks:T,user:C},states:{shuffling:function(e){var t=this.getSoundIndex(this.getCurrentSound()),n=e&&this.isPlaying()?t:null,i=e?0:t;this.currentSoundCursor=i,this.setPlayOrder(n),this.toggleState("repeating",e)},repeating:{initial:!1}},soundsCollection:null,currentSoundCursor:0,_isPlayActionQueued:!1,_playOrder:null,_internalNavigation:!1,getSubmodelOptions:function(e){return"user"===e?{parse:!0}:null},setup:function(){this.soundsCollection=new u(null,{playlist:this}),this.listenTo(this.soundsCollection,"error",function(e,t,n){t instanceof E&&this.removeSound(e)}),this._playOrder||(this._playOrder=[])},baseUrl:function(){return D.stringify({host:f.get("api_v2_host"),path:["playlists",this.id],query:{representation:"full"}})},destroyUrl:r,saveUrl:r,createSubmodel:function(e,t){"tracks"===t?this.prepareSounds():b.prototype.createSubmodel.apply(this,arguments)},prepareSounds:function(){var e=[];c.each(this.get("tracks"),function(t){var n,i,s;this.containsSound(t.id)||(s=new T(t),this.addSubmodel(s),i=c.defaults({resource_id:{playlist_id:this.id,sound_id:t.id}},t),n=new T(i,{suppressGlobalEvents:!0}),n.playlist=this,n.originalSound=s,e.push(n),this.toggleListeners(n,!0))},this),0===this.soundsCollection.length?this.soundsCollection.reset(e):this.soundsCollection.add(e,{silent:!0}),e.length&&this.setPlayOrder()},getSoundsCollection:function(){return this.soundsCollection},getSoundsCollectionClone:function(){return new u(this.soundsCollection.models.slice(),{playlist:this})},toggleListeners:function(e,t){var n=t?"on":"off",r=t?"listenTo":"stopListening";e[n]("play",this.onSoundPlay,this)[n]("pause",this.onSoundPause,this)[n]("buffering:start buffering:end",this.onSoundBuffering,this)[n]("finish",this.onSoundFinish,this)[n]("time",this.onSoundTime,this)[n]("seeked",this.onSoundSeeked,this)[n]("change:duration",o,this),e[n]("change",i)[r](e.originalSound,"change",s)},onSoundBuffering:function(e){this.trigger(e.type,e)},onSoundPlay:function(e){e.playlist=this,this.trigger("internal:play",e),this._internalNavigation||(this.trigger("play",e),m.trigger("audio:play",e),this._internalNavigation=!0)},onSoundPause:function(e){this._internalNavigation||(e.playlist=this,this.trigger("pause",e),m.trigger("audio:pause",e),this._internalNavigation=!0)},onSoundFinish:function(e){e.sound===this.getLastSound()&&(e.playlist=this,this.trigger("pause finish",e),m.trigger("audio:pause audio:finish",e))},onSoundTime:function(e){e.playlist=this,this.trigger("time",e)},onSoundSeeked:function(e){e.playlist=this,this.trigger("seeked",e)},getPrevSound:function(){return this.soundsCollection.at(this._playOrder[this.currentSoundCursor-1])},getCurrentSound:function(){return this.soundsCollection.at(this._playOrder[this.currentSoundCursor])},getNextSound:function(){return this.soundsCollection.at(this._playOrder[this.currentSoundCursor+1])},getFirstSound:function(){return this.soundsCollection.at(this._playOrder[0])},getLastSound:function(){return this.soundsCollection.at(this._playOrder[this.soundsCollection.length-1])},findSound:function(e){return this.findSoundById(e.id)},findSoundById:function(e){return this.soundsCollection.get(e)},getSounds:function(){return this.soundsCollection.models},getNumSounds:function(){return this.soundsCollection.length},getSoundIndex:function(e){return this.soundsCollection.indexOf(e)},containsSound:function(e){return!!this.findSoundById(e)},isGeoblocked:I,isManagedByFeeds:I,isMonetizable:I,isMonetizablePending:I,isPublisherBlocked:I,hasScheduledPrivacy:I,play:function(e){var t=this;e=e||{},e.audible&&e.audible.playlist&&e.userInitiated&&(this.setPlayOrder(this.getSoundIndex(e.audible)),this.getState("shuffling")?this.currentSoundCursor=0:this.setCurrentSound(e.audible)),this.soundsCollection.length?(this._internalNavigation=!1,this.getCurrentSound().audio.play(e)):this.lastFetchTime||(this._isPlayActionQueued=!0,this.fetch().done(function(){t._isPlayActionQueued&&(t._isPlayActionQueued=!1,t.play(e))}))},pause:function(e){this._isPlayActionQueued=!1,this.soundsCollection&&this.soundsCollection.length&&(this._internalNavigation=!1,this.getCurrentSound().audio.pause(e))},rewind:function(){this.currentSoundCursor=0},setCurrentSound:function(e){e&&(this.currentSoundCursor=this._playOrder.indexOf(this.getSoundIndex(e)))},hasDataForPlay:function(){return this.attributes.hasOwnProperty("tracks")},isNowPlaying:function(){return this.getSoundIndex(w.getCurrentSound())>-1},isBuffering:function(){return this.soundsCollection.some(F("isBuffering"))},isPlaying:function(){return this.soundsCollection.some(F("isPlaying"))},isProcessing:function(){return this.soundsCollection.some(F("isProcessing"))},isPlayable:function(){return!this.get("tracks")||this.soundsCollection.some(F("isPlayable"))},setPlayOrder:function(e){var t=c.range(this.soundsCollection.length);this.getState("shuffling")&&(t=c.shuffle(t),"number"==typeof e&&(t.splice(t.indexOf(e),1),t.unshift(e))),this._playOrder=t},parse:function(e,t){return e=b.prototype.parse.apply(this,arguments),t=t||{},t.isSavingOrder&&(e.tracks||e.track_count)&&(delete e.tracks,delete e.track_count),e.secret_token&&e.tracks&&e.tracks.forEach(function(t){"public"===t.sharing||t.secret_token||(t.secret_token=e.secret_token)}),e},extractSecretToken:function(e){return D.parse(e.uri).query.secret_token},duration:function(){return this.get("duration")},removeSound:function(e){if(e=this.findSound(e)){var t=this.getSoundIndex(e),n=this.get("tracks").slice();return this.currentSoundCursor>t&&--this.currentSoundCursor,e.isPlaying()&&e.pause(),this.toggleListeners(e,!1),n.splice(t,1),this.soundsCollection.remove(e),a.call(this),this.set("tracks",n),e.playlist=null,e.release(),!0}return!1},addSound:function(e){var t,n,i;return this.findSound(e)?!1:(t=c.defaults({resource_id:{playlist_id:this.id,sound_id:e.id}},e.attributes),n=new T(t,{suppressGlobalEvents:!0}),n.playlist=this,n.originalSound=e,this.addSubmodel(e),this.toggleListeners(n,!0),i=this.get("tracks"),i||(this.set("tracks",[],{silent:!0}),i=this.get("tracks")),this._playOrder.push(this.soundsCollection.length),i.push(n.attributes),this.soundsCollection.add(n),a.call(this,{silent:!0}),this.forceChange("tracks"),!0)},getCurrentOrder:function(){return this.soundsCollection.pluck("id")},reorder:function(e){var t=this.soundsCollection,n=this.getCurrentSound(),i=n&&n.id;t.sort({silent:!0,comparator:function(t){return e.indexOf(t.id)}}),this.currentSoundCursor=Math.max(0,e.indexOf(i)),this.set({tracks:this.soundsCollection.toJSON(),track_count:this.soundsCollection.length})},saveOrder:function(e){var t=this,n=this.soundsCollection.pluck("id"),i=n.map(function(e){return{id:e}}),s={playlist:{tracks:i}};return p.Model.prototype.save.call(this,{},c.assign({url:this.saveUrl(),data:JSON.stringify(s),contentType:"application/json",isSavingOrder:!0},e)).done(function(){m.broadcast({excludeThis:!0},M,{id:t.id,trackIds:n})})},saveMetadata:function(e){var t=this.attributes,n={playlist:{title:t.title,sharing:t.sharing,description:t.description,genre:t.genre,tag_list:t.tag_list,license:t.license,label_name:t.label_name,release:t.release,release_date:t.release_date,purchase_url:t.purchase_url,purchase_title:t.purchase_title,ean:t.ean,permalink:t.permalink}};return p.Model.prototype.save.call(this,{},c.assign({url:D.stringify({path:["playlists",this.id],host:f.get("api_v2_host")}),data:JSON.stringify(n),contentType:"application/json"},e))},getAttributesToBeSaved:function(){var e=b.prototype.getAttributesToBeSaved.call(this);return e.tracks&&(e.tracks=e.tracks.map(function(e){var t=e.id;return{id:t}})),e},resetOrder:function(){var e=this;return this.fetch().done(function(){e.soundsCollection.each(function(e){e.playlist=null,e.release()}),e.soundsCollection.reset([],{silent:!0}),e.prepareSounds()})},hasDifferentCreators:function(){var e,t=this.get("user_id"),n=!1;return e=!this.soundsCollection.every(function(e){var i=e.get("user_id");return null==i?(n=!0,!0):i===t}),e||(n?null:e)},hasVisuals:function(){return!1}},{onCleanup:function(e){e.soundsCollection.each(function(e){e.playlist=null,e.release()}),e.soundsCollection.off(),delete e.soundsCollection,b.onCleanup(e)},resolve:function(e,t,n){return b._resolve(this,[e,"sets",t,n],function(n){var i=n.get("user");return i&&n.get("permalink")===t&&i.permalink===e})}}),c.memoize(function(e){return function(t){return t[e]()}}))},function(e,t){"use strict";var n=window.navigator.userAgent.toLowerCase(),i=function(e){return e.test(n)},s=e.exports={};s.isOpera=void 0!==window.opera&&"[object Opera]"===window.opera.toString()||i(/ opr\/\d/),s.isChrome=!s.isOpera&&i(/chrome/),s.isWebKit=i(/webkit/),s.isSafari=!s.isChrome&&i(/safari/),s.isIE=!s.isOpera&&i(/msie|trident/),s.isIE9=s.isIE&&i(/msie 9/),s.isGecko=!s.isWebKit&&i(/gecko/),s.isWindows=i(/windows|win32/),s.isMac=i(/macintosh|mac os x/),s.isMobile=i(/mobile|android|iphone|ipod|ipad|playBook|skyfire/),s.isHiDPI=window.devicePixelRatio?window.devicePixelRatio>1:!1,s.backingStoreRatio=function(){var e=window.document.createElement("canvas").getContext("2d");return e?e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1:void 0}()},function(e,t,n){"use strict";var i=n(1067),s=n(1066),r=n(1069),o=n(72),a=n(66);e.exports=o.extend(r,s,i,{isPopulated:function(){return!0},destroy:function(e){return this.trigger("destroy",this,this.collection,e),a.resolve()}},{hashFn:function(e,t){return e&&e.id||t&&t.resource_id}})},,,,function(e,t,n){"use strict";function i(e){try{if(e.getItem){var t=Date.now();return e.setItem(t,t),e.removeItem(t),!0}}catch(n){}return!1}var s=n(3),r=n(88);e.exports=s.reduce({sessionStorage:function(){try{return"undefined"!=typeof window.sessionStorage&&i(window.sessionStorage)}catch(e){return!1}},localStorage:function(){try{return"undefined"!=typeof window.localStorage&&i(window.localStorage)}catch(e){return!1}},dragDrop:function(){var e=window.document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},webSocket:function(){return window.WebSocket},WebWorker:function(){return window.Worker},svg:function(){return window.document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},touch:function(){try{return window.hasOwnProperty("ontouchstart")}catch(e){return!1}},typedArrays:function(){return window.hasOwnProperty("Uint8Array")},pushState:function(){return window.history&&window.history.pushState},formData:function(){return window.FormData},corsImg:function(){return!1},MutationObserver:function(){return window.MutationObserver},getUserMedia:function(){return window.navigator.getUserMedia},audioTabIndicator:function(){return r.isChrome||r.isGecko},blob:function(){try{return new window.Blob}catch(e){return!1}},rangeInput:function(){return!r.isIE9},Notification:function(){return window.Notification},sendBeacon:function(){return window.navigator.sendBeacon}},function(e,t,n){return e[n]=!!t(),e},{})},function(e,t,n){"use strict";function i(e){switch(e){case v:return"consumer-subscription";case w:case x:case k:return"creator-gift";case _:case y:case b:return"creator-subscription"}}function s(e){switch(e){case v:return"go";case w:case _:return"free";case x:case y:return"pro";case k:case b:return"pro-unlimited"}}function r(){c.off("connect:hasUserData",o),g=a.once(function(){l.isLoggedIn()||c.once("connect:hasUserData",o)})}function o(){S.clearRequestCache(),S.instances.invoke("fetch")}var a=n(3),l=n(25),u=n(29),c=n(23),d=n(64),h=n(72),p=n(26),f=n(137),g=void 0,m=p.productIds,v=m.CONSUMER_SUBSCRIPTION_HIGH_TIER,_=m.CREATOR_SUBSCRIPTION_FREE,y=m.CREATOR_SUBSCRIPTION_PRO,b=m.CREATOR_SUBSCRIPTION_PRO_UNLIMITED,w=m.CREATOR_GIFT_FREE,x=m.CREATOR_GIFT_PRO,k=m.CREATOR_GIFT_PRO_UNLIMITED;r();var S=e.exports=h.extend({resource_type:"product",setup:function(){g()},fetch:function(e){var t=this;return T(i(this.id),this.options.ref).then(function(n){var i=n.body.plans;t.lastFetchTime=Date.now(),t.populateFromPlans(i,e)})},populateFromPlans:function(e,t){var n=a.findWhere(e,{id:s(this.id)});n?this.set(this.parse(n,t),t):this.set("active",!1)},parse:function(e){return a.extend({active:!0},a.omit(e,"id"))},isActive:function(){return!!this.get("active")},isAvailable:function(){return this.isFree()||!!this.get("preselected_term")},isGift:function(){return this.id.indexOf("gift")>-1},isPro:function(){return-1===this.id.indexOf("unlimited")&&!this.isFree()},isProUnlimited:function(){return this.id.indexOf("unlimited")>-1},isRenewal:function(){return"renewal"===this.get("use_case")},isFree:function(){return this.id.indexOf("free")>-1},isCurrency:function(e){return this.getCurrency()===e},isTrial:function(){return!!this.get("trial")},getTrialDuration:function(){var e=this.get("trial");return e?e.duration_in_days:0},getTrackingUseCase:function(){var e=this.get("use_case");return(e===S.useCases.REGULAR||e===S.useCases.MONEY_BACK)&&(e="new"),e},getCurrency:function(){return this.getPrice().currency},getTitle:function(){return this.isPro()?d.t("Pro"):this.isProUnlimited()?d.t("Pro Unlimited"):d.t("Free")},getPrice:function(e){return this.getTermData(e).price||{currency:"EUR"}},getDisplayPrice:function(){var e=this.getPrice(),t=e.display,n=e.currency;return t?f.format(t,n):""},getPackagePrice:function(e){var t=this.getTermData(e)["package"];return t&&(t.price||{currency:"EUR"})},getDiscount:function(e){var t=this.getTermData(e).discount;return t&&t.price},getTermData:function(e){return e=e||this.getPreselectedTerm(),this.get(e)||{}},getPreselectedTerm:function(){return this.get("preselected_term")},getUrn:function(){return this.getTermData()["package"].urn}},{useCases:{DISABLED:"disabled",REGULAR:"regular",MONEY_BACK:"money_back",RENEWAL:"renewal",DOWNGRADE:"downgrade",UPGRADE:"upgrade"},resetLoginListener:r,clearRequestCache:function(){T.cache={}}}),T=a.memoize(function(e,t){return u.callEndpoint("paymentQuotations",{category:e},{ref:t}).fail(function(){delete T.cache[e]})},function(e,t){return e})},function(e,t,n){"use strict";function i(){var e=O.getState("isInRequiredListenPeriod");Z.toggleState("globalPlayLock",e)}function s(){k.call(this,this.source).done(function(e){e&&e.isPlayable()&&O.prefetchAudioAd(e)})}function r(e,t,n){var i,s=t.getCurrentSound(),r=this.getCurrentSound()!==s;Z.getState("globalPlayLock")||(i=x.call(this,e,n.restoreUrl,{silent:!0}),S.call(this,t),r&&this.pauseCurrent(n),s&&(i||r)&&this.addToHistory(s,e),i&&this.trigger("change:source",e),s?this.playCurrent(n):this.playNext(n))}function o(e,t){e&&e===this.getCurrentSound()&&(e.playlist&&e.playlist.setCurrentSound(e),e.isPlayable()?(e.play(t),V.addSound(e,t),e.playlist&&e===this.source&&(x.call(this,e.playlist,t&&t.restoreUrl),S.call(this,0))):v.call(this))}function a(e){var t,n,i=e.sound;i.isPlaying()&&(n=function(){i.off("pause",n),window.clearTimeout(t)},t=window.setTimeout(function(){n(),Z.playNext()},J),i.on("pause",n))}function l(){var e=z.get("router").getLayoutInfo();return{args:e.args,layoutName:e.layoutName,url:window.location.href.replace(/^https?:\/\/[^\/]+\//,"")}}function u(){var e=this.source;e&&(c(e)&&(this.listenTo(e,"add",d).listenTo(e,"remove",h).listenTo(e,"reset",p),e.isPopulated()||e.fetch()),e.hold())}function c(e){return e instanceof U}function d(e,t){var n=t.indexOf(e);n<=this.sourceCursor&&S.call(this,this.sourceCursor+1)}function h(e,t,n){n.index<=this.sourceCursor&&S.call(this,this.sourceCursor-1)}function p(){S.call(this,-1)}function f(e){e.sound.release()}function g(e){e.sound.hold()}function m(e,t){t[e]("finish",_,this)[e]("change:playable",v,this)}function v(){var e=this.getCurrentSound();e.isPlayable()||(y.call(this,e),L.call(this,e))}function _(e){y.call(this,e.sound)}function y(e){this.playNext({userInitiated:!1}),e.playlist&&e===e.playlist.getLastSound()&&e.playlist.rewind(),e.seek(0)}function b(){if(!this.FallbackSource)return null;var e=this.getCurrentSound();return e&&e.isPublic()?new this.FallbackSource(null,{resource_id:e.id,resource_type:e.resource_type}):null}function w(e,t){return c(t)?e>-1&&e<t.length?(t.audibleAt||t.at).call(t,e):void 0:0===e?t:void 0}function x(e,t,n){var i=this,s=this.source;return s!==e?(this.source=e,this.restoreUrl=t,u.call(this),S.call(this,-1),s&&(this.stopListening(s),s.release()),n&&n.silent||this.trigger("change:source",this.source,s),this._autoplay&&!this._autoplayTimeout&&(this._autoplayTimeout=window.setTimeout(function(){i._autoplay=!1,i._autoplayTimeout=null,i.playCurrent({userInitiated:!1})},400)),!0):!1}function k(e,t,n,i,s){var r,o,a,l,u,d,h=this,p=n||H.defer(),f=null==i?Q:i;if(t=t||{},u={source:e},"pending"===p.state()){if(this._fetchDeferred&&this._fetchDeferred!==p&&this._fetchDeferred.reject(),this._fetchDeferred||(this._fetchDeferred=p,p.always(function(){h._fetchDeferred=null})),!t.userInitiated&&this.getState("repeating")&&(r=this.getCurrentSound()))r.isPlayable()?(u.historyCursor=this.historyCursor,p.resolve(r,u)):p.reject();else if(this.historyCursor<this.history.length-1)u.historyCursor=this.historyCursor+1,p.resolve(this.history[this.historyCursor+1].sound,u);else if(this.queue.length)u.queueIndex=0,p.resolve(this.queue[0],u);else if(e&&c(e)){for(d=-1,a=this.source===e?this.sourceCursor:0;!o&&a+ ++d<e.length;)if(o=a+d>-1&&w(a+d,e)){if(N(o))break;o=d>0||s?o.getFirstSound():o.getNextSound()}o&&N(o)?o.fetch().fail(p.reject).done(function(){k.call(h,e,t,p,i,s)}):o?(u.sourceCursor=a+d,u.initialFallback=!!s,p.resolve(o,u)):!e.isFullyPopulated()&&f?e.fetch({add:!0,remove:!1}).fail(p.reject).done(function(){k.call(h,e,t,p,f-1)}):(l=b.call(this))&&l!==e?k.call(this,l,t,p,f,!0):p.resolve(void 0)}else e?(o="playlist"===e.resource_type&&e.getState("repeating")&&!e.getNextSound()?e.getFirstSound():-1===this.sourceCursor?e.getFirstSound():e.getNextSound(),o?(u.sourceCursor=0,p.resolve(o,u)):k.call(this,b.call(this),t,p,f,!0)):p.reject();return p}}function S(e){"number"==typeof e?this.sourceCursor=e:c(this.source)?this.sourceCursor=this.indexOfAudibleInSource(e,this.source):this.sourceCursor=0}function T(e){var t,n=this.getCurrentSound();this.historyCursor!==e&&(n&&m.call(this,"off",n),this.historyCursor=e,t=this.getCurrentSound(),t&&m.call(this,"on",t),this.trigger("change:currentSound",{prev:n,current:t}))}function A(e,t,n,i,s){return t instanceof A?t:(this.sound=e,this.layoutInfo=R.clone(n),this.sourceInfo=t&&t.getSourceInfo()||{},this.sourcePosition=s,this.restoreUrl=i,this.reposterUrn=E(t),void(this.promotedInfo=D(e,t)))}function E(e){var t,n=C(e);return n&&(t=G.generate("user",n.get("user").id)),t}function C(e){var t=e&&e.at&&e.at(Z.sourceCursor),n=t&&R.isFunction(t.get)&&/repost$/.test(t.get("type"));return n&&t}function D(e,t){if(!c(t))return null;var n=Z.indexOfAudibleInSource(e,t),i=t.at(n);return R.result(i,"isPromoted")?q.extractPromotedAttrs(i):null}function I(e){L.call(this,e),F.call(this,e),M.call(this,e)}function M(e){var t=this.source;t&&(c(t)?(t.remove(e),e.release()):"sound"===t.resource_type&&(t.release(),this.unsetInitialSource(t)))}function P(e,t,n){for(var i=e.length;i--;)e[i].sound===t&&(f(e[i]),n&&(this.historyCursor>i||this.historyCursor===i&&i===e.length-1)&&this.historyCursor--,e.splice(i,1))}function L(e){P.call(this,this.history,e,!0)}function F(e){P.call(this,this.queue,e)}function N(e){return e&&e.hasDataForPlay&&!e.hasDataForPlay()}var O,R=n(3),$=n(76),B=n(27),U=n(74),z=n(22),j=n(23),H=n(66),V=n(167),q=n(85),W=n(334),G=n(99),Y=5e3,K=3,Q=3,J=2500;j.on("geoBlocked",a);var Z=e.exports=R.assign({},B.Events,{states:{globalPlayLock:{initial:!1},repeating:{initial:!1}},history:[],historyCursor:-1,source:null,sourceCursor:-1,initialSourcePriority:-(1/0),queue:[],layoutInfo:{},restoreUrl:null,FallbackSource:null,_fetchDeferred:null,_sessionPlays:0,_autoplay:!1,_autoplayTimeout:null,setInitialSource:function(e,t,n){t=t||0,-1===this.sourceCursor&&t>this.initialSourcePriority&&(this.initialSourcePriority=t,this.saveLayout(),x.call(this,e,n))},unsetInitialSource:function(e){-1===this.sourceCursor&&this.source===e&&(x.call(this,null),this.initialSourcePriority=-(1/0))},indexOfAudibleInSource:function(e,t){var n=-1;return c(t)?(t.any(function(i,s){var r=w(s,t);return r&&(r===e||r.getSoundIndex(e)>-1)?(n=s,!0):void 0}),n):t===e?0:t.getSoundIndex(e)},hasPrevSound:function(){return this.historyCursor>0},hasNextSound:function(){var e=this.source,t=this.getCurrentSound(),n=c(e);return!!(this.historyCursor<this.history.length-1||this.queue.length>0||e&&n&&(!e.isFullyPopulated()||e.length&&this.sourceCursor<e.length-1)||e&&!n&&(this.sourceCursor<0?e.getFirstSound():e.getNextSound())||t&&t.isPublic()&&this.FallbackSource)},isSourcePlaying:function(e){var t=Z.getCurrentSound(),n=Z.getCurrentMetadata(),i=n&&n.sourceInfo;return!!(t&&t.isPlaying()&&R.isEqual(i,e.getSourceInfo()))},hasCurrentSound:function(){return!(!this.getCurrentSound()&&!this.hasNextSound())},getCurrentSound:function(){var e=this.history[this.historyCursor];return e&&e.sound},getPrevSound:function(){var e=this.history[this.historyCursor-1];return e&&e.sound},addToQueue:function(e,t){var n=this.queue;(0===n.length||n[n.length-1].sound.id!==e.id)&&this.queue.push(new A(e,t,l(),null))},getSessionPlays:function(){return this._sessionPlays},addToHistory:function(e,t){var n,i,s,r,o=e!==this.getCurrentSound();n=this.historyCursor+(o?1:0),i=z.get("playHistoryLength"),r=new A(e,t,this.layoutInfo,this.restoreUrl,this.sourceCursor),this.history.splice(n).forEach(f),this.history.push(r),g(r),s=Math.max(0,this.history.length-i),s&&(this.history.splice(0,s).forEach(f),this.historyCursor-=s),T.call(this,this.history.length-1)},reset:function(){var e=this.getCurrentSound();e&&e.pause(),this.history.forEach(function(e){e.sound.release()}),T.call(this,-1),this.history=[],this._sessionPlays=0,this.queue.forEach(function(e){e.release()}),this.queue=[],this.layoutInfo={},this._fetchDeferred&&this._fetchDeferred.reject(),x.call(this,null),this.FallbackSource=this.fallbackRestoreFn=this.restoreUrl=null,this.initialSourcePriority=-(1/0)},enableAutoplay:function(){this.source?this.playCurrent({userInitiated:!1}):this._autoplay=!0},play:function(e,t){t=t||{};var n=t.keepSource&&this.source||t.source||e.playlist||e;N(e)?e.fetch().done(r.bind(this,n,e,t)):r.call(this,n,e,t)},playSource:function(e,t){t=t||{},x.call(this,e,t.restoreUrl)?this.playNext(t):this._fetchDeferred||this.playCurrent(t)},toggle:function(e,t){e.isPlaying()?this.pause(e,t):this.play(e,t)},pause:function(e,t){e.pause(t)},playCurrent:function(e){var t=this.getCurrentSound();t?(e=e||{},O.isUserAdConsumer()?(O.whenAdFinished(t,e).always(o.bind(this,t,e)),s.call(this,t)):o.call(this,t,e)):(Z.saveLayout(),Z.playNext(e))},pauseCurrent:function(e){var t=this.getCurrentSound();t&&t.pause(e)},toggleCurrent:function(e){var t,n=this.getCurrentSound();if(Z.getState("globalPlayLock"))return t=O.isUserAdConsumer()&&O.getCurrentSound(),void(t&&t.toggle(e));if(n){if(O.isUserAdConsumer()&&(t=O.getCurrentSound()))return void t.toggle(e);n.toggle(e)}else this.playCurrent(e)},playNext:function(e){var t=this;return e=R.assign({seek:0,isRepeating:Z.getState("repeating")},e),O.isUserAdConsumer()&&O.getCurrentSound()?(O.skip(),H.resolve()):(this.pauseCurrent(),k.call(this,this.source,e).done(function(n,i){if(i){var s,r,o=i.source;s=t.FallbackSource&&o instanceof t.FallbackSource?t.fallbackRestoreFn(t.getCurrentSound()):e.restoreUrl,x.call(t,o,s,e),n&&(null!=i.historyCursor?T.call(t,i.historyCursor):(null!=i.queueIndex?r=t.queue.shift():null!=i.sourceCursor&&(S.call(t,i.sourceCursor),r=t.source,c(o)&&i.sourceCursor>=o.length-K&&!o.isFullyPopulated()&&o.fetch({add:!0,remove:!1})),t.addToHistory(n,r)),t.playCurrent(e),i.initialFallback&&t.trigger("fallback"))}}))},playPrev:function(e){var t=this.getCurrentSound(),n=this.getPrevSound();O.isUserAdConsumer()&&O.getCurrentSound()&&O.skip(),e=R.assign({seek:0},e),t&&t.currentTime()>Y?(t.seek(0),t.isPlaying()||t.play(e)):n&&(this.pauseCurrent(),T.call(this,this.historyCursor-1),this.playCurrent(e))},setFallbackSource:function(e,t){this.FallbackSource=e,this.fallbackRestoreFn=t},setAdManager:function(e){O=e,Z.listenTo(O,"state:isInRequiredListenPeriod",i)},restoreState:function(){var e,t=this.getCurrentRestoreUrl(),n=this.getCurrentSound(),i=z.get("router");t?(e=n.playlist||n,i.navigate(t,{trigger:!0}),z.set("restoreToSound",e.resource_type+e.resource_id)):n&&i.navigateToRoute("listen",[n],{trigger:!0})},getCurrentRestoreUrl:function(){var e=this.history[this.historyCursor];return e&&e.restoreUrl||""},getCurrentMetadata:function(){var e=O.isUserAdConsumer()?O.getCurrentSound():null;return e?new A(e,this.source,l(),null):this.history[this.historyCursor]},saveLayout:function(){this.layoutInfo=l()}});W.applyTo(Z),Z.listenTo($,"destroy",function(e){var t=e.targetType,n=e.targetModel;"sound"===t&&I.call(this,n)})},,function(e,t,n){"use strict";var i=n(231),s=n(1101),r=n(757),o=e.exports=i.extend();s.applyTo(o.prototype),r.applyTo(o.prototype)},,function(e,t,n){function i(e,t){e.indexOf(t)<0&&e.push(t)}var s=n(3),r={comments:"comment",groups:"group",playlists:"playlist",sounds:"track",tracks:"track",users:"user"},o={comments:"comment",groups:"group",playlists:"playlist",sounds:"sound",tracks:"sound",users:"user"},a={comment:"comments",group:"groups",playlist:"playlists",sound:"tracks",track:"tracks",user:"users"},l={sets:"playlists",sounds:"tracks",people:"users"},u=s.reduce(l,function(e,t,n){return e[t]=e[t]||[],e[n]=e[n]||[],i(e[t],n),i(e[n],t),e},{}),c=s.negate(RegExp.prototype.test.bind(/\D/));e.exports={getAsAttributes:function(e){var t=e.split(":"),n=t[2],i=o[t[1]];return c(n)&&(n=parseInt(n,10)),"user"===i&&"system"===n&&(n=193),{id:n,kind:r[t[1]],resource_type:i}},generate:function(e,t){var n=a[e];return n?"soundcloud:"+n+":"+t:null},getAlternateUrns:function(e){var t=e.split(":"),n=t[1],i=u[n];return i?i.map(function(e){return t[0]+":"+e+":"+t[2]}):null},getCanonicalUrn:function(e){var t=e.split(":"),n=t[1],i=l[n];return i?(t[1]=i,t.join(":")):e}}},function(e,t,n){(function(t){"use strict";function i(e){var t,n,i=-1;return E.imageUrlRegex.lastIndex=0,t=e.replace(E.imageUrlRegex,function(e,t,s,r,o){return h.find(E.availableSizes,function(e,t){return e[1]===o?(i=t,!0):void 0}),n=t,s}),n&&i>-1?{index:i,key:t,type:n}:null}function s(e){S[e.type][e.key]|=1<<e.index}function r(e){return c(e).then(function(t){return a(e,t)},function(){return o(e)})}function o(e){var t=new x,n=v.defer();return t.onload=function(e){
n.resolve(e.target.result)},t.onerror=t.onabort=n.reject,t.readAsDataURL(e),n.promise()}function a(e,t){var n=o(e),i=t[0],s=t[1];return 0!==i||s?n.then(l).then(function(e){var n=w.createElement("canvas"),i=n.getContext("2d"),s=e.width,r=e.height;return n.width=s,n.height=r,u(i,t),i.drawImage(e,0,0),n.toDataURL("image/png")}):n}function l(e){var t=v.defer(),n=new k;return n.onload=function(){t.resolve(n)},n.onerror=function(){t.reject()},n.src=e,t.promise()}function u(e,t){var n=t[0],i=t[1],s=e.canvas,r=s.width,o=s.height;e.translate(r/2,o/2),i&&e.scale(-1,1),e.rotate(n*y),e.translate(-r/2,-o/2)}function c(e){var t=new x,n=v.defer();return t.onerror=t.onabort=function(){n.reject(N)},t.onload=function(e){var t=new DataView(e.target.result);if(t.getUint16(0,!1)!==D)return void n.reject(F);var i=t.byteLength,s=2;try{for(;i>s;){var r=t.getUint16(s,!1);if(s+=2,r===I){var o=t.getUint16(s+=8,!1)===M;s+=t.getUint32(s+4,o);var a=t.getUint16(s,o);s+=2;for(var l=0;a>l;l++)if(t.getUint16(s+12*l,o)===P){var u=t.getUint16(s+12*l+8,o);return void n.resolve(C[u])}}else{if(!d(r))break;s+=t.getUint16(s,!1)}}}catch(c){window.console.error("Error reading JPEG headers")}n.reject(L)},t.readAsArrayBuffer(e.slice(0,65536)),n.promise()}function d(e){return 65280===(65280&e)}var h=n(3),p=n(308),f=n(946),g=n(693),m=n(88),v=n(66),_=n(93),y=Math.PI/180,b=window,w=b.document,x=b.FileReader,k=b.Image,S={},T=["user","profile-settings"],A=["user"],E=e.exports=h.defaults({tagOptions:{whitelist:["style","title","class","aria-label","aria-role","aria-hidden"],closingTag:!0},load:function(e){var n=new k,i=t(n),s=v.defer(),r=h.uniqueId("ImageHelperLoad");return _.corsImg&&(n.crossOrigin=window.location.host,e+="?xd=true"),i.on("load."+r,function(){s.resolve(this)}).on("error."+r,function(){s.reject(this)}),s.always(function(){i.off("."+r)}),n.src=e,s},getPlaceholderUrl:function(e,t){var n,s,r,o,a=i(E.setFormat(e,t));if(a){if(n=a.key,S[a.type]||(S[a.type]={}),S[a.type][n])for(s=h.find(E.availableSizes,function(e,n){var i=e[0];return o=n,i>=t});o>=0;){if(S[a.type][n]&1<<o){r=E.availableSizes[o];break}--o}if(s&&r===s)return!1;if(r)return E.setFormat(e,r[0])}return null},urlFrom:function(e,t,n){return t&&m.isHiDPI&&(t*=2),f.urlFrom.call(this,e,t,n)},markup:function(e,t){e&&e.attributes&&(e=e.attributes);var n=t.src,i=t.size,s=t.stretch,r=t.placeholderId,o=t.forceSquare,a=n||this.urlFrom(e,i);a=this.isDefaultImage(a)?null:"url("+a+")";var l=this.getPlaceholderClass(e||r,{forceSquare:!!o}),u=s?"100%":i+"px",c=h.assign({style:{"background-image":a,width:u,height:u},"class":"sc-artwork "+l+" "+(t["class"]||""),"aria-label":this.getAltText(e),"aria-role":"img"},h.omit(t,"stretch","size","class"));return p.getMarkup("span",c,this.tagOptions)},flagCachedImage:function(e){var t=i(e);t&&s(t)},isRounded:function(e){var t=e._resource_type,n=e.kind;return t?T.indexOf(t)>-1:n?A.indexOf(n)>-1:T.indexOf(e)>-1},getPlaceholderClass:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.forceSquare,i="number"==typeof e,s=i?e:e&&e.id||0,r=i||n?"":E.isRounded(e)?"image__rounded":"",o=12;return"sc-artwork-placeholder-"+s%o+" "+r},getPlaceholderGradient:function(e){var t=E.getPlaceholderClass(e),n=t.split(" ").find(function(e){return e.indexOf("sc-artwork-placeholder")>-1});return g[n]},getPlaceholderCanvas:function(e,t){var n=w.createElement("canvas"),i=n.getContext("2d"),s=E.getPlaceholderGradient(e),r=s[0],o=s[1];n.width=n.height=t;var a=i.createLinearGradient(0,0,t,t);return a.addColorStop(0,r),a.addColorStop(1,o),i.fillStyle=a,i.fillRect(0,0,t,t),n},readImageFile:o,readImageFileCorrected:r},f),C={1:[0,!1],2:[0,!0],3:[180,!1],4:[180,!0],5:[90,!0],6:[90,!1],7:[270,!0],8:[270,!1]},D=65496,I=65505,M=18761,P=274,L=-1,F=-2,N=-3}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var i=n(3),s=n(76),r=n(330),o=n(72),a=n(70),l=n(67),u=1/0;e.exports=o.extend(r,{resource_type:"comment",urnPrefix:"soundcloud:comments",parse:function(e){return null===e.timestamp&&(e.timestamp=u),e},baseUrl:function(){return["comments",this.id].join("/")},saveUrl:function(){var e=this.getSound(),t=["tracks",e.id,"comments"].join("/"),n=e.get("secret_token");return n&&e.isPrivate()?l.modify(t,{query:{secret_token:n}}):t},destroyUrl:function(){return["tracks",this.getSoundId(),"comments",this.id].join("/")},getAttributesToBeSaved:function(){return this.pick("body","timestamp")},setReplyTo:function(e){this.set("replyTo",e.id),this.trigger("change:recipient",e.get("user").permalink)},hasDataForView:function(e){return o.prototype.hasDataForView.call(this,i.without(e,"id"))},getSound:function(){var e=this.getSoundId(),t=a.hashFn({id:e,resource_type:"sound"}),n=a.instances.get(t);return!n&&e&&(n=new a(this.get("track")||{id:e}),this.addSubmodel(n)),n},destroy:function(e){return this.isNew()||s.notify("comment",{object:this,target:this.getSoundId(),targetType:"sound",state:!1}),o.prototype.destroy.call(this,e)},getSoundId:function(){return this.get("track_id")||(this.get("track")||{}).id},reportAsSpam:function(){var e=this;t.post("i1/comments/"+this.id+"/spam",function(){e.trigger("destroy",e,e.collection)})}},{EMPTY_TIMESTAMP:u})}).call(t,n(1))},,,,function(e,t,n){"use strict";var i=n(136),s=n(728),r=n(66),o=e.exports=i.extend({nullable:!0,validate:function(e,t){var n=r.defer();return null==t?this.result(n,this.nullable):this.check(t,this.result.bind(this,n)),n}});s.applyTo(o.prototype)},,,,function(e,t,n){"use strict";function i(e){return null==e||0===e.length}var s=n(105),r=n(64);e.exports=s.extend({nullable:!1,message:r.t("This field must not be empty"),shouldCheck:function(){return!0},check:function(e,t){var n=this.shouldCheck.call(this._form)&&i(e);t(!n)}})},function(e,t,n){"use strict";var i=n(3),s=n(23),r=n(72),o=e.exports=r.extend({url:null,lastFetchTime:1,initialize:function(e){e=e||{},this.id||(e.id=this.id=this.cid,o.instances.set(this.id,this)),this.fatal=!!e.fatal,r.prototype.initialize.apply(this,arguments)}},{raise:function(e,t){var n=new o(e);if(n.release(),t=t||{},t.hard)throw n;s.trigger("exception",n)},ajaxFatal:function(e){return function(t,n){"abort"!==n&&o.raise(i.assign(e,{xhr:t,fatal:!0}))}},ajaxNonFatal:function(e){return function(t,n){"abort"!==n&&o.raise({message:e,xhr:t,fatal:!1})}}})},,,function(e,t,n){(function(t){"use strict";function i(e,t){var n=t+"d",i="resize"===e?s(n):l.trigger.bind(l,e+":"+n);return r[t](i,a)}function s(e){var t=window.innerWidth,n=window.innerHeight,i=l.trigger.bind(l,"resize:x:"+e),s=l.trigger.bind(l,"resize:y:"+e),r=l.trigger.bind(l,"resize:"+e);return function(e){var o=window.innerWidth,a=window.innerHeight;o!==t&&i(e),a!==n&&s(e),r(e),n=a,t=o}}var r=n(3),o=n(27),a=200,l=e.exports=r.assign({},o.Events);t(window).on("resize",i("resize","debounce")).on("resize",i("resize","throttle")).on("scroll",i("scroll","debounce")).on("scroll",i("scroll","throttle"))}).call(t,n(1))},,function(e,t,n){var i=n(21),s=n(369),r=n(368),o=s.withDefaults(r.oneline);e.exports=function(e,t){return(void 0===t.hash.escapeExpression||t.hash.escapeExpression)&&(e=i.Utils.escapeExpression(e)),new i.SafeString(o(e,t.hash))}},function(e,t,n){function i(e){var t=0;return t=10>e?2:100>e?1:0}var s,r=n(3),o=n(64),a=["K","M","B"];s={max:null,suffix:"+",useSIUnits:!1,precision:null};e.exports={render:function(e,t){if("number"!=typeof e)return e;var n=0,l="",u=0;if(t=t||{},r.defaults(t,s),t.max&&e>t.max)e=t.max,l=t.suffix;else if(t.useSIUnits){if(null===t.precision&&1e4>e)return o.numberHelper.format(e);for(;e>=1e3&&n<a.length;)e/=1e3,l=a[n++];u=null!==t.precision?t.precision:i(e)}return o.numberHelper.format(e,{precision:u,roundingFn:Math.floor})+l}}},,,,,,,,function(e,t){e.exports=function(e,t,n){return("function"==typeof e?e():e)?t:n}},function(e,t,n){(function(t){"use strict";function i(){var e,n,i,s,r=window,o=r.history&&r.history.state&&r.history.state.scrollTop,a=r.document.documentElement,l=r.document.body;null!=o?(i=function(){n?n=!1:(r.clearTimeout(e),t(r).off("scroll",i),e=null)},(s=function(){n=!0,a.scrollTop=l.scrollTop=o,(a.scrollTop||l.scrollTop)===o?(t(r).off("scroll",i),e=null):(e||t(r).on("scroll",i),e=r.setTimeout(s,100))})()):a.scrollTop=l.scrollTop=0}var s=n(3),r=n(27),o=n(328),a=n(1096),l=n(66),u=n(339),c=n(64),d="l-footer",h=n(1207),p=e.exports=r.View.extend({css:null,template:null,tracking:null,views:null,_currentViews:null,slots:null,includeFooter:null,footerClassName:"sc-border-light-top",displayHeader:!0,initialize:function(){this.views={},this._currentViews={}},setArgs:function(e){this.args=e||{}},setup:function(){var e=l.defer();return s.defer(e.resolve),e},dispose:function(){s.invoke(this._currentViews,"_dispose"),s.invoke(this.views,"_dispose"),this.$el.remove(),delete this.slots,delete this.views,delete this._currentViews},switchLayout:function(e){e&&(s.invoke(this._currentViews,"_dispose"),s.invoke(this.views,"_dispose"),this.template=e.template,this.includeFooter=e.includeFooter,this.slots=null,this.$el.empty())},getTemplateData:s.noop,render:function(){var e,n;return this.includeFooter&&(e=this.views[d]),""===this.el.innerHTML&&(u.render(this.template,this.getTemplateData(),this.el),this.slots={},s.each(this.views,function(e,t){this.slots[t]=this.$("."+t)[0]},this)),s.each(this.views,function(e,t){this._currentViews[t]!==e&&(this._currentViews[t]&&this._currentViews[t]._dispose(),e.render(),t!==d&&this.slots[t].appendChild(e.el),this._currentViews[t]=e)},this),n=this.$(this.includeFooter),e&&!e.disposed&&n[0]&&n.append(e.$el.addClass(this.footerClassName)),t(window.document.body).toggleClass("m-hideHeader",!this.displayHeader),i(),this.renderDecorate(),this},renderDecorate:s.noop,setViews:function(e){this.includeFooter&&(e[d]=[h]);var t=l.defer();return s.each(e,function(e,t){var n=e[0],i=e[1];this._currentViews[t]&&this._currentViews[t].isEquivalentTo(n,i)||(this.views[t]=new n(i))},this),s.delay(t.resolve.bind(t)),t},getChangeEventData:function(e){var t;return t=s.mapObject(this.tracking,function(e,t){return s.isFunction(e)?e.call(this):e},this),{layoutName:e,tracking:t,args:this.args}},setTitle:function(e,t){o.set(e,t)},t:c.t,tp:c.tp});a.applyTo(p.prototype)}).call(t,n(1))},function(e,t,n){var i=n(21),s=n(737);e.exports=function(e){return new i.SafeString(s.render(e.hash))}},function(e,t,n){var i=n(21),s=n(100);e.exports=function(e,t){return new i.SafeString(s.markup(e,t.hash))}},function(e,t,n){"use strict";var i=n(3),s=n(64),r={buttonText:s.t("I need help"),buttonLink:"http://help.soundcloud.com"},o={buttonText:s.t("Get latest status"),buttonLink:"http://status.soundcloud.com"};e.exports={UNKNOWN:i.assign({title:s.t("Something doesn’t sound right."),message:s.t("A report has been sent to our tech team,<br> and they’re looking into the problem.<br>Please check back in a bit.")},o),PAGE_NOT_FOUND:i.assign({title:s.t("We can’t find that page.")},r),SOUND_NOT_FOUND:i.assign({title:s.t("We can’t find that track."),message:s.t("Did you try to access a private track while not being signed in?<br>Maybe the track has been removed.")},r),PRIVATE_SOUND:{title:s.t("This track is private."),message:s.t("You’ll need to sign in to listen to it."),login_required:!0},PLAYLIST_NOT_FOUND:i.assign({title:s.t("We can’t find that playlist."),message:s.t("Did you try to access a private playlist while not being signed in?<br>Maybe the playlist has been removed.")},r),GROUP_NOT_FOUND:i.assign({title:s.t("We can’t find that group.")},r),USER_NOT_FOUND:i.assign({title:s.t("We can’t find that user.")},r),USER_INFO_NOT_LOADED:i.assign({title:s.t("We’re unable to load your profile information at the moment.")},r)}},function(e,t,n){"use strict";var i=n(24);e.exports=new i({requires:["getSourceInfo"]})},,,,,,,function(e,t){"use strict";e.exports=function(){function e(n,i){function s(){return!t&&this.initialize?this.initialize.apply(this,arguments):void 0}var r,o,a,l,u;for(t=!0,u=new this,t=!1,l="[object Array]"!==Object.prototype.toString.call(n)?[n]:n,o=0,a=l.length;a>o;++o){n=l[o];for(r in n)u[r]=n[r]}return i&&Object.keys(i).reduce(function(e,t){return e[t]=i[t],e},s),s.prototype=u,s.prototype.constructor=s,s.extend=e,s}var t=!1,n=function(){};return n.extend=e,n}()},function(e,t,n){"use strict";var i=n(64),s={EUR:"€",USD:"$",CAD:"$",AUD:"$",GBP:"£"},r=e.exports={codeToSymbol:function(e){var t=s[e];return t||e},format:function(e,t){switch(i.getLocale()){case"en":case"en_GB":return""+r.codeToSymbol(t)+e;default:return""+e+r.codeToSymbol(t)}},formatWithSymbolAndCode:function(e,t){return this.format(e,t)+" "+t},getYearlyPercentageDiscount:function(e,t){return Math.floor(100*(1-t/(12*e)))+"%"},getYearlyDiscountAmount:function(e,t,n){var i=Math.round(12*e-t);return this.format(i,n)}}},,,,function(e,t,n){function i(e,t,n,i){return r.tp(t,n,e,i.hash,{comment:i.hash._comment,context:i.hash._context})}function s(e,t){return r.tp(o.cleanBlockText(t.fn()),o.cleanBlockText(t.inverse()),e,t.hash,{comment:t.hash._comment,context:t.hash._context})}var r=n(64),o=n(736);e.exports=function(){var e=arguments.length;if(4===e)return i.apply(null,arguments);if(2===e)return s.apply(null,arguments);throw new Error("Invalid signature to tp helper, expected 4 or 2 arguments, got: "+e)}},function(e,t,n){"use strict";var i=n(129),s=n(74);e.exports=s.extend(i,{defaults:{type:null,userId:null},setup:function(e){e.resource_id&&!e.userId&&(e.userId=e.resource_id)},getSourceInfo:function(){return{type:"user-"+this.options.type,resourceId:this.options.userId,resourceType:"user"}}},{hashFn:function(e,t){return t&&(t.userId||t.resource_id)||null}})},function(e,t,n){"use strict";function i(e,t){var n=e.previousAttributes().username,i=/^user\d+$/;i.test(n)&&this.set("permalink",r(t))}function s(){var e=this.getAttributesFromModel();this.set(e),this.unsetImageFile({force:!0}),this.markFieldsClean()}function r(e){return e.replace(/^[_-]/,"").replace(/[_-]$/,"").replace(/([_-]){2,}/g,"$1").replace(/[^a-z0-9_-]/g,"")}var o=n(3),a=n(22),l=n(191),u=n(23),c=n(89),d=n(192),h=n(193),p=n(64),f=n(178),g=n(1060),m=n(109),v=n(66),_=n(1062),y=n(719);e.exports=c.extend(d.withOptions({read:"avatar_url"}),h.withOptions({attr:"username"}),l,{resource_type:"profile-settings",_user:null,_webProfileForms:null,fields:{username:{defaultValue:""},permalink:{defaultValue:""},description:{defaultValue:""},avatar_url:{defaultValue:null},first_name:{defaultValue:""},last_name:{defaultValue:""},city:{defaultValue:""},country_code:{defaultValue:""}},constraints:{username:[[m,{message:p.t("A display name is required")}],[g,{minLength:3,message:p.t("Your display name must be at least [[minLength]] characters")}],[f,{maxLength:25,message:p.t("Your display name must not exceed [[maxLength]] characters")}]],permalink:[[m,{message:p.t("A profile URL is required")}],[_,{getResource:function(){return a.get("me")}}]],description:[[f,{maxLength:4e3,message:p.t("Must not exceed [[maxLength]] characters")}]]},actions:{"default":"save",save:function(){var e=this,t=v.defer();return this.validate().done(function(n){n?e.saveEdits().done(function(){e.trigger("saved"),u.trigger("settings:saved"),t.resolve(),e.markFieldsClean()}).fail(t.reject):t.reject()}),t},cancel:function(){this.cancelEdits()}},buttons:{save:{label:p.t("Save changes"),pendingLabel:p.t("Saving"),action:"save"},cancel:{label:p.t("Cancel"),action:"cancel"}},setup:function(){this._user=a.get("me"),this._webProfileForms=new y(null,{userId:this._user.id}),this.listenTo(this._webProfileForms,"form:dirty",this.enableAction).listenTo(this._webProfileForms,"form:clean",this.disableAction).listenTo(this,"imageDataChanged",this.markFieldsDirty.bind(this,"avatar_url")),s.call(this),this.listenTo(this,"change:username",i)},getUser:function(){return this._user},getWebProfileForms:function(){return this._webProfileForms},cancelEdits:function(){this.unsetImageFile(),s.call(this),this.trigger("canceled"),this.getWebProfileForms().fetch()},isDirty:function(){var e=c.prototype.isDirty.apply(this,arguments);return e||this.getWebProfileForms().some(function(e){return e.isDirty()},this)},markFieldsClean:function(){c.prototype.markFieldsClean.apply(this,arguments),this.getWebProfileForms().invoke("markFieldsClean")},saveEdits:function(){var e=this.getUser(),t=this.getWebProfileForms(),n=this.getAttributesToBeSaved(),i=[];e.set(n),i.push(t.saveEdits()),i.push(e.save(n));var s=this.getImageFileInfo();return s.file&&(e.setImageFile(s.file,s.source),e.once("imageTranscodingDone",function(e){this.unsetImageFile({silent:!0}),this.set("avatar_url",e.avatar_url)}),i.push(e.uploadImage())),v.all(i).done(t.fetch.bind(t))},getAttributesToBeSaved:function(){return o.pick(this.attributes,"city","country_code","first_name","last_name","description","permalink","username")},getAttributesFromModel:function(){var e=this.getUser(),t=o.pick(e.attributes,"avatar_url","city","first_name","last_name","description","permalink","username");return t.country_code=e.getCountryCode(),t}},{hashFn:function(){return 1},onCleanup:function(e){e._webProfileForms.release()}})},function(e,t,n){(function(t){"use strict";function i(e,t){t&&t.sent_at&&(this._lastMessageSentAt=new Date(t.sent_at),this.set("has_attachment",s.call(this)))}function s(){var e=this.get("last_message");return e?!!e.content.match(d.scLinksRegexGlobal):!1}var r=n(76),o=n(324),a=n(23),l=n(3),u=n(22),c=n(429),d=n(226),h=n(72),p=n(66),f=n(68),g=193;e.exports=h.extend({resource_type:"conversation",saveWithWrapper:!1,_lastMessageSentAt:null,submodelMap:{users:f},baseUrl:function(){return o.baseUrlWithId(this.id)},setup:function(){this.listenTo(this,"change:last_message",i)},parse:function(e){var t=l.find(e.users,function(e){return"system"===e.id});return t&&(t.id=g),h.prototype.parse.apply(this,arguments)},getRecipient:function(){var e,t=u.get("me").id;return e=l.find(this.get("users"),function(e){return t!==e.id}),e||this.get("users")[0]},fetch:function(){var e=this;return h.prototype.fetch.apply(this,arguments).fail(function(){e.trigger("error")})},isFromSoundCloud:function(){return this.getRecipient().id===g},isFromMissingUser:function(){return"missing_user"===this.getRecipient().kind},setRead:function(e){this.set("read",e)},markAsRead:function(){var e=this.toggleReadState(!0);return a.trigger("conversation:read",this.id),e},markAsUnread:function(){var e=this.toggleReadState(!1);return a.trigger("conversation:unread",this.id),e},toggleReadState:function(e){var t,n=this,i=null!=e?e:!this.get("read");return this.set("read",i),this._saveDeferred||(this._saveDeferred=t=p.defer().always(function(){n._saveDeferred=null}).done(function(){n.get("read")!==i&&n.toggleReadState(n.get("read"))}),this.save({read:i},{dataType:"text"}).done(function(){window.setTimeout(t.resolve,1e3)}).fail(function(){window.setTimeout(t.reject,1e3)})),this._saveDeferred},getUuid:function(){var e=this.get("last_message");return c.hashFn(e)},infoForBadge:function(){var e=this.get("last_message");return{from:this.getRecipient(),isFromSoundCloud:this.isFromSoundCloud(),content:e.content,sentAt:e.sent_at,id:this.id}},lastMessageSentAt:function(){return this._lastMessageSentAt||i.call(this,null,this.get("last_message")),this._lastMessageSentAt},destroyAndReport:function(e){var n=this;e?t.ajax({url:this.baseUrl()+"/spam",type:"PUT",success:function(){n.trigger("destroy",n)}}):r.destroy(this)}})}).call(t,n(1))},function(e,t,n){var i=n(116);e.exports=function(e){return i.render(e,{useSIUnits:!0})}},function(e,t){e.exports=function(e){return e.replace(/^https?:.+?\w\//,"/")}},function(e,t,n){"use strict";var i=n(3),s=n(27),r=n(136),o=e.exports=r.extend({enabled:!0,_breakCount:0,_failCount:0,_maxBreaks:0,_timeoutId:null,defaults:{tolerance:1,baseDelay:1e3,maxDelay:3e4,backoffRate:2,giveUp:null,enabled:!0},initialize:function(e){i.bindAll(this,"failed","succeeded"),this.setup(e)},setup:function(e){this.options=i.assign({},this.options||this.defaults,e),e=i.defaults(this.options,this.defaults);var t=e.maxDelay/e.baseDelay;if(e.backoffRate>1)for(;t>1;)++this._maxBreaks,t/=e.backoffRate;else this._maxBreaks=1/0;e.enabled||this.disable()},dispose:function(){this.off(),this.clearTimeout()},clearTimeout:function(){this._timeoutId&&(window.clearTimeout(this._timeoutId),this._timeoutId=null)},failed:function(){++this._failCount>=this.options.tolerance&&this.disable()},succeeded:function(){this._breakCount=this._failCount=0},disable:function(e){if(this.enabled){var t=!e||e.autoEnable!==!1;this.enabled=!1,++this._breakCount,t&&(!this.options.giveUp||this._breakCount<this.options.giveUp)?this._timeoutId=window.setTimeout(this.enable.bind(this),this.currentDelay()):this.trigger("giveup"),this.trigger("disabled")}},enable:function(){this.enabled||(this.enabled=!0,this._failCount=0,this.trigger("enabled"))},currentDelay:function(){var e=this.options;return Math.min(e.baseDelay*Math.pow(e.backoffRate,Math.floor(Math.random()*Math.min(this._maxBreaks,this._breakCount))),e.maxDelay)}});i.assign(o.prototype,s.Events)},,function(e,t,n){"use strict";function i(){return l.get("rollouts").get("internal_qa")}function s(e){return e.isSnippetized()&&r(e.get("monetization_model")).length>0}function r(e){switch(e){case"SUB_MID_TIER":return[c.productIds.CONSUMER_SUBSCRIPTION_HIGH_TIER];case"SUB_HIGH_TIER":return[c.productIds.CONSUMER_SUBSCRIPTION_HIGH_TIER];default:return[]}}function o(e){return a(e).then(function(e){return e.release(),e.isAvailable()})}function a(e){var t=new d({id:e});return t.isPopulated()||t.hasDataForView(["preselected_term"])?u.resolve(t):t.fetch().then(function(){return t})}var l=n(22),u=n(66),c=n(26),d=n(94);e.exports={monetizationModelToProductIds:r,soundRequiresUpsell:s,consumerSubsActive:i,isProductAvailable:o}},function(e,t,n){"use strict";var i=n(125);e.exports=i.extend({includeFooter:".l-one-column",css:n(2363),template:n(913)})},function(e,t,n){"use strict";var i=n(24);e.exports=new i({applyTo:function(e,t){var n=t.events,i=[];this.after(e,{setup:function(){var e=this.constructor;-1===i.indexOf(e)&&(i.push(e),n.forEach(function(t){var n=t.emitter,i=t.event,s=t.getInstance,r=t.handler;n.on(i,function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];var o=e.instances.find(function(e){return s.apply(void 0,[e].concat(n))});o&&r.apply(o,n)})}))}})}})},,function(e,t,n){"use strict";function i(){var e=this,t=this._ignoredCollections;return I.find(this.sources,function(n,i){return t.indexOf(i)<0&&!(n.isFullyPopulated()||p.call(e,n))})}function s(e,t){var n=e?"on":"off";t[n]("all",c,this)[n]("add",l,this)[n]("reset",a,this)[n]("remove",u,this)}function r(){this._map=I.assign({blacklist:new P},this.filters.map(function(){return new P}))}function o(e){var t=this,n=0;return this.sources.some(function(i,s){return i===e?!0:void(n+=t._sourceModelCounts[s])}),n}function a(e){var t=this,n=this._sourceModels.length,i=!n&&(!!e.length||this.isFullyPopulated());e.models.forEach(function(n){l.call(t,n,e,{silent:i})}),(i||this._sourceModels.length>n)&&(this.lastFetchTime=Date.now()),i&&this.trigger("reset",this,{})}function l(e,t,n){n=n||{};var i=t.indexOf(e)+o.call(this,t);this.lastFetchTime=Date.now(),_.call(this,e,t,i,n)}function u(e,t,n){var i=n.index+o.call(this,t);y.call(this,e,t,i)}function c(e){switch(e){case"add":case"remove":case"reset":case"destroy":return;default:this.trigger.apply(this,arguments)}}function d(e,t){var n=this,i=this.length,s=this._sourceModels.length,r=s,o=i+e,a={silent:t},l=!this.lastFetchTime;return this.sources.every(function(t,i){var u,c,d,h;do{for(u=t.models.slice(s,s+e),d=u.length,d&&(n.lastFetchTime=t.lastFetchTime||Date.now(),l&&(l=!1,n.trigger("reset",n,{}))),h=n.length;c=u.shift();)s++,_.call(n,c,t,r++,a);e-=n.length-h}while(n.length<o&&d&&!p.call(n,t));return s-=n._sourceModelCounts[i],n.length<o&&(t.isFullyPopulated()||p.call(n,t))}),!this.lastFetchTime&&this.sources.every(function(e){return e.isFullyPopulated()})&&(this.lastFetchTime=Date.now()),this.length>i}function h(e){return this._sourceModelCounts[this.sources.indexOf(e)]}function p(e){var t=this.sourceOptions[this.sources.indexOf(e)];if(null==t.maxModels)return!1;var n=this._ignore,i=h.call(this,e),s=o.call(this,e),r=s+i,a=f(n,s,r),l=i-a;return t.maxModels<=l}function f(e,t,n){var i=I.sortedIndex(e,t),s=I.sortedIndex(e,n);return s-i+(e[s]===n?1:0)}function g(e){for(var t=e,n=0,i=this._ignore.length;i>n&&this._ignore[n]<=t;++n)++t;return t}function m(e){var t,n,i,s,r=g.call(this,e);if(e>-1)for(t=0,n=this.sources.length;n>t;++t){if(i=this.sources[t],s=h.call(this,i),!(r>=s))return{source:i,index:r,model:i.at(r)};r-=s}}function v(e){var t=this.sources.indexOf(e);t>-1&&t<this.sources.length-1&&this._ignoredCollections.push(t)}function _(e,t,n,i){var s,r,o,a=this,l=this._map,u=function(e,t,i){e>n&&i[t]++};r=n===this._sourceModels.length?function(e,t){e.push(t)}:function(e,t){e.splice(n,0,t)},e instanceof this.model||(e=this.extractModel(e,n)),e&&(this._sourceModelCounts[this.sources.indexOf(t)]++,s=this.indexesOfEquivalentModels(e,this._sourceModels),s.forEach(function(e){e>=n&&a._dupes[e].push(n)}),r(this._sourceModels,e),r(this._dupes,s.filter(function(e){return n>e})),this._dupes.slice(n).forEach(function(e,t){var i=t+n;a._dupes[i].forEach(u)}),o=this._blacklistedIds.indexOf(e.cid),l.blacklist.insert(n,-1===o),this.filters.forEach(function(t,i){l[i].insert(n,!!t.call(a,e,n))}),w.call(this),x.call(this,i))}function y(e,t,n){var i,s=this,r=this._map,o=function(e,t,i){e>n&&i[t]--};i=n===this._sourceModels.length-1?function(e){e.pop()}:function(e){e.splice(n,1)},i(this._sourceModels),i(this._dupes),I.each(r,function(e){e.remove(n)}),this._dupes.slice(n).forEach(function(e,t){var i=t+n;s._dupes[i]=I.without(s._dupes[i],n),s._dupes[i].forEach(o)}),this._sourceModelCounts[this.sources.indexOf(t)]--,w.call(this),x.call(this)}function b(e,t){var n=this;this._sourceModels.forEach(function(i,s){n.compareModels(e,i)&&n._map.blacklist.set(s,t)}),w.call(this),x.call(this)}function w(){var e,t=this._map,n=0,i=P.combine(I.values(t)),s=function(e,t){return e&&!i.get(t)};for(e=0;e<this.sources.length;++e){var r=this.sourceOptions[e].maxModels,o=h.call(this,this.sources[e]);if(null!=r){var a=D(i,!0,r,n,n+o-1);n+o>a&&i.clearRange(a,n+o-1)}n+=o}for(e=0;e<this._sourceModels.length;++e)i.get(e)&&i.set(e,0===this._dupes[e].length||this._dupes[e].reduce(s,!0));this._ignore=i.getIndexes(!1)}function x(e){var t=this;M.align({source:this.models,target:this._sourceModels.filter(k,this),comparator:this.compareModels,add:function(n,i){t.add(n,I.defaults({at:i,parse:!1},e))},remove:function(e,n){t.remove(t.at(n),{_propagateToSource:!1})}})}function k(e,t){var n=I.sortedIndex(this._ignore,t);return this._ignore[n]!==t}function S(e){var t;return e=I.clone(e)||{},d.call(this,this.options.limit,e.silent)||(t=i.call(this)),t?T.call(this,t,e):L.resolve({})}function T(e,t){var n=this,i=this.options.limit,s=this._sourceModels.length+i,r=e.options.limit;return t.reset=!this.isPopulated(),t.remove=!1,e.setLimit(i),e.fetchUntilResults(t).always(function(){e.setLimit(r)}).then(function(){return A.call(n,t,s)}).then(null,function(){var i=e===I.last(n.sources);return i?void 0:(v.call(n,e),A.call(n,t,s))})}function A(e,t){var n=this,i=this.options.limit,s=t-this._sourceModels.length;return s>0?(this.options.limit=s,S.call(this,I.omit(e,"url")).always(function(){n.options.limit=i})):void 0}function E(e){function t(){n.cache={}}var n=I.memoize(function(){return e.apply(this,arguments).always(t)});return n}function C(){var e=this.setupSources();this.sources=e.map(function(e){return[].concat(e)[0]}),this.sourceOptions=e.map(function(e){return[].concat(e)[1]||{}}),this._sourceModelCounts=e.map(function(){return 0})}function D(e,t,n){var i,s=arguments.length<=3||void 0===arguments[3]?0:arguments[3],r=arguments.length<=4||void 0===arguments[4]?e.length-1:arguments[4],o=0;for(i=s;r>=i&&n>o;++i)e.get(i)===t&&++o;return i}var I=n(3),M=n(1047),P=n(1510),L=n(66),F=n(74);e.exports=F.extend({sources:null,sourceOptions:null,_sourceModelCounts:null,_sourceModels:null,filters:null,_map:null,_dupes:null,_blacklistedIds:[],_ignore:null,_bulkFetchDeferred:null,_ignoredCollections:null,setup:function(){C.call(this),this.sources.forEach(s.bind(this,!0)),this._sourceModels=[],this._dupes=[],this.filters||(this.filters=[]),r.call(this),this._ignore=[],this._ignoredCollections=[],this._blacklistedIds=[],this.fetch=E(S),d.call(this,this.options.limit,!0)},setupSources:function(){},setLimit:function(e){this.options.limit=e},bulkFetch:function(e,t){var n,i=this,s=this.options.limit,r=e-this.length;return n=this._bulkFetchDeferred,n&&!t?n:(n||(n=this._bulkFetchDeferred=L.defer().always(function(){i._bulkFetchDeferred=null,i.options.limit=s})),0>=r||this.isFullyPopulated()?n.resolve():(this.options.limit=r,this.fetch({reset:!0}).done(function(){i.bulkFetch(e,!0)}).fail(n.reject),n))},audibleAt:function(e){var t=m.call(this,e),n=t.source,i=t.index;if(n.audibleAt)return n.audibleAt(i);var s=this.at(e);return"sound"===s.resource_type||"playlist"===s.resource_type?s:null},extractModel:null,blacklist:function(e){this._blacklistedIds.push(e.cid),b.call(this,e,!1)},unblacklist:function(e){this._blacklistedIds=I.reject(this._blacklistedIds,function(t){return t===e.cid}),b.call(this,e,!0)},remove:function(e,t){var n=!t||void 0===t._propagateToSource||t._propagateToSource;return n?(Array.isArray(e)||(e=[e]),e.forEach(function(e){var t=m.call(this,this.indexOf(e));t&&t.source.remove(t.model)},this)):F.prototype.remove.call(this,e,I.defaults({_propagateToSource:!1},t)),this},isFullyPopulated:function(){return!i.call(this)},getNumSourceModels:function(){return this._sourceModels.length},recalculateFilters:function(){var e=this;this.filters.forEach(function(t,n){e._sourceModels.forEach(function(i,s){e._map[n].set(s,t.call(e,i,s))})}),w.call(this),x.call(this)}},{onCleanup:function(e){for(var t;t=e.sources.pop();)t.release(),s.call(e,!1,t);this._sourceModels=this._map=null}})},,,function(e,t,n){function i(e,t){return{title:e,value:t}}function s(e){return{title:a(e),value:e}}function r(e,t){return l.find(Object.keys(e),function(n){return e[n]===t})}function o(e){return l.reduce(e,function(e,t){return l.assign(e,t)},{})}function a(e){return u.titleCase(e.replace("_"," "))}var l=n(3),u=n(162),c=n(2335),d=o(c);e.exports={countryToCode:function(e){return r(d,e)||""},codeToCountry:function(e){return d[e]||""},country:function(e){return new i(d[e],e)},countries:function(e){var t;return t=e&&e.length>0&&"worldwide"!==e[0]?o(l.chain(e).map(l.propertyOf(c)).compact().value()):d,l.chain(t).map(i).sortBy("title").value()},countryCodes:function(e){var t=e?c[e]:d;return t&&Object.keys(t)},regions:function(){return Object.keys(c).sort().map(s)},complement:function(e){return l.difference(Object.keys(d),e)}}},function(e,t,n){"use strict";var i,s,r,o=n(3),a=n(67),l=n(250);s={type:{"":"",sounds:"sound",people:"person",groups:"group",sets:"set"}},r={singular:{"":"everything",sound:"track",person:"person",group:"group",set:"playlist"},plural:{"":"everything",sound:"tracks",person:"people",group:"groups",set:"playlists"},category:{"":"",sound:"sounds",person:"people",group:"groups",set:"sets"}},i=["q","q[fulltext]","filter.duration","filter.created_at","filter.license","filter.genre","filter.genre_or_tag","filter.place"];e.exports={highlightText:function(e,t,n){var i,s=o.assign({start:"<b>",end:"</b>"},n),r=e.split("");if(!t)return e;for(i=t.length;i--;)r.splice(t[i].end,0,s.end),r.splice(t[i].start,0,s.start);return r.join("")},getParams:function(){var e=a.parse(window.location.href);return this.getValidParams(e.query)},getValidParams:function(e){return o.pick(e,i)},modifyParamsWith:function(e,t){var n={},i=this.getParams();return void 0===t&&i.hasOwnProperty(e)?delete i[e]:(n[e]=t,o.assign(i,n)),a.stringify({query:i})},getFilters:function(e){var t={},n=/^filter\./;return e=e||this.getParams(),o.each(e,function(e,i){n.test(i)&&(t[i]=e)}),o.isEmpty(t)?void 0:t},fuzzy:function(e,t,n){var i,s=e.replace(/\W+/gi,"").split(""),r=new RegExp("\\b("+s.join(").*?(")+")","i");return e?(i=t.map(function(t){
var i,s,o=(n?t.get?t.get(n):t[n]:t).toString(),a=l(o),u=r.exec(a),c=[];if(u){for(i=u.index,s=1;s<u.length;++s)i=a.indexOf(u[s].toLowerCase(),i)+1,c.push({start:i-1,end:i});for(s=c.length;--s;)c[s-1].end===c[s].start&&(c[s-1].end=c[s].end,c.splice(s,1));return{item:t,highlights:c,score:e.length/u[0].length/o.length-c.length}}}).filter(Boolean),i.sort(function(e,t){return t.score-e.score}),i):t.map(function(e){return{item:e,highlights:[],score:1}})},convert:function(e,t,n){var i="category"===e?s.type[n]:n;return"type"===t?i:r[t][i]}}},function(e,t,n){"use strict";var i=n(369),s=n(368),r=/\s/,o=/([a-z])([A-Z])/g;e.exports={usertext:i.withDefaults(s["default"]),usertextOneline:i.withDefaults(s.oneline),splitWords:function(e){return e?r.test(e)?e:e.replace(o,"$1​$2"):""}}},,,function(e,t,n){var i=n(21),s=n(368),r=n(369).withDefaults(s["default"]);e.exports=function(e,t){return(void 0===t.hash.escapeExpression||t.hash.escapeExpression)&&(e=i.Utils.escapeExpression(e)),new i.SafeString(r(e,t.hash))}},function(e,t,n){function i(e){return e.replace(/[-\/\\$\^*+?.()|\[\]{}]/g,"\\$&")}function s(e){return e.toUpperCase()}var r=n(250),o=i(".,'\"()[]-"),a=new RegExp("^[^\\s"+o+"]"),l=new RegExp("(?:^|\\s)[\\s"+o+"]?[^\\s"+o+"]","g");e.exports={sentenceCase:function(e){return e.replace(a,s)},titleCase:function(e){return e.replace(l,s)},permalink:function(e){return r(e).toLowerCase().replace(/\s/g,"-").replace(/[^a-z0-9_-]+/g,"").replace(/^[_-]+|[_-]+$/g,"").replace(/([-_])[-_]+/g,"$1").replace(/^[^a-z]+$/,"$&a")},regexpEscape:i}},function(e,t){"use strict";function n(e){return!s.test(e)}function i(){return!0}var s=/(\w+)\:(\w+)=(.+)/,r=e.exports={extract:function(e,t){var n=e.tag_list||"",i=[];return i.push.apply(i,r.parse(n,t)),i},parse:function(e,t){var s,r,o,a=[],l=[],u=!1,c=!0;for(t||(t={}),s=0,r=e.length;r>s;++s)o=e.charAt(s),'"'===o?u=!u:" "===o||","===o?u?l.push(o):c||(c=!0,a.push(l.join("")),l.length=0):(c=!1,l.push(o));return c||a.push(l.join("")),a.filter(t.includeMachineTags?i:n).map(function(e){return e.replace(/"/g,"").replace(/\s\s+/," ").trim()}).filter(Boolean)},serialize:function(e){var t=/\s/;return e.map(function(e){return t.test(e)?'"'+e+'"':e}).join(" ")}}},function(e,t){"use strict";e.exports={ALT:18,BACKSPACE:8,CTRL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESC:27,HOME:36,INSERT:45,LEFT:37,META:97,PGDOWN:34,PGUP:33,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,COMMA:188,HASH:220}},function(e,t,n){"use strict";var i=n(125);e.exports=i.extend({includeFooter:".l-sidebar-right",css:n(360),template:n(2006)})},,function(e,t,n){"use strict";function i(e){return function(t){return t[0]===e}}function s(e,t){for(var n;e.length>g;)n=e.shift(),e.some(i(n[0]))||t.unset(n[0],w);t.set("log",e)}function r(e,t,n,i){e.has(t)||e.set(t,[n,i],w)}function o(e,t){for(var n=0,i=e.length;i>n;++n)if(e[n][x]===t[x])return n;return-1}function a(e,t){var n,i=o(e,t);return i>-1?(n=e[i],n[k]+=t[k],n[S]=n[S]||t[S]):e.unshift(t.slice()),e}function l(){M._persistent.reset(),M._session.reset()}function u(e,t){return e/t>=v}function c(e){var t=this.get(e[x]);return d.object(Object.keys(C).concat(Object.keys(D)),e.concat(t))}var d=n(3),h=n(23),p=n(97),f=n(231),g=250,m=2e3,v=.25,_=null,y=null,b=null,w={dontPersist:!0},x=0,k=1,S=2,T=3,A=0,E=1,C={id:x,playTime:k,userInitiated:S,timestamp:T},D={duration:A,userId:E},I={field:null,from:"global",id:null,unique:!1,playState:null,userInitiated:null,filter:null,newestFirst:!1,limit:!1};h.on("connect:logout",l);var M=e.exports={_persistent:new p("play-log"),_session:new f,addSound:function(e,t){_&&this.writeToLog(),_=e,y=e.getListenTime(),b=t||{},e.on("pause",this.writeToLog,this).hold()},select:function(e){e=d.assign({},I,e);var t=this["session"===e.from?"_session":"_persistent"],n=t.get("log")||[];return e.id?n=n.filter(function(t){return t[x]===e.id}):e.userId&&(n=n.filter(function(n){return t.get(n[x])[E]===e.userId})),e.unique&&(n=n.reduceRight(a,[])),n=n.filter(function(n){return null!=e.userInitiated&&n[S]!=e.userInitiated?!1:"played"!==e.playState||u(n[k],t.get(n[x])[A])?e.filter?e.filter.apply(null,n):!0:!1}),e.newestFirst&&n.reverse(),e.limit&&n.length>e.limit&&(n=n.slice(0,e.limit)),n=e.field?d.pluck(n,C[e.field]):n.map(c,t)},count:function(e){return this.select(e).length},numSessionPlays:function(){return this.count({from:"session",unique:!0,playState:"played"})},getPlayedIds:function(){return this.select({field:"id",from:"persistent",unique:!0,playState:"played"})},writeToLog:function(){var e,t,n,i=Math.floor(_.getListenTime()-y),o=M._persistent,a=M._session,l=_.id,u=_.getMediaDuration();i>=Math.min(u,m)&&(t=o.get("log")||[],n=a.get("log")||[],r(o,l,u,_.get("user_id")),r(a,l,u,_.get("user_id")),e=[l,i,b.userInitiated?1:0,Date.now()],t.push(e),n.push(e),s(t,o),s(n,a)),_.off("pause",this.writeToLog,this).release(),_=y=null}}},function(e,t,n){"use strict";var i=n(414),s=n(198),r=e.exports=function(e,t){var n,r=t.resource_type;return n="playlist-upload"===r?new i(e,t):"sound-upload-edit"===r?new s(e,t):new s(e,t)};r.getClass=function(e){var t=e.resource_type;return"playlist-upload"===t?i:"sound-upload-edit"===t?s:s}},,,function(e,t,n){(function(t){"use strict";function i(){var e=this.url();e&&r.isLoggedIn()?l.prototype.fetch.apply(this,arguments).done(i.bind(this)).fail(this._fetchDefer.reject):this._fetchDefer.resolve()}function s(){this._fetchDefer=null}var r=n(25),o=n(23),a=n(110),l=n(72),u=n(66),c=n(231),d=n(67),h=n(3);e.exports=l.extend({CREATE:"PUT",READ:"GET",DELETE:"DELETE",_currentRequests:null,next_href:null,_fetchDefer:null,readPathSuffix:"ids",setup:function(){this._currentRequests=new c},url:function(e){var t=d.parse(h.result(this,"baseUrl"));if(t.path=t.path.replace(/\/?$/,"/"),e)t.path+=e;else{if(null!==this.next_href)return this.next_href;t.path+=this.readPathSuffix,t.query.linked_partitioning=1,t.query.limit=5e3}return d.stringify(t)},get:function(){return l.prototype.get.apply(this,arguments)||!1},fetch:function(){var e=this._fetchDefer;return e||(this._fetchDefer=e=u.defer().fail(s.bind(this)),r.isLoggedIn()?i.call(this):this.listenToOnce(o,"connect:hasUserData",i)),e},parse:function(e){return this.next_href=e.next_href||!1,h.reduce(e.collection,function(e,t){return e[t]=!0,e},{})},toggle:function(e,t){var n=this.get(e),i="boolean"==typeof t?t:!n;i!==n&&(i?this.set(e,!0):this.unset(e))},setRemote:function(e,n,i){var s,r,o,l,u=this,c=this._currentRequests.get(e);return c?void 0:(r=n?"CREATE":"DELETE",s=this.url(e,r,i),o=this[r],c=t.ajax(h.assign({url:s,type:o,data:this.getRequestData(e,r),dataType:"json"},this.getAjaxOptions(e,r))),this._currentRequests.set(e,c),l=this,c.always(function(){u._currentRequests.unset(e)}).done(function(){var t=l.get(e);(this.type===l.DELETE&&t||this.type===l.CREATE&&!t)&&l.setRemote(e,t)}).fail(a.ajaxNonFatal("Could not toggle value")),c)},getAjaxOptions:h.noop,hasDataForView:function(){return!!this.lastFetchTime},getRequestData:function(){return null}},{neverRelease:!0,hashFn:function(){return 1}})}).call(t,n(1))},,,,,function(e,t,n){"use strict";function i(e){var t=l.get("me");return a.all(e,function(e){return t.owns(e)})}function s(e){this.getFieldMetadata("sounds").datasource.blacklist(e),o.call(this)}function r(e){this.getFieldMetadata("sounds").datasource.unblacklist(e),o.call(this)}function o(){this.setActionState("save",this.get("sounds").length?"enabled":"disabled"),this.forceChange("sounds")}var a=n(3),l=n(22),u=n(76),c=n(23),d=n(89),h=n(374),p=n(64),f=n(178),g=n(109),m=n(87),v=n(986);e.exports=d.extend({fields:{title:{defaultValue:""},sounds:{defaultValue:function(){return new h}},playlist:{defaultValue:null},sharing:{defaultValue:"public",datasource:[{label:p.t("private"),value:"private"},{label:p.t("public"),value:"public"}]}},buttons:{save:{label:p.t("Save"),action:"save"}},actions:{save:function(){var e=this,t=m.getNewInstance({title:this.get("title"),sharing:this.get("sharing")});return this.validate().then(function(n){return n?t.save().then(function(){return m.instances.add(t),u.notify("createPlaylist",{object:t}),e.get("sounds").each(function(e){t.addSound(e),u.notify("addToPlaylist",{object:e,target:t.id,targetType:t.get("kind"),state:!0})}),e.set("playlist",t),e.markFieldsClean(),t.saveOrder()}):void c.trigger("tracking:add_to_set:validation")})},"default":"save"},constraints:{title:[[g,{message:p.t("Title is required")}],[f,{maxLength:255,message:p.t("Title must not exceed [[maxLength]] characters")}]],sounds:[[g,{message:p.t("Playlist must contain at least one track")}]]},setup:function(e,t){var n,o=this.get("sounds");this.startingSounds=this.options.startingSounds||[],n=a.any(a.invoke(this.startingSounds,"isPrivate")),this.set("sharing",n?"private":"public"),this.getFieldMetadata("sounds").datasource=new v(null,{sourceType:i(this.startingSounds)?"mySounds":"likes"}),this.listenTo(o,"add",s).listenTo(o,"remove",r),a.each(this.startingSounds,this.addSound,this)},addSound:function(e){this.get("sounds").add(e)},areAllSoundsMine:function(){return i(this.get("sounds").models)}},{onCleanup:function(e){e.get("sounds").release()}})},function(e,t,n){"use strict";function i(){k.forEach(function(e){"pending"===e.state()&&e.abort()}),k.length=0}function s(){return c||(c=new p({giveUp:1})),c}function r(e,t,n,i){e.sound&&"rejected"!==t.state()?o.call(this,e,t,n,i):t.resolve()}function o(e,t,n,i){var s=e.sound;s.hold(),this.listenTo(s,"finish",this._onAdFinish).listenTo(s,"pause",this._onAdPause).listenTo(s,"play",this._onAdPlay).listenTo(s,"playStart",this._onAdPlayStart).listenTo(s,"time",this._onAdTime).listenTo(s,"time",this._onAdTimeIsInRequiredListenPeriod),this._currentAd=e,this._upcomingSound=n,this._upcomingSound.hold(),s.play(d.assign({checkpointInterval:x},i))}function a(){var e=this.getCurrentSound();this.stopListening(e),e.pause(),e.release(),this._currentAd=null,this._upcomingSound.release(),this._upcomingSound=null}function l(e,t){var n=A.getCurrentAd(),i=A.getCurrentSound(),s=n.get("audio"),r=n.get("companion_display"),o=i.getMonetizableTrack();switch(e){case"companion_display:impression":v.trackEvent("impression",r),g.trigger("tracking:impression",{ad_urn:r.ad_urn,external_media:r.ad_visual,impression_name:"companion_display",impression_object:i.getUrn(),context:t.context,monetization_type:"audio_ad",monetized_object:o.getUrn()});break;case"audio_ad:impression":v.trackEvent("impression",s),g.trigger("tracking:impression",{ad_urn:s.ad_urn,impression_name:"audio_ad_impression",impression_object:i.getUrn(),context:t.context,monetization_type:"audio_ad",monetized_object:o.getUrn()});break;case"companion_display:clickthrough":v.trackEvent("adClick",r),g.trigger("tracking:ad:click",{ad_urn:r.ad_urn,external_media:r.ad_visual,click_name:"clickthrough::companion_display",click_object:i.getUrn(),click_target:r.landing_page,context:t.context,monetization_type:"audio_ad",monetized_object:o.getUrn()});break;case"audio_ad:skip":v.trackEvent("skip",s),g.trigger("tracking:ad:skip",{ad_urn:s.ad_urn,click_name:"ad::skip",click_object:i.getUrn(),external_media:r.ad_visual,context:t.context,monetization_type:"audio_ad",monetized_object:o.getUrn()});break;case"audio_ad:finish":v.trackEvent("finish",s),g.trigger("tracking:ad:finish",{ad_urn:s.ad_urn,click_name:"ad::finish",click_object:i.getUrn(),external_media:r.ad_visual,context:t.context,monetization_type:"audio_ad",monetized_object:o.getUrn()});break;case"audio_ad:playStart":v.trackEvent("play",s)}}var u,c,d=n(3),h=n(27),p=n(147),f=n(22),g=n(23),m=n(66),v=n(85),_=n(334),y=1e3,b=y,w=15*y,x=3*y,k=[],S={},T={AD_PLAY:"ad:play",AD_PAUSE:"ad:pause",AD_SKIP:"ad:skip",AD_FINISH:"ad:finish",AD_PLAYSTART:"ad:playStart",AD_TIME:"ad:time"},A=e.exports=d.assign({},h.Events,{_adDeferred:null,_currentAd:null,_upcomingSound:null,states:{isInRequiredListenPeriod:{initial:!1}},setAudioAd:function(e){u=e},prefetchAudioAd:function(e){d.delay(function(){var t=new u({id:e.id},{requiredListenPeriod:w}),n=s();t.configureMonetizableTrack(e),!t.isPopulated()&&n.enabled&&t.fetch().fail(n.failed).done(n.succeeded)},b)},isUserAdConsumer:function(){return!this._isUserInAdFreeArea()&&this._isUserInAdGroup()},getCurrentSound:function(){return this._currentAd&&this._currentAd.sound},getUpcomingSound:function(){return this._upcomingSound},getCurrentAd:function(){return this._currentAd},skip:function(e){if(A.getState("isInRequiredListenPeriod"))return A._adDeferred;var t=A.getCurrentAd();return i(),t&&(A.trigger(T.AD_SKIP,t),A.metrics("audio_ad:skip",e),a.call(this)),(A._adDeferred||m.defer()).resolve()},whenAdFinished:function(e,t){var n=this,o=this._adDeferred,a=new u({id:e.id},{requiredListenPeriod:w}),l=s();return a.configureMonetizableTrack(e),o&&"pending"===o.state()?this.skip():a.sound&&S[a.sound.resource_id]?m.resolve():(o=this._adDeferred=m.defer(),!a.isPopulated()&&l.enabled?(A.toggleState("isInRequiredListenPeriod",!0),k.push(a.fetch().fail(function(){l.failed(),o.reject(),i()}).done(function(){l.succeeded(),r.call(n,a,o,e,t),i()}))):r.call(this,a,o,e,t),o.always(function(){A.toggleState("isInRequiredListenPeriod",!1)}),o)},metrics:function(e,t){A.getCurrentAd()&&A.getCurrentSound()&&l(e,t||{})},_onAdFinish:function(){var e=this.getCurrentAd(),t=this._adDeferred;A.trigger(T.AD_FINISH,e),a.call(this),t.resolve()},_onAdPause:function(){var e=A.getCurrentAd();A.trigger(T.AD_PAUSE,e)},_onAdPlay:function(){var e=A.getCurrentAd();A.trigger(T.AD_PLAY,e)},_onAdPlayStart:function(){var e=A.getCurrentAd();A.trigger(T.AD_PLAYSTART,e),A.toggleState("isInRequiredListenPeriod",!e.isSkippableRightNow())},_onAdTime:function(){var e=A.getCurrentAd();A.trigger(T.AD_TIME,e)},_onAdTimeIsInRequiredListenPeriod:function(){var e=A.getCurrentAd();A.toggleState("isInRequiredListenPeriod",!e.isSkippableRightNow()),e.getRequiredListenPeriod()&&e.isSkippableRightNow()&&(S[e.sound.resource_id]=!0,A.stopListening(e.sound,"time",A._onAdTimeIsInRequiredListenPeriod))},_isUserInAdGroup:function(){return!0},_isUserInAdFreeArea:function(){var e=f.get("router").getLayoutInfo()||{};return"front"===e.layoutName}});_.applyTo(A)},function(e,t,n){"use strict";var i=n(105),s=n(64);e.exports=i.extend({maxLength:100,message:s.t("[[maxLength]] characters max"),check:function(e,t){t(e.length<=this.maxLength)}})},function(e,t,n){"use strict";function i(e){return e.toLowerCase().replace(/[^a-z]/g,"").replace(/^(drumnbass|dn?b)$/,"drumbass").replace(/^(rn?b|soul)$/,"rbsoul").replace(/^(rap|hiphop)$/,"hiphoprap").replace(/^folk$/,"folksingersongwriter").replace(/^(jazz|blues)$/,"jazzblues").replace(/^(dance|edm)$/,"danceedm")}function s(e){return r.findWhere(a.genres,{id:e})}var r=n(3),o=n(64),a=n(307),l=e.exports={genreLabel:function(e){return c[e]},genres:function(e){return r.where(a.genres,{category:e})},getGenre:s,genreUrn:function(e){return"soundcloud:genres:"+e},chartKindLabel:function(e){return u[e]},chartKinds:function(){return a.kinds},userGenreToChartGenre:function(e){return e&&s(i(e))||s("all-music")},isGenreLabel:function(e){return e&&r.contains(d,e)},taglines:function(e,t){var n=l.genreLabel(t),i=l.getGenre(t),s=i.category,r=i.content,a=s+"-"+e+"-"+r;switch(a){case"all-trending-music":return{"short":o.t("New &amp; hot tracks"),"long":o.t("Up-and-coming tracks on SoundCloud")};case"all-trending-audio":return{"short":o.t("New &amp; hot audio"),"long":o.t("Up-and-coming audio on SoundCloud")};case"all-top-music":return{"short":o.t("Top 50 tracks"),"long":o.t("The most played tracks on SoundCloud this week")};case"all-top-audio":return{"short":o.t("Top 50 audio"),"long":o.t("The most played audio on SoundCloud this week")};case"music-trending-music":return{"short":o.t("New &amp; hot in [[[genreLabel]]]",{genreLabel:n}),"long":o.t("Up-and-coming tracks in [[[genreLabel]]] on SoundCloud",{genreLabel:n})};case"music-top-music":return{"short":o.t("Top 50 in [[[genreLabel]]]",{genreLabel:n}),"long":o.t("The most played tracks in [[[genreLabel]]] on SoundCloud this week",{genreLabel:n})};case"audio-trending-audio":return{"short":o.t("New &amp; hot in [[[genreLabel]]]",{genreLabel:n}),"long":o.t("Up-and-coming in [[[genreLabel]]] on SoundCloud",{genreLabel:n})};case"audio-top-audio":return{"short":o.t("Top 50 in [[[genreLabel]]]",{genreLabel:n}),"long":o.t("The most played in [[[genreLabel]]] on SoundCloud this week",{genreLabel:n})}}}},u={trending:o.t("New &amp; hot"),top:o.t("Top 50")},c={"all-music":o.t("All music genres"),"all-audio":o.t("All audio genres"),alternativerock:o.t("Alternative Rock"),ambient:o.t("Ambient"),classical:o.t("Classical"),country:o.t("Country"),danceedm:o.t("Dance &amp; EDM"),dancehall:o.t("Dancehall"),deephouse:o.t("Deep House"),disco:o.t("Disco"),drumbass:o.t("Drum &amp; Bass"),dubstep:o.t("Dubstep"),electronic:o.t("Electronic"),folksingersongwriter:o.t("Folk &amp; Singer-Songwriter"),hiphoprap:o.t("Hip-hop &amp; Rap"),house:o.t("House"),indie:o.t("Indie"),jazzblues:o.t("Jazz &amp; Blues"),latin:o.t("Latin"),metal:o.t("Metal"),piano:o.t("Piano"),pop:o.t("Pop"),rbsoul:o.t("R&B &amp; Soul"),reggae:o.t("Reggae"),reggaeton:o.t("Reggaeton"),rock:o.t("Rock"),soundtrack:o.t("Soundtrack"),speech:o.t("Speech"),techno:o.t("Techno"),trance:o.t("Trance"),trap:o.t("Trap"),triphop:o.t("Triphop"),world:o.t("World"),audiobooks:o.t("Audiobooks"),business:o.t("Business"),comedy:o.t("Comedy"),entertainment:o.t("Entertainment"),learning:o.t("Learning"),newspolitics:o.t("News &amp; Politics"),religionspirituality:o.t("Religion &amp; Spirituality"),science:o.t("Science"),sports:o.t("Sports"),storytelling:o.t("Storytelling"),technology:o.t("Technology")},d=r.values(c).map(function(e){return e.toString()})},function(e,t,n){"use strict";function i(e,t){var n=new S({file:e},t);return n.release(),n}function s(e,t){var n=new _({uploads:e},t);return n.release(),n}function r(e){var t=this.length;return this.add(e,{at:0}),this.length!==t?(p.call(this,!0,e),k.trigger(["upload_funnel","start"].join(":")),e):void 0}function o(e,t){!t.toPlaylistUploadId&&e&&k.trigger(["upload_group",1===e?"single":"multiple",1===e?!1:t.asPlaylist?"grouped":"ungrouped"].filter(Boolean).join(":"))}function a(e){return(e.size||0)<=D.MAX_FILE_SIZE&&u(e.type)&&l(e.name)}function l(e){var t=/\.(rtf|html?|bmp|png|gif|jpe?g|exe|zip|sit|gz|cdf|ico|docx?|xlsx?|pptx?|txt|avi|mov|midi|swf|pdf)$/i;return!t.test(e)}function u(e){var t=/^(image|message|text|multipart|model)\/|msword|ms-excel|ms-powerpoint|compressed/;return!t.test(e)}function c(){if(!C){var e,t=this.numUploading(),n=function(e){e.get("status")===T.QUEUED&&E>t&&(e.upload(),++t)};for(e=this.length-1;e>=0&&E>t;--e)n(this.at(e))}}function d(e){!this.numUploading()&&e.get("hasBeenSaved")&&h()}function h(){m&&(x.get("router").removeNavigationBlock(m),m=null)}function p(e,t){this.transferStatus[e?"addTransfer":"removeTransfer"](t.get("transfer")),this.transcodingStatus[e?"addTransfer":"removeTransfer"](t.get("transcoding"))}function f(e){p.call(this,!1,e),this.numUploading()||this.hasUnsaved()||h()}function g(e){var t=e.get("status"),n=e.previous("status");t!==T.UPLOADING||1!==this.numUploading()||m||(m=x.get("router").addNavigationBlock(A)),t===T.COMPLETE&&b.trackUserEvent("upload_track"),n===T.UPLOADING&&(this.transferStatus.removeTransfer(e.get("transfer")),c.call(this)),n===T.TRANSCODING&&this.transcodingStatus.removeTransfer(e.get("transcoding"))}var m,v=n(3),_=n(767),y=n(768),b=n(726),w=n(74),x=n(22),k=n(23),S=n(415),T=n(232),A="You still have incomplete uploads. If you leave the page now, these will be canceled.",E=3,C=!1,D=e.exports=w.extend({next_href:!1,model:S,transferStatus:null,transcodingStatus:null,setup:function(){this.transferStatus=new y,this.transcodingStatus=new y,this.listenTo(this,"change:status",g).listenTo(this,"remove",f).listenTo(this,"change:hasBeenSaved",d,this)},addFiles:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=this.getValidFiles(e),i=[];return n&&n.length?(i=this.addFilesAsUploads(n,t.replaceSoundUploadId?{resource_id:t.replaceSoundUploadId}:null),o.call(this,i.length,t),c.call(this),i):i},getValidFiles:function(e){var t=v.groupBy(e,function(e){return a(e)?"valid":"invalid"});return t.invalid&&this.trigger("error",{name:"invalid",count:t.invalid.length}),t.valid},addFilesAsUploads:function(e,t){return v.chain(e).map(function(e){return i(e,t)}).map(r,this).compact().value()},addUploadsAsAggregate:function(e){return s(e)},addUploadsToAggregate:function(e,t){var n=s(null,{resource_id:t});return n.addUploads(e),n},numToUpload:function(){return this.uploadsByStatus(T.QUEUED+T.UPLOADING).length},numUploading:function(){return this.uploadsByStatus(T.UPLOADING).length},numTransoding:function(){return this.uploadsByStatus(T.TRANSCODING).length},hasUnsaved:function(){return this.some(function(e){return e.get("hasBeenSaved")===!1})},uploadsByStatus:function(e){return this.getSoundUploads().filter(function(t){return t.get("status")&e})},getSoundUploads:function(){return this.models},pause:function(){C=!0},resume:function(){C=!1,c.call(this)},hasDataForView:function(){return!0}},{MAX_FILE_SIZE:5368709120,SIMULTANEOUS_UPLOADS:E,isAcceptable:a,neverRelease:!0,hashFn:function(){return 1}})},,,function(e,t,n){e.exports=n.p+"assets/images/loader-db80c5.gif"},,function(e,t,n){"use strict";var i=n(22),s=n(324),r=n(27).Model;e.exports={activities:new r({channel:"/me/activities/all/own",itemName:"activity",itemNamePlural:"activities",minPollInterval:12e4,maxPollInterval:192e4,baseUrl:function(){return i.get("api_v2_host")+"activities"}}),unreadConversations:new(r.extend({defaults:{baseUrl:function(){return s.baseUrl("unread")+"?force=1"},itemName:"conversation",itemNamePlural:"conversations",minPollInterval:0,maxPollInterval:0},initialize:function(){this.setDefaultPolling()},enableRealTimePolling:function(){this.set("minPollInterval",4e4),this.set("maxPollInterval",18e4),this.trigger("pollIntervalChange")},setDefaultPolling:function(){this.set("minPollInterval",3e5),this.set("maxPollInterval",192e4),this.trigger("pollIntervalChange")}})),conversations:new r({baseUrl:s.baseUrl,itemName:"conversation",itemNamePlural:"conversations",minPollInterval:1e3,maxPollInterval:3e4})}},function(e,t,n){"use strict";function i(e){e&&-1===this.getRecipientIds().indexOf(e.id)&&this.set("recipients",this.get("recipients").concat(e))}function s(e){return e instanceof C?a(e):e instanceof k?E.resolve(r(e)):f(e)?E.reject():C.resolve(e).then(a)}function r(e){return{id:e.resource.resource_id,username:e.get("output"),avatar_url:e.get("artwork_url")}}function o(e){return e.hasDataForView(["username","avatar_url"])?E.resolve(e):e.fetch()}function a(e){return o(e).then(function(){return{id:e.id,username:e.get("username"),avatar_url:e.get("avatar_url")}})}function l(e,t){var n,i=this;t!==this._lastBodyValue&&(this._lastBodyValue=t,S.getAudibleModels(t.match(S.scLinksRegexGlobal)||[]).done(function(e){n=m.reduce(e,function(e,t){return t&&t.audible&&e.push(t.audible),e},[]),i.set("attachments",n)}))}function u(e,t){t&&!t.isValid&&y.trigger("messages:new-message-validation-error",{field:e})}function c(e){u.call(this,"recipients",e)}function d(e){u.call(this,"body",e)}function h(e){var t,n;t=m.reject(this.get("attachments"),function(t){return t.resource_id===e?(n=t,!0):!1}),this.set("attachments",t),p.call(this,n)}function p(e){var t=this.get("body"),n=e.getShareURL(),i=new RegExp("\\n{0,2}"+T.regexpEscape(n)+"\\S*\\n{0,2}","igm");t=t.replace(i,""),this.set("body",t)}function f(e){return"string"==typeof e&&"soundcloud"===e.toLowerCase()}function g(){this.clearStoredValues(),this.set("body","")}var m=n(3),v=n(252),_=n(89),y=n(23),b=n(64),w=n(178),x=n(109),k=n(200),S=n(226),T=n(162),A=n(1093),E=n(66),C=n(68);e.exports=_.extend(A,{fields:{recipients:{defaultValue:[]},body:{defaultValue:""},links:{defaultValue:[]},attachments:{defaultValue:[]}},constraints:{body:[[x,{message:b.t("Please write a message")}],[w,{maxLength:2e4,message:b.t("Message must not exceed [[maxLength]] characters")}]],recipients:[[x,{message:b.t("Please choose a recipient")}]]},buttons:{send:{label:b.t("Send"),action:"send"}},serialization:{restoreAndStoreOnSetup:!0,fields:["body"]},actions:{"default":"send",send:function(e){var t=E.defer(),n=this.get("recipients")[0],i=this.get("body");return this.validate().done(function(s){s?v.send(n,i,e.showSuccessMessage).done(t.resolve).fail(t.reject):t.reject()}).fail(t.reject),t.done(g.bind(this)),t}},setup:function(e,t){this.serialization.storeKey=t.conversationId&&"conversation_"+t.conversationId,this.listenTo(this,"change:body",l).listenTo(this,"validation:body",d).listenTo(this,"validation:recipients",c).listenTo(this,"removeSoundFromAttached",h)},getRecipientIds:function(){return m.pluck(this.get("recipients"),"id")},addRecipient:function(e){var t=s(e);return t.done(i.bind(this))},addAttachment:function(e,t){this.set("body",this.get("body").replace(/\n*$/,"\n"+e.getShareURL({type:t})+" "))}})},,function(e,t,n){"use strict";function i(){var e=this.getAudible();m.trigger("playlist:saved",e),this.trigger("saved")}function s(e){this.set({errorMessage:this.getErrorMessageTemplate("save","playlist",this.extractErrorMessage(e))})}function r(e,t){return e.attrExists(t)?_.resolve(e):e.fetch({attrs:t}).then(c.constant(e))}function o(){this.setToModelAttributes(),this.get("trackList").reset(this._playlist.getSounds())}function a(){var e=this.requiredModelAttributes.map(function(e){return"change:"+e}).join();this.listenTo(this._playlist,e,function(){this.isDirty()||o.call(this)})}function l(e){var t=e.getSoundsCollectionClone(),n=e.getSounds();return c.assign(t,{getCurrentOrder:function(){return this.pluck("id")},reorder:function(e){this.sort({silent:!0,comparator:function(t){return e.indexOf(t.id)}})},resetOrder:function(){return this.reset(n.slice()),_.resolve()},saveOrder:c.noop}),f.applyTo(t),T.applyTo(t),t}function u(){if(this.isDirty("trackList")){var e=this.getAudible(),t=e.getSounds(),n=this.get("trackList");return t.length>n.length&&c.difference(t,n.models).forEach(e.removeSound,e),e.reorder(n.pluck("id")),e.saveOrder()}}var c=n(3),d=n(747),h=n(323),p=n(748),f=n(330),g=n(191),m=n(23),v=n(89),_=n(66),y=n(193),b=n(749),w=n(64),x=n(178),k=n(109),S=n(87),T=n(333),A=n(67);e.exports=v.extend(g,p,y.withOptions({attr:"title"}),b,d,{_playlist:null,resource_type:"playlist-edit",requiredModelAttributes:[],actions:{"default":"save",save:function(){var e=this;return this.validate().then(function(t){return t?(e.set("editing",!1),e.saveEdits()):_.reject()})},cancel:function(){this.cancel()}},fields:{buyLink:{defaultValue:""},buyTitle:{defaultValue:"Buy"},labelName:{defaultValue:null},releaseDate:{defaultValue:null},trackList:{defaultValue:null}},buttons:{save:{label:w.t("Save changes"),pendingLabel:w.t("Saving"),action:"save"},cancel:{label:w.t("Cancel"),action:"cancel"}},constraints:{title:[[k,{message:w.t("Title is required")}],[x,{maxLength:100,message:w.t("Title must not exceed 100 characters")}]],description:[[x,{maxLength:4e3,message:w.t("Playlist description must not exceed 4000 characters")}]],tags:[[x,{maxLength:30,message:w.t("No more than 30 tags allowed")}]],permalink:[[h,{type:"playlist",getResource:function(){return this.getAudible()}}]]},setup:function(e,t){var n=this;this.on("imageDataChanged",this.markFieldsDirty.bind(this,"artwork_url")),this._playlist=new S({id:t.resource_id}),this.set("trackList",l(this._playlist)),r(this._playlist,this.requiredModelAttributes).then(function(){o.call(n),a.call(n)}),this.addSubmodel(this._playlist)},saveEdits:function(){var e=this.getAudible();return e.set(this.getAttributesToBeSaved()),e.saveMetadata().then(this.saveAudibleImage.bind(this,e)).then(u.bind(this)).then(i.bind(this),s.bind(this)).done(this.trigger.bind(this,"saved"))},getAudible:function(){return this._playlist},getAttributesFromModel:function(){var e=this.getAudible();return{buyLink:e.get("purchase_url"),buyTitle:e.get("purchase_title"),labelName:e.get("label_name"),releaseDate:e.get("release_date")&&w.dateTimeHelper.fromString(e.get("release_date"))}},getAttributesToBeSaved:function(){var e=this.get("buyLink"),t=this.get("buyTitle"),n=this.get("releaseDate");return{purchase_url:e?A.normalize(e):null,purchase_title:t===this.getFieldMetadata("buyTitle").defaultValue?null:t,label_name:this.get("labelName"),release_date:n&&w.dateTimeHelper.format(n,"iso")}},cancel:function(){o.call(this),this.trigger("canceled")},saveCleanup:function(e){this.markFieldsClean()}},{hashFn:function(e,t){return e.resource_id||t&&t.resource_id||e.id||null}})},function(e,t,n){(function(t){"use strict";var i,s=n(22),r=n(25),o=n(67),a=/^https?:\/\/.+?\//,l=/^https?/,u={likes:"favorites",groups:"groups",people:"users",sound:"track",sounds:"tracks","web-profile":"web_profile"};e.exports={EDGE:"e1/",initialize:function(e){var n=this,l=s.get("client_id"),u=s.get("public_api_host");t.ajaxSetup({statusCode:e.statusCode,xhr:i,progress:null,timeout:4e4,beforeSend:function(e,t){var i=n.isPublicApiEndpoint(t.url),c=n.isApiV2Endpoint(t.url);t.crossDomain=!0,(i||c)&&(r.isLoggedIn()&&e.setRequestHeader("Authorization","OAuth "+r.getAuthToken()),i&&(t.url=u+t.url.replace(a,"")),t.url=o.modify(t.url,{query:{client_id:l,app_version:s.get("app_version")}}))}})},isPublicApiEndpoint:function(e){return!l.test(e)||0===e.indexOf(s.get("public_api_host"))},isApiV2Endpoint:function(e){return 0===e.indexOf(s.get("api_v2_host"))},toAPIResource:function(e){return u[e]||e}};i=function(){var e,n=t.ajaxSettings.xhr,i=["Date","Content-Type"];return e=function(){var e=this,t=e._getAllResponseHeaders();return t||200!==this.status?t:i.map(function(t){return e.getResponseHeader(t)?t+": "+e.getResponseHeader(t):void 0}).filter(Boolean).join("\n")+"\n"},function(){var t=n();return t._getAllResponseHeaders=t.getAllResponseHeaders,t.getAllResponseHeaders=e,this.progress&&t.upload.addEventListener("progress",this.progress.bind(this)),t}}()}).call(t,n(1))},,function(e,t,n){"use strict";var i=n(24);e.exports=new i({applyTo:function(e,t){t&&t.action&&(e._action=t.action)},before:{setup:function(){this._action=this._action||this.actions["default"],this.setActionState(this._action,"disabled"),this.listenTo(this,"form:clean",this.disableAction).listenTo(this,"form:dirty",this.enableAction)}},enableAction:function(){this.setActionState(this._action,"enabled")},disableAction:function(){this.setActionState(this._action,"disabled")}})},function(e,t,n){(function(t){"use strict";function i(e){var t=f.defer(),n=h.setFormat(e[this.imageProperties.read],20),i=this,s=new c({tolerance:1,baseDelay:2e3,maxDelay:8e3,backoffRate:1.5,giveup:6,enabled:!1}),r=new window.Image;return r.onload=function(){var n=i.imageProperties.read;i.get(n)===e[n]&&i.forceChange(n),i.set(e),t.resolve(e)},r.onerror=function(){s.failed()},s.on("enabled",function(){r.src=n+"?"+Date.now()}).on("giveup",t.reject),this.trigger("imageUrlChanged",n),t.done(this.trigger.bind(this,"imageTranscodingDone",e)).fail(this.trigger.bind(this,"imageTranscodingFail",e))}function s(e){u.trigger("error",{action:"upload_image",xhr:e})}function r(e){var t=new window.FileReader,n=f.defer();return t.onload=function(e){var t=new window.Image;t.onload=n.resolve.bind(n,t),t.src=e.target.result},t.onerror=t.onabort=n.reject,t.readAsDataURL(e),n}function o(e,t){var n=f.defer();return r(e).done(function(e){var i=window.document.createElement("canvas"),s=i.getContext("2d"),r=a(e.width,e.height);i.width=i.height=t,s.imageSmoothingEnabled=s.mozImageSmoothingEnabled=s.oImageSmoothingEnabled=s.webkitImageSmoothingEnabled=!0,s.imageSmoothingEnabled=!0,s.drawImage(e,r.x,r.y,r.w,r.h,0,0,t,t),n.resolve(i.toDataURL("image/png"))}).fail(n.reject),n}function a(e,t){var n=e-t;return n>0?{x:Math.floor(n/2),y:0,w:t,h:t}:{x:0,y:Math.floor(-n/2),w:e,h:e}}var l=n(3),u=n(76),c=n(147),d=n(23),h=n(100),p=n(24),f=n(66),g=n(93);e.exports=new p({_imageFile:null,_imageSource:null,_imageDataURI:null,applyTo:function(e,t){e.imageProperties=l.pick(t,"read","write")},defaults:{getImageSaveUrl:function(){return this.saveUrl()}},getImageUrl:function(e){return this._imageDataURI||h.urlFrom(this.attributes,e);
},hasOwnImage:function(){return!!this._imageDataURI||!h.isDefaultImage(this.get(this.imageProperties.read))},hasNewImage:function(){return!!this._imageFile},getPlaceholderUrl:function(e){return this._imageDataURI?!1:h.getPlaceholderUrl(this.getImageUrl(),e)},getImageFileInfo:function(){return{file:this._imageFile,source:this._imageSource}},setImageFile:function(e,t){var n=this;this._imageSource=t,this._imageFile=e,o(e,500).done(function(i){n._imageDataURI=i,n.trigger("imageDataChanged",{file:e,source:t})})},unsetImageFile:function(e){e=e||{},this._imageFile=this._imageSource=null,e.force&&this.unsetImageDataURI(),e.silent||this.trigger("imageDataChanged",{file:null,source:null})},unsetImageDataURI:function(){this._imageDataURI=null},uploadImage:function(){var e,n=this,r=this._imageFile,o=this._imageSource,a=f.defer();return g.formData&&r?(d.trigger("upload:image:upload_started",o),this.unsetImageFile(),e=new window.FormData,e.append(this.get("kind")+"["+this.imageProperties.write+"]",r),t.ajax({url:this.getImageSaveUrl(),type:"PUT",data:e,processData:!1,contentType:!1,dataType:"json"}).done(function(e){d.trigger("upload:image:upload_success",o),"user"===n.resource_type&&d.trigger("tracking:profileImage:uploadSuccess",{}),a.resolve(e)}).done(i.bind(this)).fail(a.reject).fail(s.bind(this)),a):void 0}})}).call(t,n(1))},function(e,t,n){"use strict";var i=n(24);e.exports=new i({applyTo:function(e,t){e.getTitleAttribute=function(){return t.attr}}})},,,,function(e,t){"use strict";e.exports={INITIAL:"timed-comment-sm:initial",CURRENT_COMMENT:"timed-comment-sm:current-comment",CURRENT_TIMESTAMP:"timed-comment-sm:current-timestamp",ACTIVE_TIMESTAMP:"timed-comment-sm:active-timestamp"}},function(e,t,n){"use strict";function i(){return this.isEdit?w.resolve():p.confirm(S.t("Are you sure you want to cancel the upload?"))}function s(){return this.validate().then(function(e){return w[e?"resolve":"reject"]()})}function r(){this.isDirty()||this.setToModelAttributes()}function o(e){var t,n=T.instances.get(d.currentUserId());n&&(t=A.convert(e),n.add(t,{at:0}),t.release())}var a=n(3),l=n(76),u=n(323),c=n(22),d=n(25),h=n(156),p=n(325),f=n(191),g=n(23),m=n(110),v=n(89),_=n(178),y=n(1092),b=n(109),w=n(66),x=n(1094),k=n(70),S=n(64),T=n(382),A=n(238),E=n(751),C=n(752),D=n(1095),I=null;e.exports=v.extend(E,f,C,D,x,y,{fields:{offlineSyncEnabled:{defaultValue:!0}},constraints:{title:[[b,{message:S.t("Title is required")}],[_,{maxLength:100,message:S.t("Title must not exceed [[maxLength]] characters",I)}]],description:[[_,{maxLength:4e3,message:S.t("Track description must not exceed [[maxLength]] characters",I)}]],permalink:[[u,{type:"sound",getResource:function(){return this.getAudible()}}],[b,{shouldCheck:function(){return this.isEdit}}]],tags:[[_,{maxLength:30,message:S.t("No more than [[maxLength]] tags are allowed",I)}]]},_sound:null,resource_type:"sound-upload-edit",requiredModelAttributes:["commentable","downloadable","embeddable_by","feedable","genre","geo_blockings","label_name","purchase_title","purchase_url","release_date","reveal_comments","reveal_stats","api_streamable"],actions:{save:function(){var e=this;return s.call(this).then(function(){return e.set("editing",!1),e.saveEdits()})},cancel:function(){var e=this;i.call(this).then(function(){return e.cancel()})}},setup:function(e,t){if(t.isEdit){var n=this.requiredModelAttributes.map(function(e){return"change:"+e});this.isEdit=!0,this._sound=new k({id:t.resource_id}),this.listenTo(this._sound,n.join(" "),r),this._sound.attrExists(this.requiredModelAttributes)?this.setToModelAttributes():this._sound.fetch({attrs:this.requiredModelAttributes}).fail(function(){m.raise({fatal:!0})}),this.setButtonConfig("save",{label:S.t("Save changes")}),this.addSubmodel(this._sound)}},cancel:function(){this.removeUpload(),this.isEdit?(this.setToModelAttributes(),this.trigger("canceled")):(this.destroy(),this._sound&&l.destroy(this._sound),g.trigger("upload_funnel:cancel"))},createAudible:function(){return this._sound=new k(this.getUploadAttributes()),this._sound},getAudible:function(){return this._sound},unsetAudible:function(){this._sound=null},onAudibleSaved:function(){var e=this.getAudible();this.isEdit?(g.trigger("sound:saved",e),g.trigger("tracking:sound:edit:saved",{click_name:"track::edit_saved",click_object:e.getUrn()})):o(e)},onSaveFailed:function(e){this.setToFailed("save",e),this.set("editing",!0),c.get("me").fetch()},getAttributesToBeSaved:function(){var e=a.pick(this.attributes,"feedable","downloadable","commentable");return e.api_streamable=this.get("apiStreamable"),e.reveal_comments=this.get("publicComments"),e.restrictions=this.get("offlineSyncEnabled")?[]:["no_offline_sync"],a.assign(e,this.getUploadAttributes()),e},getAttributesFromModel:function(){var e,t=this.getAudible(),n=a.pick(t.attributes,"feedable","downloadable","commentable");return n.apiStreamable=!!t.get("api_streamable"),n.buyLink=t.get("purchase_url"),n.buyTitle=t.get("purchase_title")||this.getFieldMetadata("buyTitle").defaultValue,n.embeddableByAll="all"===t.get("embeddable_by"),n.stats=!!t.get("reveal_stats"),n.publicComments=!!t.get("reveal_comments"),e=t.get("geo_blockings"),n.geoblocking=e&&!!e.length,n.geoblocking&&(n.availableCountries=h.complement(e)),n.labelName=t.get("label_name"),n.releaseDate=t.get("release_date")&&S.dateTimeHelper.fromString(t.get("release_date")),n.offlineSyncEnabled=a.isEmpty(t.get("restrictions")),n},updateSound:function(e){this._sound&&(this._sound.release(),this._sound=e)}},{hashFn:function(e,t){return e.resource_id||t&&t.resource_id||e.id||null},onCleanup:function(){this._sound&&this._sound.release()}})},,function(e,t,n){"use strict";function i(e){return e?e.replace(/^https?:.+?\w\//,"/"):null}function s(){if(this.isQuery())this.set({artwork_url:null,link:i(this.get("entity").permalink_url)});else{var e=o(this.getEntityType());this.set({artwork_url:this.resource.get(e.artwork_url),link:i(this.resource.get(e.link))})}}function r(){this.listenTo(this.resource,l.map(o(this.getEntityType()),function(e){return"change:"+e}).join(" "),s)}function o(e){switch(e){case"user":return{artwork_url:"avatar_url",link:"permalink_url"};case"track":return{artwork_url:"artwork_url",link:"permalink_url"};case"group":return{artwork_url:"artwork_url",link:"permalink_url"}}}function a(e){switch(e){case"user":return p;case"track":return h;case"group":return c;default:return null}}var l=n(3),u=n(66),c=n(86),d=n(72),h=n(70),p=n(68);e.exports=d.extend({resource_type:"shortcut",url:null,submodelMap:{entity:null},createSubmodel:function(){var e=a(this.getEntityType());null!==e&&(this.resource=new e(this.get("entity")),this.addSubmodel(this.resource),r.call(this)),s.call(this)},fetch:function(){return this.resource?this.resource.fetch():u.resolve({})},getEntityType:function(){switch(this.get("kind")){case"track":case"like":return"track";case"group":return"group";case"user":case"following":return"user";case"query":return"query"}},isQuery:function(){return"query"===this.get("kind")},equivalentTo:function(e){return this.get("output")===e.get("output")&&this.getEntityType()===e.getEntityType()}})},,,,,,,,,,,function(e,t,n){e.exports=n.p+"assets/images/close-light-3cc615.png"},,,,,,,function(e,t,n){var i=n(3),s=n(21);e.exports=function(e){var t,n;return t=i.defaults(e.hash,{href:null,className:null,label:null,type:null}),n='<<%-tag%> class="<%-className%>"'+(t.href?' href="<%-href%>" target="blank"':"")+"><%-label%></<%-tag%>>",new s.SafeString(i.template(n)({tag:t.href?"a":"span",className:("sc-label sc-label-small sc-label-"+t.type+" "+t.className).trim(),label:t.label,href:t.href}))}},function(e,t){e.exports={plural:function(e,t,n){return n="string"==typeof n?n:t+"s",1===e?t:n},possessive:function(e){return e+"’s"},capitalize:function(e){return"string"!=typeof e?"":e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substr(1)}).join(" ")}}},function(e,t,n){(function(t){"use strict";var i=n(3),s=n(330),r=n(333),o=n(142),a=n(238),l=5;e.exports=o.extend(s,r,{defaults:{type:"spotlight"},model:a,baseUrl:function(){return this.getEndpointUrl("userSpotlight",{id:this.options.userId})},add:function(){return o.prototype.add.apply(this,arguments),this.length>l&&this.remove(this.models.slice(l)),this},parse:function(e){return e.collection.slice(0,l).map(function(e){var t="playlist"===e.kind;return{type:t?"playlist_spotlight":"track_spotlight",created_at:e.created_at,track:t?null:e,playlist:t?e:null}})},getMaxItemCount:function(){return l},getCurrentOrder:function(){return this.map(function(e){return(e.get("playlist")||e.get("track")).id})},reorder:function(e){this.sort({silent:!0,comparator:function(t){return e.indexOf(t.audible.id)}})},resetOrder:function(){return this.fetch({reset:!0})},saveOrder:function(){return this.save()},save:function(){var e=this.map(function(e){return e.audible.getUrn()});return t.ajax(i.result(this,"baseUrl"),{type:"PUT",data:JSON.stringify({spotlight:e}),dataType:"json",contentType:"application/json"})}})}).call(t,n(1))},function(e,t,n){"use strict";function i(e){var t,n=e.state,i=e.origin,s=e.target,o=e.targetType;n&&this.acceptsType(o)?this.add(r.getLikeModelData(i,o,s),{at:0}):(t=this.find(function(e){var t="sound"===o?e.get("track"):"playlist"===o?e.get("playlist"):null;return t&&s===t.id}),t&&this.remove(t))}var s=n(76),r=n(431),o=n(1090),a=n(151),l=n(142),u=[{emitter:s,event:"like",getInstance:function(e,t){var n=t.origin;return e.options.userId===n},handler:i}];e.exports=l.extend(o,a.withOptions({events:u}),{model:r,defaults:{type:"likes"},baseUrl:function(){return this.getEndpointUrl("userLikes",{id:this.options.userId})},unshuffle:function(e){return-Date.parse(e.get("created_at"))},parse:function(e){var t=this.options.userId;return e.collection.forEach(function(e){e.user_id=t}),e.collection},audibleAt:function(e){return this.at(e).getAudible()},acceptsType:function(e){return"sound"===e||"playlist"===e}})},function(e,t,n){"use strict";var i=n(70),s=n(142);e.exports=s.extend({model:i,defaults:{limit:20,type:"tracks",keepBlocked:!0},baseUrl:function(){return this.getEndpointUrl("userTracks",{id:this.options.userId},{representation:this.options.keepBlocked?"owner":""})}},{hashFn:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.userId,i=t.resource_id,s=t.keepBlocked,r=n||i;return[r||null,s===!1?"_b":null].join("")||null}})},,,function(e,t,n){"use strict";var i=n(25),s=n(110),r=n(23);e.exports={401:function(e){i.isLoggedIn()&&i.logout()},429:function(e){var t=JSON.parse(e.responseText),n=t.errors[0]||t.errors,i=new s({xhr:e,error:n,message:n.reason_phrase});r.trigger("spam-warning",i),i.release()},422:function(e){var t=e.responseText;try{t=JSON.parse(t).errors[0].error_message}catch(n){t=null}r.trigger("error:ajax",t,e)}}},function(e,t,n){(function(t){"use strict";var i=n(3),s=n(22),r=n(219),o=n(87),a=n(66),l=n(694),u=n(70),c=n(158),d=n(67),h=/soundcloud\.com\/[a-zA-Z0-9_\/?=#&%-]+/g,p=/^(?:(?:https?:\/\/)?(?:www\.|m\.)?soundcloud\.(?:com|dev))\/?/i,f=/^(?:(?:https?:\/\/)?(?:[-\w]+\.)*?soundcloud\.(?:com|dev))\b\/?/i,g=/^(?:(?:ht|f)tps?:\/\/|mailto:)/i,m=["accounts","activate","activity","admin","android","announcements","api","apps","artworks","assets","comments","community-guidelines","connect","customize","creativecommons","creator","creators","dashboard","dropbox","emails","errors","events","explore","facebook","faqs","favorites","feedbacks","feeds","for","forums","genres","gifts","google_plus","groups","guestlist","help","hot","invite","imprint","iphone","ipad","ipod","jobs","join-us","latest","login","logout","mac","me","messages","mobile","music","newsletters","notifications","oauth","oauth2","orders","oembed","pages","partners","people","player","playlists","posts","press","pro","press_release","search","session","sets","settings","signin","sign-in","signup","sign-up","sitemap","sound","sounds","stats","stream","subscription","terms-of-use","tour","tracks","turn_off_notifications","tags","upload","users","videos","waveform","welcome","widgets","widget.xml","widget","widget.json","you","campaigns","contacts","discover","fans","faq","logged_exceptions","manifest.webapp","robots","topics"],v=[];l.forEach(function(e){v.unshift(e)});var _=e.exports={getReservedKeywords:function(){return m},updateSCLinks:function(e,n){return n&&n.usertext&&(e=c.usertext(e,n)),n&&n.usertextOneline&&(e=c.usertextOneline(e,n)),e=t("<div>").html(e),e.find("a").each(function(e,n){var s,o,a,l,u,c=n.getAttribute("href"),h=t(n);if(!g.test(c)&&(u=d.parse(c),u.path&&(a=i.find(v,function(e){return e.route.test(n.pathname.slice(1))}))))if("listen"===a.name)s=u.path.split("/").slice(1),h.text(r.capitalize(s[0])+" – "+r.capitalize(s[1]));else if("user"===a.name){if(o=u.path.split("/")[1],_.getReservedKeywords().indexOf(o)>-1)return;if(h.addClass("g-link-user"),l=n.previousSibling,l&&3===l.nodeType&&/@$/.test(l.textContent))return;n.parentNode.insertBefore(window.document.createTextNode("@"),n),h.text(o)}}),e.html()},scLinksRegexGlobal:h,soundcloudUrlRegex:p,anySCLinkRegex:f,getAudibleModels:function(e){var t,n=this.filterAudibleLinks(e),s=a.defer();return t=n.map(function(e){return"listen"===e.info.name?u.resolve.apply(u,e.info.params):o.resolve.apply(o,e.info.params)}),a.settled(t).always(function(){var e=i.map(arguments,function(e,t){var i=e[0];return i instanceof o||i instanceof u?{audible:i,link:n[t].link}:null});s.resolve(e)}),s},filterAudibleLinks:function(e){var t=s.get("router"),n=["listen","playlist"];return i.reduce(e,function(e,i){var s=t.getUrlInfo(i);return s&&n.indexOf(s.name)>-1&&e.push({info:s,link:i}),e},[])}}}).call(t,n(1))},function(e,t,n){"use strict";var i,s,r=n(22),o=n(66),a="//connect.facebook.net/en_US/all.js",l=e.exports={initialized:!1,appId:r.get("fb_app_id"),init:function(){return s||(s=o.defer().done(function(){l.initialized=!0}),i()),s},isLoggedIn:function(){var e=o.defer();return l.init().done(function(){FB.getLoginStatus(function(t){e.resolve("connected"===t.status)})}),e.promise()},login:function(){var e=o.defer();return FB.login(function(t){var n=!!t.authResponse;e.resolve(n,n?t.authResponse.accessToken:null)}),e.promise()},getAccessToken:function(){return FB.getAuthResponse().accessToken},parseXFBML:function(e){FB.XFBML.parse(e)}};i=function(){window.fbAsyncInit=function(){FB.init({appId:l.appId,status:!0,cookie:!0,xfbml:!0}),delete window.fbAsyncInit,s.resolve()};var e,t,n=window.document,i="facebook-jssdk",r=n.getElementsByTagName("script")[0];n.getElementById(i)||(t=n.createElement("div"),t.id="fb-root",n.body.appendChild(t),e=n.createElement("script"),e.id=i,e.async=!0,e.src=a,r.parentNode.insertBefore(e,r))}},function(e,t){"use strict";e.exports={CANCELING:"canceling",EDITING:"editing",NONE:"none",SAVING:"saving"}},,,function(e,t,n){"use strict";function i(){var e=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","isEmpty","chain","sample"];return e.reduce(function(e,t){return e[t]=function(){var e=[this._asMap()];return e.push.apply(e,arguments),s[t].apply(s,e)},e},{})}var s=n(3),r=n(136);e.exports=r.extend([i(),{initialize:function(e){this._store={},this.length=0,this._final=!1,this.maxLength=e&&e.maxLength||!1,this.maxLength&&(this._keys=[])},maxLength:0,get:function(e){return this._store[e]},set:function(e,t){return this.has(e)?this.maxLength&&this._keys.splice(this._keys.indexOf(e),1):(++this.length,this.maxLength&&this.length>this.maxLength&&this.unset(this._keys[0])),this.maxLength&&this._keys.push(e),this._store[e]=t,this},unset:function(e){var t;return this.has(e)&&(--this.length,this._final?this._store[e]=t:(delete this._store[e],this.maxLength&&this._keys.splice(this._keys.indexOf(e),1))),this},reset:function(){return this._store={},this.maxLength&&(this._keys=[]),this._final=!1,this.length=0,this},has:function(e){return this._store.hasOwnProperty(e)},keys:function(){return Object.keys(this._store)},prune:function(e){return s.difference(this.keys(),e).forEach(this.unset,this),this},_asMap:function(){return this._store},finalize:function(){this._final=!0}}])},function(e,t){"use strict";e.exports={QUEUED:1,UPLOADING:2,FAILED:4,TRANSCODING:8,COMPLETE:16}},,,,,,function(e,t,n){"use strict";var i=n(72),s=n(70),r=n(87),o=e.exports=i.extend({resource_type:"user_stream_item",submodelMap:{track:null,playlist:null},baseUrl:null,audible:null,createSubmodel:function(e,t){var n,i="track"===t?s:r,o=this.get(t);o&&(n=new i(o),this.addSubmodel(n),this.listenTo(n,"destroy",this.onSubmodelDestroy),this.audible=n)},onSubmodelDestroy:function(){this.destroy()},equivalentTo:function(e){if(this===e)return!0;var t=this.get("track")||this.get("playlist"),n=e.get("track")||e.get("playlist")||e.attributes;return t.kind===n.kind&&t.id===n.id},getAudible:function(){return this.audible},getActionType:function(){return this.isRepost()?"repost":this.isLike()?"like":"post"},isSpotlight:function(){return this.get("type").indexOf("_spotlight")>-1},isRepost:function(){return/[_-]repost$/.test(this.get("type"))},isLike:function(){return/[_-]like$/.test(this.get("type"))},isRegular:function(){return!this.isRepost()&&!this.isLike()&&!this.isSpotlight()},toggleSpotlight:function(e){this.isRepost()||this.isLike()||(void 0===e&&(e=!this.isSpotlight()),this.set("type",this.get("type").replace(e?/$/:/_spotlight$/,e?"_spotlight":"")))},getModelData:function(){return this.get("track")||this.get("playlist")}},{convert:function(e){var t=e instanceof s,n=e.toJSON();return new o({type:n.kind,created_at:n.created_at,track:t?n:null,playlist:t?null:n})}})},,,,,,,,,,,function(e,t,n){var i=n(3),s=n(64),r=n(218);e.exports=function(e){var t=s.t("Private",null,{comment:"This is a track label. If track is private it has small tag `Private`"}),n=i.defaults({type:"private",label:t},e.hash);return r({hash:n})}},function(e,t){var n={a:/[\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/gi,aa:/[\uA733]/gi,ae:/[\u00E6\u01FD\u01E3]/gi,ao:/[\uA735]/gi,au:/[\uA737]/gi,av:/[\uA739\uA73B]/gi,ay:/[\uA73D]/gi,b:/[\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/gi,c:/[\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/gi,d:/[\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/gi,dz:/[\u01F3\u01C6]/gi,e:/[\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/gi,f:/[\u24D5\uFF46\u1E1F\u0192\uA77C]/gi,g:/[\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/gi,h:/[\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/gi,hv:/[\u0195]/gi,i:/[\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/gi,j:/[\u24D9\uFF4A\u0135\u01F0\u0249]/gi,k:/[\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/gi,l:/[\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/gi,lj:/[\u01C9]/gi,m:/[\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/gi,n:/[\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/gi,nj:/[\u01CC]/gi,o:/[\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/gi,oi:/[\u01A3]/gi,ou:/[\u0223]/gi,oo:/[\uA74F]/gi,p:/[\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/gi,q:/[\u24E0\uFF51\u024B\uA757\uA759]/gi,r:/[\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/gi,s:/[\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B\u017F]/gi,t:/[\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/gi,tz:/[\uA729]/gi,u:/[\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/gi,v:/[\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/gi,vy:/[\uA761]/gi,w:/[\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/gi,x:/[\u24E7\uFF58\u1E8B\u1E8D]/gi,y:/[\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/gi,z:/[\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/gi},i=/^\[|\]$/g,s=new RegExp("["+Object.keys(n).reduce(function(e,t){return e+n[t].source.replace(i,"")},"")+"]","i");e.exports=function(e){if(s.test(e))for(var t in n)n[t].lastIndex=0,n[t].test(e)&&(e=e.replace(n[t],t));return e.toLowerCase()}},function(e,t,n){"use strict";var i=n(168),s=n(74);e.exports=s.extend({model:i,lastFetchTime:Date.now(),next_href:!1},{neverRelease:!0,hashFn:function(){return 1}})},function(e,t,n){"use strict";function i(e,t,n){var i,s=u.instances.get(n.id),r=new d;s&&s.add(n.last_message),r.add(n,{userAction:!0,merge:!0}),i=o.instances.get(n.id),i&&i.markAsRead(),l.trigger("new-message:sent",{recipient:e,showSuccessMessage:t})}function s(e,t){var n=t.responseText,i=function(e){return n.indexOf(e)>-1},s=n?i("confirmed their address")?"emailnotconfirmed":i("sender must be followed")?"privacy":i("receiver blocked sender")?"youareblocked":i("rate limit")?"ratelimit":i("receiver does not exist")?"receiverdoesntexist":"default":"default";l.trigger("new-message:failed",{errorCode:s,recipient:e})}function r(e){var t=this;e.forEach(function(e){t.get(e)||t.add({id:e},{at:0})}),this.trigger("new-conversations-added")}var o=n(144),a=n(324),l=n(23),u=n(705),c=n(74),d=e.exports=c.extend({model:o,currentConversationId:null,baseUrl:a.baseUrl,setup:function(){this.listenTo(l,"new-unread-messages",r).listenTo(this,"change:last_message",this.sort)},getCurrentConversationId:function(){return this.currentConversationId},fetch:function(e){var t=this;return c.prototype.fetch.apply(this,arguments).done(function(){e&&e.reset&&t.trigger("new-conversations-added")})},setCurrentConversationId:function(e){e!==this.currentConversationId&&(this.currentConversationId=e,this.trigger("change:currentConversationId",{currentConversationId:e}))},comparator:function(e,t){return t.lastMessageSentAt()-e.lastMessageSentAt()}},{hashFn:function(){return 1},neverRelease:!0,send:function(e,t,n){return a.post(e.id,t).done(i.bind(this,e,n)).fail(s.bind(this,e))}})},function(e,t,n){"use strict";function i(){var e="user"===this.options.playlists_for?"users":"tracks";return"/"+e+"/"+this.options.resource_id+"/playlists"}var s=n(22),r=n(74),o=n(153),a=n(87),l=n(67),u=(e.exports=o.extend({model:a,defaults:{resource_id:null,playlists_for:null,exclude:null},setupSources:function(){var e=this.options.exclude;return e&&(this.filters=[function(t){return t.id!==e}]),[new u(null,this.options)]}},{hashFn:function(e,t){var n=u.hashFn.apply(this,arguments);return t.exclude&&(n+="_"+t.exclude),n}}),r.extend({model:a,parse:function(e){return e.collection.forEach(function(e){null===e.tracks&&delete e.tracks}),e.collection},baseUrl:function(){return l.stringify({path:i.call(this),query:{representation:"mini"}},s.get("api_v2_host"))}},{hashFn:function(e,t){return t.playlists_for+"_"+t.resource_id+"_"+t.limit+"_"+t.offset}}))},function(e,t,n){"use strict";function i(){var e=l.get("experiments").get("v2_listening","similar-sounds-improve-wtv-recall");return"improve-wtv-recall"===e?"improvewtvrecall":null}function s(e){return e.resource_type="playlist"===e.kind?"playlist":"sound",e}var r=n(73),o=n(129),a=n(74),l=n(22),u=n(67),c=Math.floor(1e8*Math.random());e.exports=a.extend(o,{model:r,audioSourceVersion:null,queryUrn:null,defaults:{resource_id:null,resource_type:null},getSourceInfo:function(){return{type:"recommender",queryUrn:this.queryUrn,version:this.audioSourceVersion,resourceId:this.options.resource_id,resourceType:this.options.resource_type}},parse:function(e){var t=e.query_urn,n=e.collection,i=e.variant;return this.audioSourceVersion=i||"no_version",this.queryUrn=t,n.map(s)},baseUrl:function(){var e=l.get("me").id||null;return u.stringify({host:l.get("api_v2_host"),path:["tracks",this.options.resource_id,"related"],query:{user_id:e,anon_user_id:e?null:c,variant:i()}})}},{hashFn:function(e,t){var n=t.resource_id;return n}})},function(e,t,n){(function(t){"use strict";function i(e,t){return f.fuzzy(e||"",t,"output").map(function(e){return u.defaults({highlights:e.highlights},e.item)})}function s(e,t){return e&&"all"!==e?t.filter(function(t){return t.kind===e}):t}function r(e,t){return e?t.filter(function(t){return e.test(p(t.output))}):t}function o(e){return e?new RegExp("(^|[\\s.\\(\\)\\[\\]_-])("+m.regexpEscape(e)+")","i"):null}function a(e){return{entity:u.defaults({kind:v[e.kind]},e),output:l(e),highlights:[],kind:e.kind}}function l(e){switch(e.kind){case"like":return e.title;case"following":return e.username;case"group":return e.name}}var u=n(3),c=n(74),d=n(22),h=n(66),p=n(250),f=n(157),g=n(200),m=n(162),v={like:"sound",group:"group",following:"user"},_=u.memoize(function(e){var n=null;return function(){return e?n?n:n=t.ajax(d.get("public_api_host")+"i1/me/shortcuts").then(function(e){return e.map(a)},function(){n=null}):h.resolve([])}});e.exports=c.extend({model:g,queryRegex:null,defaults:{query:"",kind:"all"},setup:function(e){var t=e.query;this.queryRegex=o(t)},sync:function(e){var t=this;if("read"!==e)throw new Error("Shortcut collections are read-only");var n=d.get("me").id;return _(n)().then(function(e){var n=u.compose(i.bind(null,t.options.query),r.bind(null,t.queryRegex),s.bind(null,t.options.kind))(e);return t.setToFullyPopulated(),t.reset(n),n})},getRegex:function(){return this.queryRegex}},{hashFn:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.query,i=t.kind;return i+"_"+n},prefetch:function(){return _()}})}).call(t,n(1))},,function(e,t,n){"use strict";function i(e,t){this.set("network",r(t))}function s(e,t){this._webProfile.set("network",t),this.set("icon",this._webProfile.getNetworkClassName())}function r(e){var t;return e?(a.any(d,function(n,i){return n.test(e)?(t=i,!0):void 0}),t||"personal"):""}function o(){var e=this.getAttributesFromModel();this.set(e),this.markFieldsClean()}var a=n(3),l=n(89),u=n(389),c=n(440),d={facebook:/\bfacebook\.com/i,twitter:/\btwitter\.com/i,myspace:/\bmyspace\.com/i,lastfm:/\b(last\.fm|lastfm\.[a-z]*)/i,youtube:/\byoutube\.com/i,google_plus:/\bplus\.google\.com/i,beatport:/\bbeatport\.com/i,discogs:/\bdiscogs\.com/i,flickr:/\bflickr\.com/i,hypem:/\bhypem\.com/i,ning:/\bning\.com/i,posterous:/\bposterous\.com/i,purevolume:/\bpurevolume\.com/i,residentadvisor:/\bresidentadvisor\.net\/(profile|dj)/i,residentadvisorlabel:/\bresidentadvisor\.net\/record-label/i,reverbnation:/\breverbnation\.com/i,soundcloud:/\bsoundcloud\.com/i,songkick:/\bsongkick\.com/i,tumblr:/\btumblr\.com/i,vimeo:/\bvimeo\.com/i,virb:/\bvirb\.com/i,wordpress:/\bwordpress\.com/i,ccmixter:/\bccmixter\.org/i,itunes_podcast:/\bitunes\.apple\.com/i,instagram:/\binstagram\.com/i,foursquare:/\bfoursquare\.com/i,flavors:/\bflavors.me/i,thedjlist:/\bthedjlist.com/i,berklee:/\bberkleemusic\.com/i,whatpeopleplay:/\bwhatpeopleplay\.com/i,zeroinch:/\bzero-inch\.com/i,gigatools:/\bgigs\.gigatools\.com/i,freesound:/\bfreesound\.org/i,bandpage:/\bbandpage\.com/i,bandsintown:/\bbandsintown\.com/i};e.exports=l.extend({resource_type:"web-profile-form",_webProfile:null,fields:{icon:{defaultValue:""},url:{defaultValue:""},title:{defaultValue:""}},constraints:{url:[[u,{strict:!0}]]},setup:function(e,t){this._webProfile=new c(e,t),this.addSubmodel(this._webProfile),o.call(this),this.listenTo(this,"change:url",i).listenTo(this,"change:network",s)},removeWebProfile:function(){this.trigger("form:dirty"),this.destroy()},getAttributesFromModel:function(){var e=this._webProfile.getNetworkClassName();return a.assign(this.getWebProfile().pick("id","title","url","network"),{icon:e})},getWebProfile:function(){return this._webProfile}})},function(e,t,n){"use strict";e.exports={DISABLED:-1,UNKNOWN:0,PENDING:1,INVALID:2,VALID:3}},function(e,t,n){"use strict";var i=n(3),s=n(27),r=window.document,o=function(){return!r.hasFocus||r.hasFocus()},a=!0,l=e.exports=i.assign({},s.Events,{visible:function(){return a},focused:function(){return a&&o()}});!function(){var e=function(){var e=!r.hidden;a!==e&&(a=e,l.trigger("change:visibility",a))};e(),r.addEventListener("visibilitychange",e,!1)}()},function(e,t,n){"use strict";function i(e){return"sound"===e.resource_type}function s(e){return e?o.dateTimeHelper.format(new Date(e)):null}var r=n(156),o=n(64);e.exports={enabledAttributes:function(e){return{isPrivate:e.isPrivate(),isGeoblocked:e.isGeoblocked(),isMonetizable:e.isMonetizable(),isMonetizablePending:e.isMonetizablePending(),isManagedByFeeds:e.isManagedByFeeds(),isPublisherBlocked:!1,hasScheduledPrivacy:e.hasScheduledPrivacy()}},publisherBlocked:function(e){!e.isPublisherBlocked()},sharing:function(e){return e.isPrivate()?i(e)?o.t("This track is private."):o.t("This playlist is private."):void 0},managedByFeeds:function(e){return e.isManagedByFeeds()?i(e)?o.t("This track cannot be edited or deleted, as it is managed directly by its rightsholder."):o.t("This playlist cannot be edited or deleted, as it is managed directly by its rightsholder."):void 0},monetization:function(e){if(e.isMonetizable()){var t=e.get("monetization");if(!t)return i(e)?o.t("This track is monetizable."):o.t("This playlist is monetizable.");var n=t.start_timestamp,r=t.end_timestamp,a={startDate:s(n),endDate:s(r)};return n&&r?i(e)?o.t("This track is monetizable between [[startDate]] and [[endDate]].",a):o.t("This playlist is monetizable between [[startDate]] and [[endDate]].",a):n&&!r?i(e)?o.t("This track is monetizable from [[startDate]].",a):o.t("This playlist is monetizable from [[startDate]].",a):!n&&r?i(e)?o.t("This track is monetizable until [[endDate]].",a):o.t("This playlist is monetizable until [[endDate]].",a):i(e)?o.t("This track is monetizable."):o.t("This playlist is monetizable.")}},monetizationPending:function(e){if(e.isMonetizablePending()){var t=e.get("monetization");if(t){var n=Date.now(),r=t.start_timestamp&&new Date(t.start_timestamp),a=t.end_timestamp&&new Date(t.end_timestamp),l={startDate:s(r),endDate:s(a)};return r&&r>n?i(e)?o.t("This track is monetizable from [[startDate]].",l):o.t("This playlist is monetizable from [[startDate]].",l):a&&n>a?i(e)?o.t("This track is monetizable until [[endDate]].",l):o.t("This playlist is monetizable until [[endDate]].",l):i(e)?o.t("This track is enabled for monetization, but is not yet monetizable."):o.t("This playlist is enabled for monetization, but is not yet monetizable.")}}},scheduling:function(e){if(!e.hasScheduledPrivacy())return null;var t=e.get("scheduled_public_date"),n=e.get("scheduled_private_date"),r={publicDate:s(t),privateDate:s(n)};return t&&n?i(e)?o.t("This track will be made public on [[publicDate]], and will be made private on [[privateDate]].",r):o.t("This playlist will be made public on [[publicDate]], and will be made private on [[privateDate]].",r):t?i(e)?o.t("This track will be made public on [[publicDate]].",r):o.t("This playlist will be made public on [[publicDate]].",r):i(e)?o.t("This track will be made private on [[privateDate]].",r):o.t("This playlist will be made private on [[privateDate]].",r)},geoblocking:function(e){if(e.isGeoblocked()){var t=r.complement(e.get("geo_blockings"));return 1===t.length?i(e)?o.t("This track will only be playable in [[countryTitle]].",{countryTitle:r.country(t[0]).title}):o.t("This playlist will only be playable in [[countryTitle]].",{
countryTitle:r.country(t[0]).title}):i(e)?o.tp("This track will only be playable in 1 country.","This track will only be playable in %d countries.",t.length):o.tp("This playlist will only be playable in 1 country.","This playlist will only be playable in %d countries.",t.length)}}}},function(e,t){"use strict";e.exports={centered:function(e,t,n,i){var s=Math.min(t,window.screen.width-50),r=Math.min(n,window.screen.height-50),o=window.screenX+(window.outerWidth-s)/2,a=window.screenY+(window.outerHeight-r)/2;return window.open(e,i||"",["location=1","width="+s,"height="+r,"top="+a,"left="+o,"toolbar=no","scrollbars=yes"].join(","))}}},function(e,t){"use strict";e.exports={precise:function(e,t){return t=Math.pow(10,t||0),Math.round(e*t)/t},clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}}},,,,,,function(e,t,n){"use strict";var i=n(64),s={google_play:{en:"https://play.google.com/store/apps/details?id=com.soundcloud.android",pt_BR:"https://play.google.com/store/apps/details?id=com.soundcloud.android&hl=pt-br"},appstore:{en:"https://itunes.apple.com/en/app/soundcloud/id336353151?mt=8",pt_BR:"https://itunes.apple.com/br/app/soundcloud-music-audio/id336353151?mt=8"}};e.exports={getStoreUrl:function(e){var t=s[e];return t[i.getLocale()]||t.en}}},,,,function(e,t,n){"use strict";var i=n(171),s=n(67);e.exports=i.extend({baseUrl:"me/mutings/users/",CREATE:"POST",url:function(e,t,n){return"CREATE"!==t?i.prototype.url.call(this,e,t):s.stringify({path:["me","blockings"],query:{user_id:e,reported:n&&n.reported?"true":null,remove_activities:n&&n.remove_activities?"true":null}})}})},function(e,t,n){(function(t){"use strict";function i(e){return c.centered(e,450,500,"createNewConnection")}var s,r,o=n(25),a=n(23),l=n(72),u=n(66),c=n(261),d=n(67);r={facebook_profile:"connection-facebook.html",twitter:"connection-facebook.html",facebook_page:"connection-facebook.html",tumblr:"connection-facebook.html"};var h=e.exports=l.extend({baseUrl:function(){return"me/connections/"+this.id}},{create:function(e){var n,a,l=r[e];if(s){if(n=s.popup,s.type===e)return n&&!n.closed&&n.focus&&n.focus(),s.deferred;s.deferred.reject()}return s||(s={deferred:u.defer().always(function(){var e=s.popup;e&&!e.closed&&e.close(),window.clearInterval(s.intervalId),s=null}),popup:null,intervalId:null}),a=s.deferred,l=window.location.protocol+"//"+window.location.host+"/"+l,o.login().fail(a.reject).done(function(){t.ajax({type:"POST",url:"me/connections",data:{service:e,redirect_uri:l},dataType:"json",contentType:"application/json"}).fail(a.reject).done(function(e){var t=s.popup=i(e.authorize_url);s.intervalId=window.setInterval(function(){(!t||t.closed)&&a.reject()},2e3)})}),a},callback:function(e){var t,n=d.parseQueryString(e.location.search);"1"===n.success?(t=new h({id:parseInt(n.id,10)}),t.fetch().fail(s.deferred.reject).done(function(){a.trigger("connect:newConnection",t),s.deferred.resolve(t)})):(a.trigger("connect:connectionError",n.errorMessage),s.deferred.reject())}})}).call(t,n(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={defaultKind:"top",defaultGenre:"all-music",kinds:[{id:"top",urlPart:"top"},{id:"trending",urlPart:"new"}],genres:[{id:"all-music",category:"all",content:"music"},{id:"all-audio",category:"all",content:"audio"},{id:"alternativerock",category:"music",content:"music"},{id:"ambient",category:"music",content:"music"},{id:"classical",category:"music",content:"music"},{id:"country",category:"music",content:"music"},{id:"danceedm",category:"music",content:"music"},{id:"dancehall",category:"music",content:"music"},{id:"deephouse",category:"music",content:"music"},{id:"disco",category:"music",content:"music"},{id:"drumbass",category:"music",content:"music"},{id:"dubstep",category:"music",content:"music"},{id:"electronic",category:"music",content:"music"},{id:"folksingersongwriter",category:"music",content:"music"},{id:"hiphoprap",category:"music",content:"music"},{id:"house",category:"music",content:"music"},{id:"indie",category:"music",content:"music"},{id:"jazzblues",category:"music",content:"music"},{id:"latin",category:"music",content:"music"},{id:"metal",category:"music",content:"music"},{id:"piano",category:"music",content:"music"},{id:"pop",category:"music",content:"music"},{id:"rbsoul",category:"music",content:"music"},{id:"reggae",category:"music",content:"music"},{id:"reggaeton",category:"music",content:"music"},{id:"rock",category:"music",content:"music"},{id:"soundtrack",category:"music",content:"music"},{id:"techno",category:"music",content:"music"},{id:"trance",category:"music",content:"music"},{id:"trap",category:"music",content:"music"},{id:"triphop",category:"music",content:"music"},{id:"world",category:"music",content:"music"},{id:"audiobooks",category:"audio",content:"audio"},{id:"business",category:"audio",content:"audio"},{id:"comedy",category:"audio",content:"audio"},{id:"entertainment",category:"audio",content:"audio"},{id:"learning",category:"audio",content:"audio"},{id:"newspolitics",category:"audio",content:"audio"},{id:"religionspirituality",category:"audio",content:"audio"},{id:"science",category:"audio",content:"audio"},{id:"sports",category:"audio",content:"audio"},{id:"storytelling",category:"audio",content:"audio"},{id:"technology",category:"audio",content:"audio"}]}},function(e,t,n){var i=n(3),s=n(21),r=e.exports={getMarkup:function(e,t,n){if(Array.isArray(t))return t.map(function(t){return r.getMarkup(e,t,n)}).join("");n=n||{};var o=[],a=n.whitelist,l="self"===n.closingTag?"/":"",u=n.closingTag===!0?"</"+e+">":"";return i.each(t,function(e,t){"style"===t&&"object"==typeof e&&(e=this.getStyleAttr(e)),a&&-1===a.indexOf(t)||o.push(" "+t+'="'+s.Utils.escapeExpression(e)+'"')},this),"<"+e+o.join("")+l+">"+u},getStyleAttr:function(e){return i.map(e,function(e,t){return null!=e&&""!==e?t+":"+e+";":""}).join("")}}},function(e,t,n){function i(e,t,n){if(n.indexOf(" ")>-1)return n;if(n!==n.toUpperCase()){var i=n.replace(/[.,#~_-]|([a-z])([A-Z])/g,function(e,t,n){return t?t+" "+n:" "});if(n!==i)return r.titleCase(i)}var s=n.toLowerCase();return e&&s.indexOf(e.toLowerCase())>-1||t&&s.indexOf(t.toLowerCase())>-1||s.indexOf("user")>-1?e+" "+t:n}var s=n(219),r=n(162);e.exports={get:function(e,t){var n=e.username||e.title||e.name;return t===!0&&(n=s.possessive(n)),n},getTitleDisplayName:function(e,t,n){var s=i(e,t,n);return s!==n?n+" | "+s:n}}},function(e,t){!function(){function t(){clearTimeout(L),S=T=A=E=C=D=I=M=F=L=void 0,N=[],P=function(){throw new Error("EventGateway must be initialized")}}function n(){return Math.floor(1e6*Math.random())}function i(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function s(e,t){var n,s=i(e);for(n in t)t.hasOwnProperty(n)&&(s[n]=t[n]);return s}function r(e){return e="object"==typeof e?e:{},e.context=e.context||{},e.context.scope=e.context.scope||[],e}function o(e){return e.replace(z,"v$&")}function a(e,t,n){var i=e[n];return"object"==typeof i?t[n]=Object.keys(x(i)).reduce(a.bind(null,i),{}):t[n]=""+i,t}function l(e,t){var n=x(t);return"0.0.0"===e?Object.keys(n).reduce(a.bind(null,n),{}):n}function u(e,t,n,i){var s=I+(t?"/v1/events":"/v1/event"),r=JSON.stringify(e);if(i&&j)window.navigator.sendBeacon(s,r);else{var o=new window.XMLHttpRequest;o.onload=f.bind(null,o),o.onerror=g.bind(null,o,n&&u.bind(null,e,t,!1,!1)),o.open("post",s,!0),o.send(JSON.stringify(e))}}function c(e){F?(N.push(e),L||(L=setTimeout(d,F))):u(e,!1,!0,!1)}function d(e){clearTimeout(L),L=null,N.length&&(u(N.slice(),!0,!0,!!e),N.length=0)}function h(e,t,n){var i,s;if(n=n||{},n.anonymous_id=S,n.client_id=C,n.ts=Date.now(),n.url=n.url||window.location.href,D&&(n.app_version=D),E)for(i in E)n["exp_"+i]=E[i];A&&(n.origin=A),M&&!n.user&&(n.user=M),(s=document.referrer).length>0&&(n.referrer=s),c({event:e,version:o(t),payload:l(t,n)})}function p(e){e.onload=e.onerror=null}function f(e){p(e)}function g(e,t){p(e),t&&!/^4/.test(e.status)&&setTimeout(t,B)}function m(e,t){for(var n=0,i=t.length;i>n;n++)if(void 0===e[t[n]])return!0;return!1}function v(e){return e?_("users",e):S}function _(e,t){return["soundcloud",e,t].join(":")}function y(e,t){t&&(e.query_urn=t.queryUrn,e.query_position=t.position)}function b(){}function w(e){var t,n,i={};if(e)for(t=1;t<arguments.length;++t)n=arguments[t],n in e&&(i[n]=e[n]);return i}function x(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!=e[t]&&(n[t]=e[t]);return n}var k,S,T,A,E,C,D,I,M,P,L,F,N,O="sc_anonymous_id",R=3e4,$=1e3,B=3e4,U="https://eventgateway.soundcloud.com",z=/^[^v]/,j=!!window.navigator.sendBeacon;t(),k={_anonymousId:null,initialize:function(e){if(!T){if(!e.id)throw new Error("EventGateway: You need to pass an id");A=e.origin,e.user&&(M=_("users",e.user)),S=this._anonymousId=k.getAnonymousId(),this.checkpointIntervals={},C=e.id,D=e.appVersion||null,I=e.trackingUrl||U,F=e.batchTimeout||!1,T=!0,P=b}},deinitialize:function(){t()},setUser:function(e){M=_("users",e)},setExperiments:function(e){E=e},getAnonymousId:function(){var e=k.anonymousIdStore.get();return e&&"undefined"!==e||(e=[n(),n(),n(),n()].join("-"),k.anonymousIdStore.set(e)),e},logEvent:h,pageview:function(e,t,n,i){P(),i=r(i);var o=v(e),a={user:o,level:t,chapter:n.join("::"),page_name:i.page_name,page_urn:i.page_urn,query_urn:i.query_urn,locale:i.locale};h("pageview","0.0.0",s(a,i.params))},impression:function(e,t){P(),t=r(t);var n=w(t,"impression_name","impression_category","impression_object","page_name","page_urn","ad_urn","monetized_object","monetization_type","promoted_by","external_media");n.page_context=t.context.scope.join(":"),h("impression","1.16.0",n)},click:function(e,t,n,i){P(),i=r(i);var o={ad_urn:i.ad_urn,campaign:i.context.campaign,chapter:n.join("::"),context:i.context.scope.join(":"),external_media:i.external_media,level:t,monetization_type:i.monetization_type,monetized_object:i.monetized_object,promoted_by:i.promoted_by,urn:i.urn,user:v(e),click_name:i.click_name,click_object:i.click_object,click_target:i.click_target,page_name:i.page_name,page_urn:i.page_urn};y(o,i.context.attribution),h("click","0.0.0",s(o,i.params))},audio:function(e){P();var t,n=e.id,s="soundcloud:tracks:"+n,r=this.checkpointIntervals,o="number"==typeof e.checkpointInterval&&e.checkpointInterval>=$?e.checkpointInterval:null,a=w(e,"page_name","page_urn","source","in_playlist","playlist_position","reposted_by","track_length","protocol","action","trigger","ad_urn","monetization_type","promoted_by","policy","monetization_model");if(y(a,e.attribution),a.track=s,a.track_owner=_("users",e.trackOwnerId),a.playhead_position=e.playheadPosition,a.monetized_object=e.monetized_urn,h("audio","1.16.0",a),clearInterval(r[n]),"play"===e.action){var l=Date.now()+e.track_length;t=i(a),t.action="checkpoint",r[n]=setInterval(function(){Date.now()<l?h("audio","1.16.0",t):clearInterval(r[n])},o||R)}else delete r[n]},audioPerformance:function(e){if(P(),m(e,["type","latency","protocol","playertype","host"]))throw new Error("EventGateway — AudioPerformance : One or multiple mandatory arguments are missing");var t={type:e.type,latency:e.latency,protocol:e.protocol,player_type:e.playertype,host:e.host};h("audio_performance","0.0.0",t)},audioError:function(e){if(P(),m(e,["error_code","protocol","player_type","host","url"]))throw new Error("EventGateway — AudioError : One or multiple mandatory arguments are missing");var t={error_code:e.error_code,protocol:e.protocol,player_type:e.player_type,host:e.host,url:e.url};return h("audio_error","0.0.0",t)},appLoad:function(e,t){P();var n={latency:t.latency,user:v(e),level:t.level};h("appload","0.0.0",n)},statsView:function(e,t){h("stats_view","0.0.0",s({user:v(e)},t))},anonymousIdStore:{get:function(){var e=document.cookie.split(O+"=");return e.length>1&&e[1].split(";")[0]},set:function(e){var t,n="."+window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),i=new Date;i.setTime(i.getTime()+31536e7),t="; expires="+i.toGMTString(),document.cookie=O+"="+e+t+"; path=/; domain="+n}},flush:d},"undefined"!=typeof e&&e.exports?e.exports=k:(window.SC=window.SC||{},window.SC.EventGateway=k)}()},function(e,t,n){"use strict";var i=n(74),s=n(67),r=n(68);e.exports=i.extend({model:r,baseUrl:function(){return s.stringify({path:["groups",this.options.resource_id,"moderators"]})}})},,,function(e,t,n){"use strict";function i(e){e.length>0&&f.trigger("new-unread-messages",e)}function s(e){var t;e.forEach(function(e){t=p.instances.get(e),t&&t.setRead(!0)})}function r(){var e=g[this.notificationType];return{backoffRate:1.1,baseDelay:e.get("minPollInterval"),maxDelay:e.get("maxPollInterval")}}function o(){this._breaker&&this.restart()}function a(){this.trigger("anyUnreadMessages",this.hasAnyUnreadMessages())}function l(e){this.remove(e),a.call(this)}function u(e){var t=p.instances.get(e);t&&this.add(t),a.call(this)}var c=n(3),d=n(147),h=n(74),p=n(144),f=n(23),g=n(185);e.exports=h.extend({model:p,notificationType:"unreadConversations",defaults:{limit:20},setup:function(){this.listenTo(g[this.notificationType],"pollIntervalChange",o).listenTo(f,"conversation:read",l).listenTo(f,"conversation:unread",u)},baseUrl:function(){return g[this.notificationType].get("baseUrl")()},startPolling:function(){var e=this;this._isPolling||!function(){var t=e._breaker=new d(r.call(e)),n=function(){e._isPolling&&(window.clearTimeout(e._pollingId),e.fetch({reset:!0,remove:!0}).done(function(){t.succeeded(),e._pollingId=window.setTimeout(n,t.currentDelay())}).fail(function(e){e.status>=400&&e.status<500?t.disable({autoEnable:!1}):t.failed()}))};e._isPolling=!0,e._breaker.on("enabled",n),n()}()},stopPolling:function(){this._isPolling&&(window.clearTimeout(this._pollingId),this._breaker.dispose(),this._isPolling=!1,this._pollingId=this._breaker=null)},restart:function(){this.stopPolling(),this.startPolling()},parse:function(){return this.next_href=null,h.prototype.parse.apply(this,arguments)},reset:function(e,t){var n,r,o,l;t=t||{},n=h.prototype.reset.call(this,e,t),o=c.pluck(n,"id"),r=c.difference(t.previousModels,this.models),l=c.pluck(r,"id"),i(o),s.call(this,l),a.call(this)},hasAnyUnreadMessages:function(){return this.length>0}},{hashFn:function(){return 1},onCleanup:function(e){e.stopPolling()},neverRelease:!0})},function(e,t,n){"use strict";function i(e){var t=e.state,n=e.origin,i=void 0;t&&this.shouldAddFromActions?this.add({id:n},{at:0}):!t&&(i=this.get(n))&&this.remove(i)}var s=n(76),r=n(151),o=n(68),a=n(142),l=[{emitter:s,event:"follow",getInstance:function(e,t){var n=t.target;return e.options.userId===n},handler:i}];e.exports=a.extend(r.withOptions({events:l}),{model:o,defaults:{limit:7,type:"followers"},shouldAddFromActions:!0,baseUrl:function(){return this.getEndpointUrl("userFollowers",{id:this.options.userId})}})},function(e,t,n){"use strict";function i(e){var t=e.state,n=e.target,i=void 0;t?this.add({id:n},{at:0}):(i=this.get(n))&&this.remove(i)}var s=n(76),r=n(151),o=n(68),a=n(142),l=[{emitter:s,event:"follow",getInstance:function(e,t){var n=t.origin;return e.options.userId===n},handler:i}];e.exports=a.extend(r.withOptions({events:l}),{model:o,defaults:{limit:3,type:"followings"},baseUrl:function(){return this.getEndpointUrl("userFollowings",{id:this.options.userId})}})},function(e,t,n){"use strict";var i=n(221);e.exports=i.extend({defaults:{type:"track_likes"},parse:function(e){var t=i.prototype.parse.call(this,e);return t.filter(function(e){return e.track})},acceptsType:function(e){return"sound"===e}})},function(e,t,n){"use strict";var i=n(74),s=n(99),r=n(440);e.exports=i.extend({model:r,defaults:{type:"web-profiles"},url:function(){return this.getEndpointUrl("userWebProfiles",{urn:s.generate("user",this.options.userId)})},parse:function(e){return e.forEach(function(e){var t=e.url,n=e.network,i=e.title;e.id=t+"_"+n+"_"+i}),e},getProfileByName:function(e){return this.find(function(t){return t.get("network")===e})}},{hashFn:function(e,t){return t.userId}})},,,function(e,t,n){(function(t){"use strict";function i(){a.current.dispose()}function s(e){if(e.key){var t,n,i,s;t=b.exec(e.key),t&&(i=c.getItem(e.key),n=t[0],s=u[n],s&&null===i?s===a.current?s.store.write():(s.dispose(),delete u[n]):!s&&i&&(u[n]=new l(n)))}}function r(){if(h.visible()&&a.size()>1){var e=1679616,t=("0000"+(Math.random()*e).toString(36)).substr(-4);p.broadcast({excludeThis:!0},"instances:ping",t),d.delay(function(){h.visible()&&a.each(function(e,n){if(n!==y){var i=e.get("pong");i!==t&&(e.dispose(),delete u[n])}})},v)}}function o(e){a.current.set("pong",e)}var a,l,u,c,d=n(3),h=n(259),p=n(23),f=n(97),g=n(93),m=3e4,v=1e3,_="inst_",y=_+Date.now(),b=new RegExp(_+"\\d{13}$");g.localStorage?(a=e.exports={initialize:function(){var e,n,a,h,f=this;for(c=window.localStorage,u={},this.current=u[y]=new l(y),u[y].store.write(),["each","some","every","map","filter","find"].forEach(function(e){f[e]=d[e].bind(d,u)}),e=0,n=c.length;n>e;++e)a=c.key(e),a!==this.current.store.keyName&&(h=b.exec(a))&&(u[h[0]]=new l(h[0]));window.setInterval(r,m),p.on("broadcast:instances:ping",o),t(window).on("unload",i),window.addEventListener("storage",s,!1)},size:function(){return Object.keys(u||{}).length}},l=function(e){this.store=new f(e),e===y&&(this.set=this.store.set.bind(this.store))},d.assign(l.prototype,{get:function(e){return this.store.get(e)},dispose:function(){return this.store.dispose()}})):a=e.exports=null}).call(t,n(1))},function(e,t,n){"use strict";function i(){var e=this._callout;e&&(this.stopListening(e),this._callout=null)}var s=n(727),r=n(24);e.exports=new r({_callout:null,applyTo:function(e,t){var n=t.id,r=t.elSelector,o=t.displayCondition,a=void 0===o?function(){return!0}:o;this.after(e,{renderDecorate:function(){if(s.shouldDisplay(n)&&a.call(this)){var e=r?this.$(r):this.$el;e.length&&(this._callout=s.display(n,e),this.listenTo(this._callout,"closed overlay:closed",i))}}})},after:{dispose:function(){this._callout&&(this._callout.disposed||this._callout.close(),i.call(this))}}})},function(e,t,n){(function(t){"use strict";function i(e,n){var i=c.stringify({scheme:window.document.location.protocol.replace(/:/,""),host:r.get("public_api_host").replace(/^https?:\/\/api\./,""),path:[e,n]}),s=c.stringify({host:r.get("api_v2_host"),path:"resolve",query:{permalink_url:i}});return t.getJSON(s)}var s=n(3),r=n(22),o=n(105),a=n(66),l=n(64),u=n(87),c=n(67),d=[{rule:/^(?![_-])/,errorMessage:l.t("A profile URL must not start with an underscore or hyphen")},{rule:/^(?!.*[-_]$)/,errorMessage:l.t("A profile URL must not end with an underscore or hyphen")},{rule:/^(?!.*[\-_]{2,})/,errorMessage:l.t("A profile URL must not have consecutive underscores or hyphens")},{rule:/^[a-z0-9_-]*$/,errorMessage:l.t("Only numbers, letters, underscores and hyphens are permitted")},{rule:/[a-z]/,errorMessage:l.t("A profile URL must contain at least one letter")},{rule:/^.{3,255}$/,errorMessage:l.t("A profile URL must be between 3 and 255 characters")}],h={playlist:[],sound:[{rule:new RegExp("^(?!("+["assets","comments","download","dropbox","favorites","follow","followers","followings","group","likes","manage","music","new","sets","spotlight","stats","stream","track-manager"].join("|")+")$)"),errorMessage:l.t("This profile URL is reserved. Please choose another one.")}]};e.exports=o.extend({type:"sound",initialize:function(){o.prototype.initialize.apply(this,arguments),this.constraints=d.concat(h[this.type])},check:function(e,t){var n=this;if(""===e)return void t(!0);var i=s.find(this.constraints,function(t){return!t.rule.test(e)});i?(this.message=i.errorMessage,t(!1)):this.resolvePermalink(e).done(function(){n.message=l.t("This profile URL is already in use. Please choose another one."),t(!1)}).fail(function(){t(!0)})},resolvePermalink:function(e){var t,n=this.getResource.call(this._form),s=r.get("me").get("permalink");return n&&e===n.get("permalink")?t=a.reject():"sound"===this.type?t=i(s,e):"playlist"===this.type&&(t=u.resolve(s,e)),t}})}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var i=n(3),s=n(22),r=n(67),o=e.exports={parseOtherId:function(e){var t,n=String(s.get("me").id);return"string"==typeof e?(t=e.split(":"),t[0]===n?t[1]:t[0]):void 0},baseUrl:function(){var e=[].slice.call(arguments);return r.stringify({host:s.get("api_v2_host"),path:["users",s.get("me").id,"conversations"].concat(e)})},baseUrlWithId:function(e){var t=i.tail(arguments);return o.baseUrl.apply(null,[o.parseOtherId(e)].concat(t))},post:function(e,n){var i=o.baseUrl(e),s={contents:n};return t.ajax({type:"POST",url:i,dataType:"json",data:s})}}}).call(t,n(1))},function(e,t,n){"use strict";var i=n(66);e.exports={confirm:function(e){var t=window.confirm(e),n=i.defer();return n[t?"resolve":"reject"]()}}},function(e,t,n){"use strict";function i(){return/^en/.test(a.getLocale())}function s(){if(i()){var e=r.get("geoip");return o.codeToCountry(e.get("country_code"))}}var r=n(22),o=n(156),a=n(64);e.exports={getLongBlockMessage:function(){var e=s();return e?"This track is not available in "+e:a.t("This track is not available in your country")},getShortBlockMessage:function(){var e=s();return e?"Not available in "+e:a.t("Not available in your country")}}},function(e,t,n){"use strict";var i=n(3),s="all-rights-reserved",r="no-rights-reserved",o="commons",a="cc-by",l={attribution:"by",nonCommercial:"nc",nonDerivative:"nd",shareAlike:"sa"},u=e.exports={ALL_RIGHTS:s,NO_RIGHTS:r,COMMONS:o,DEFAULT_CC:a,ccFields:l,parse:function(e){var t={license:e===s?s:e===r?r:o};return e?(t.license===o&&i.each(l,function(n,i){t[i]=e.indexOf(n)>-1}),t):t},toURL:function(e){var t,n="string"==typeof e?u.parse(e):e;return n.license===o?(t=u.serializeCCAttributes(n).replace(/^cc-/,""),"http://creativecommons.org/licenses/"+t+"/3.0/"):""},serializeCCAttributes:function(e){var t=Object.keys(l).map(function(t){return e[t]&&l[t]},this).filter(i.identity).join("-");return t?"cc-"+t:a}}},function(e,t,n){"use strict";function i(){r()}function s(e){o(e.sound)}function r(){var e=void 0;e=p&&f.withoutSuffix?p:p?d.t("[[[pageTitle]]] on SoundCloud",{pageTitle:p}):d.t("SoundCloud – Hear the world’s sounds"),v._setTitle(e)}function o(e){function t(){if(!e.isPaused()){var t=e.playlist;t?l(t,e):a(e)}}e&&(e.attrExists(["title","user"])?t():e.fetch().done(t))}function a(e){var t=e.get("title"),n=e.get("user").username,i=m+d.t("[[[soundTitle]]] by [[[artist]]]",{soundTitle:t,artist:n});v._setTitle(i)}function l(e,t){var n=t.get("title"),i=e.get("title"),s=m+d.t("[[[soundTitle]]] in [[[playlistTitle]]]",{soundTitle:n,playlistTitle:i});v._setTitle(s)}var u=n(23),c=n(95),d=n(64),h=n(93),p=void 0,f=void 0,g=!1,m=h.audioTabIndicator?"":"▶ ",v=e.exports={initialize:function(){g||(g=!0,u.on("audio:play",s).on("audio:pause",i))},deinitialize:function(){g&&(g=!1,u.off("audio:play",s).off("audio:pause",i))},set:function(e,t){var n=c.getCurrentSound(),i=!(n&&n.isPlaying());p=e,f=t||{},i&&r()},update:function(){o(c.getCurrentSound())},_setTitle:function(e){window.document.title=e.toString()}}},function(e,t,n){"use strict";var i=n(125);e.exports=i.extend({topHeight:null,includeFooter:".l-fixed-top-one-column",css:n(2361),template:n(2004),getTemplateData:function(){return{topHeight:this.topHeight}}})},function(e,t,n){"use strict";var i=n(24),s=n(228);e.exports=new i({_editState:s.NONE,override:{isEditing:function(){return this._editState===s.EDITING},isSaving:function(){return this._editState===s.SAVING},isCanceling:function(){return this._editState===s.CANCELING},getEditState:function(){return this._editState}},setEditState:function(e,t){var n=this._editState;return n!==e&&(this._editState=e,this.trigger("change:editState",this,e,n,t||{})),this}})},function(e,t,n){(function(t){"use strict";function i(e){this.resetValues(),this.broadcastSuccess(),this.clearSaveHistory(),this.trigger(e)}function s(e){this._failedSaves=l(e),this._completeSaves=this._completeSaves.concat(u(e))}function r(e,t){var n=this;return t.then(function(){return e.call(n).then(n.onSaved.bind(n),n.onSaveFailed.bind(n))})}function o(){return this.validate().then(function(e){return e?void 0:w.defer().reject()})}function a(e){var t=this.getAttributesToBeSaved(),n=e.filter(g.partial(this.soundNeedsSave,g,t),this),i=n.map(g.partial(this.saveSound,g,t),this);return w.mapEither(function(){return g.flatten(arguments,!0)},w.settled(i))}function l(e){return g.reject(e,function(e){return e.isSuccess})}function u(e){return g.filter(e,function(e){return e.isSuccess})}function c(e){var t,n,i=this.getRequiredModelAttributes().map(function(e){return"change:"+e});this._failedSaves=[],this._completeSaves=[],this._sounds=e.map(function(e){return t=new x({id:e}),this.addSubmodel(t),this.listenTo(t,i.join(" "),d),t},this),n=f.call(this),n.length?h.call(this,n):p.call(this)}function d(){this.isDirty()||p.call(this)}function h(e){var t=e.map(function(e){return e.fetch({attrs:this.getRequiredModelAttributes()})},this);return w.settled(t)}function p(){var e=this.getAttributesFromModels();e&&this.set(e)}function f(){return g.compact(this.getSounds().map(function(e){var t=!e.attrExists(this.getRequiredModelAttributes());return t?e:null},this))}var g=n(3),m=n(191),v=n(23),_=n(89),y=n(24),b=n(64),w=n(66),x=n(70),k={"default":"save",save:function(){return r.call(this,this.saveTracks,o.call(this))},retry:function(){return r.call(this,this.retryTracks,o.call(this))},cancel:function(){this.cancel()}},S={save:{label:b.t("Save"),action:"save"},retry:{label:b.t("Retry"),action:"retry"},cancel:{label:b.t("Cancel"),action:"cancel"},close:{label:b.t("Close"),action:"cancel"}};e.exports=new y(m,{requirePrototype:_.prototype,applyTo:function(e){e.constructor.hashFn=function(e,t){return e.resource_id||e.id||t&&(t.resource_id||t.soundIds.join("_"))||null},e.buttons=t.extend(!0,{},S,e.buttons||{}),e.actions=g.defaults(e.actions||{},k)},before:{setup:function(e,t){c.call(this,t.soundIds)}},requires:["getAttributesFromModels","getAttributesToBeSaved"],defaults:{getRequiredModelAttributes:function(){return[]},soundNeedsSave:function(){return!0},broadcastSuccess:function(){this._completeSaves.length>0&&v.trigger("multi-track:saved",{soundSaves:this._completeSaves})},setSoundAttributes:function(e,t){e.set(t)},saveSound:function(e,t){var n=e.createSnapshot(g.keys(t));return this.setSoundAttributes(e,t),e.save().then(function(){return{sound:e,isSuccess:!0}},function(){return n.rollback(),{sound:e,isSuccess:!1}})},getInitialValues:function(){return this.getAttributesFromModels()}},_sounds:null,_failedSaves:null,_completeSaves:null,getSounds:function(){return this._sounds},saveTracks:function(){return a.call(this,this.getSounds())},retryTracks:function(){return a.call(this,g.pluck(this._failedSaves,"sound"))},onSaved:function(e){s.call(this,e),i.call(this,"allSaved")},onSaveFailed:function(e){s.call(this,e),this.trigger("someFailed",{failedSounds:this._failedSaves})},cancel:function(){i.call(this,"canceled")},clearSaveHistory:function(){this._failedSaves=[],this._completeSaves=[]},resetValues:function(){var e=this.getInitialValues();this.set(e),this.markFieldsClean()},reduceSounds:function(e){var t=this.getSounds();return t.length?g.reduce(e,function(e,n,i){var s=n(t[0]),r=g.some(t,function(e){return!g.isEqual(n(e),s)});return e[i]=r?null:s,e},{}):{}}})}).call(t,n(1))},function(e,t,n){"use strict";var i=n(24),s=n(72);e.exports=new i({requirePrototype:s.prototype,hasPermalink:function(e){return e&&this.has("permalink")&&this.get("permalink").toLowerCase()===e.toLowerCase()}})},function(e,t,n){"use strict";var i=n(3),s=n(74),r=n(24),o=n(66),a=n(228);e.exports=new r({_resetOrder:null,_originalOrder:null,requires:["getCurrentOrder","reorder","resetOrder","saveOrder"],around:{saveOrder:function(e,t){var n=o.defer().always(this.setEditState.bind(this,a.NONE));return this.setEditState(a.SAVING),o.all([e(t)]).done(n.resolve).fail(n.reject),this._originalOrder=null,n},resetOrder:function(e,t){var n=o.defer().always(this.setEditState.bind(this,a.NONE));return this.setEditState(a.CANCELING),i.isEqual(this.getOriginalOrder(),this.getCurrentOrder())?n.resolve():(this instanceof s&&(this.next_href=null),o.all([e(t)]).done(n.resolve).fail(n.reject)),n}},saveResetOrder:function(){this._resetOrder=this.getCurrentOrder(),this._originalOrder=this._originalOrder||this._resetOrder},getResetOrder:function(){return this._resetOrder||[]},getOriginalOrder:function(){return this._originalOrder}})},function(e,t,n){"use strict";var i=n(24);e.exports=new i({requires:["trigger"],defaults:{states:null},_states:null,toggleState:function(e,t,n){var i,s,r,o;return e?(this._states||(this._states={}),this.states||(this.states={}),e in this.states?(e in this._states||(this._states[e]=this.getState(e)),r="undefined"!=typeof t?!!t:!this._states[e],n||this._states[e]!==r?(this._states[e]=r,s=this.states[e],i=s.handler?s.handler:s,o=typeof i,"string"===o?this.$el[r?"addClass":"removeClass"](i):"function"===o?i.call(this,r):i&&"function"==typeof i.setup&&i[r?"setup":"teardown"].call(this),this.trigger("state:"+e,r),this):this):this):this},getState:function(e){return this._states&&e in this._states?this._states[e]:this.states&&e in this.states?!!this.states[e].initial:!1}})},,,,,function(e,t,n){"use strict";var i=n(766);e.exports={render:function(e,t,n){var i=e(t||{});n&&(n.innerHTML=i)},subviews:function(e){i.replacePlaceholders(e)}}},,,,function(e,t,n){"use strict";var i=n(171);e.exports=i.extend({baseUrl:function(){return"me/followings/"}})},function(e,t,n){"use strict";var i=n(68),s=n(72);e.exports=s.extend({submodelMap:{promoted_by:i,user:i},urnPrefix:"soundcloud:users",hasDataForView:function(){return!0},getUser:function(){return i.instances.get(this.get("user").id)},parse:function(e){return e.origin&&(e.user=e.origin,delete e.origin),e.user&&(e.id=e.user.id),e},isPromoted:function(){return"promoted"===this.get("source")||"promoted"===this.get("campaign")}})},,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"assets/images/close-modal-dark-6aac3b.svg"},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-fluid-fixed">\n  <div class="sc-border-light-right l-main">\n    <div class="l-tabs">\n\n    </div>\n    <div class="l-content">\n\n    </div>\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},,function(e,t,n){var i=n(1526);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},,,,,,function(e,t,n){var i=n(116);e.exports=function(e,t){return i.render(e,t&&t.hash)}},,function(e,t){var n="https://exit.sc?url=%s";e.exports={oneline:{paragraphs:!1,whitelist:[],externalLinks:!1},"default":{redirectorPattern:n}}},function(e,t,n){"use strict";function i(e,t){var n=r({},D,t),s=n.links,I=n.userLinks,M=n.internalLinks,P=n.externalLinks,L=n.deepLinks,F=n.escapeExpression,N=n.hashtagLinks,O=n.internalLinksBaseUrl,R=n.isOpeningNewWindow,$=n.maxExternalLinksLength,B=n.maxLength,U=n.paragraphs,z=n.redirectorPattern,j=n.splitWordsAtLength,H=n.whitelist,V=F!==!1;if("string"!=typeof e)return"";s?I||M||P||(s=!1):I=M=P=!1;var q=s?c():{},W=q.flatten,G=q.addPlaceholder;return p.lastIndex=m.lastIndex=g.lastIndex=0,e=o(e),s&&(e=e.replace(C,function(e,t,n,i){var s=n||t;return G(s,i!==s?i:null)}).replace(p,function(e,t){return G(t)})),e=e.replace(x,"\n\n").replace(k,"\n").replace(A," "),e=H&&H.length?e.replace(new RegExp("<(?!\\s*\\/?("+H.join("|")+")\\b)[^>]*>","ig"),""):e.replace(S,""),V&&(e=a(e)),s&&(e=e.replace(g,'<a href="mailto:$1">$1</a>'),e=W(e,function(e,t){var s={},o="",u=b.test(e)?e:"http://"+e;if(0===e.indexOf("mailto:"))s.href=e,s.text=e.replace("mailto:","");else if(M&&_.test(e))s.href=e.replace(_,O),s.text=e.replace(b,"");else if(P){var c=y.test(u);s.href=c?u:l(z,u,y),c||(s.title=u,s.rel="nofollow"),s.text=h(e,$,b),s.target="_blank"}else s.href=e;return t&&(V?o=i(t,r({},n,{paragraphs:!1,splitWordsAtLength:0})).trim()+(/[!?:;.]$/.test(t)?" ":": "):s.text=t),o+(s.text?'<a href="'+a(s.href)+'"'+(s.rel?' rel="'+s.rel+'"':"")+(s.target?' target="'+s.target+'"':"")+(s.title?' title="'+a(s.title)+'"':"")+(">"+(V?a(s.text):s.text)+"</a>"):a(s.href))}),I&&(e=e.replace(m,'$1@<a href="'+O+'$2"'+(R?' target="_blank"':"")+">$2</a>")),
N&&(e=e.replace(v,'$1<a href="/tags/$3">$2</a>')),L&&(e=e.replace(f,'<a href="#t=$1">$1</a>'))),B&&(e=u(e,B)),j>0&&(e=d(e,j)),e=U?e.split(w).map(function(e){return"<p>"+e.trim().replace(T,"<br>")+"</p>"}).join(""):e.replace(E," ").replace(A," ")}function s(e,t){var n=t&&t.redirectorPattern;return n?l(n,e,y):e}var r=n(967),o=n(968),a=n(969),l=n(970),u=n(971),c=n(972),d=n(973),h=n(974);e.exports=i;var p=/\b((?:https?:\/\/|www\d{0,3}\.|(?:[a-z0-9\-]+\.)+[a-z]{2,4}\/)[^\s'’"]*[^\s`!()\[\]{};:'".,<>?«»“”‘’])/gi,f=/(\b(?:[0-5]?[0-9])(?::[0-5][0-9]){1,2}\b)/g,g=/([a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,24})/gi,m=/(\s|[^\w]|^)@([\w\-]+)/g,v=/( |^)(#([\w-]+))/gm,_=/^((?:https?:\/\/)?(?:www\.|m\.)?soundcloud\.(?:com|dev))\/?|^\//i,y=/^((?:https?:\/\/)?([a-z0-9-]+\.)*soundcloud\.(?:com|dev))(?:\/|$)/i,b=/^(?:ht|f)tps?:\/\//i,w=/(?:[ \t]*\r?\n[ \t]*){2,}/,x=/<\/p>/g,k=/<br\s*\/?>/g,S=/<\/?[a-z].*?>/gi,T=/\r?\n/g,A=/[ \t]{2,}/g,E=/[\r\n]+/g,C=/<a\s+[^>]*?href=(['"]([^'"\s]+)['"]|[^'"\s]+)[^>]*?>(.+?)<\/a>/gi,D={paragraphs:!0,links:!0,externalLinks:!0,internalLinks:!0,userLinks:!0,deepLinks:!1,whitelist:[],internalLinksBaseUrl:"/",isOpeningNewWindow:!1,maxLength:null,truncateExternalLinks:!0,maxExternalLinksLength:50,hashtagLinks:!0,splitWordsAtLength:null,redirectorPattern:null};i.redirectLink=s,i.withDefaults=function(e){var t=r({},D,e),n=function(e,n){var s=n?r({},t,n):t;return i(e,s)};return n.redirectLink=function(e,n){var i=n?r({},t,n):t;return s(e,i)},n}},function(e,t,n){"use strict";var i=n(744),s=n(409);e.exports=s.extend(i,{notificationType:"activities",parse:function(e){var t=e.collection;return t&&t.forEach(function(e){e.user&&(delete e.user.cpp,delete e.user.default_tracks_feedable),e.resource&&(delete e.resource.cpp,delete e.resource.default_tracks_feedable)}),t}},{hashFn:function(){return 1}})},function(e,t,n){"use strict";function i(){var e=new r({id:this.options.resource_id,resource_type:this.options.resource_type});return e.release(),e.get("secret_token")}var s=n(189),r=n(73),o=n(22),a=n(709),l=n(67);e.exports=a.extend({defaults:{type:null,resource_id:null,resource_type:null},actionName:function(){return"likers"===this.options.type?"like":"repost"},setup:function(){this.options.secret_token=i.call(this),a.prototype.setup.apply(this,arguments)},baseUrl:function(){var e=["sound"===this.options.resource_type?"tracks":"playlists",this.options.resource_id,this.options.type],t="likers"===this.options.type?l.stringify({host:o.get("api_v2_host"),path:e}):s.EDGE+l.stringify({path:e});return t}},{hashFn:function(e,t){return t?t.resource_id+"_"+t.type+"_"+t.resource_type:null}})},function(e,t,n){"use strict";var i=n(3),s=n(101),r=n(373),o=n(67);e.exports=r.extend({baseUrl:function(){return o.stringify({path:["app","v2","tracks",this.options.sound_id,"comments"],query:{filter_replies:1}})},getCommentAtTimestamp:function(e,t){return t=i.isNumber(t)?t:0,this.find(function(n){var i=n.get("timestamp"),r=e-i;return 0===t?i===e:r>=0&&Math.abs(r)<=t&&i!==s.EMPTY_TIMESTAMP})||null},onCommentCreated:function(e){e.get("replyTo")||this.add(e,{at:0})}},{hashFn:function(e,t){return t&&t.sound_id||null}})},function(e,t,n){"use strict";function i(e){var t=e.state,n=e.object;t&&!this.contains(n)&&this.onCommentCreated(n)}var s=n(76),r=n(74),o=n(101),a=n(151),l=n(70),u=[{emitter:s,event:"comment",getInstance:function(e,t){var n=t.target;return e.options.sound_id===n},handler:i}];e.exports=r.extend(a.withOptions({events:u}),{model:o,defaults:{sound_id:null,secret_token:null},soundDuration:null,setup:function(e){var t=e.sound_id,n=new l({id:t});this.options.secret_token=n.get("secret_token"),this.soundDuration=n.duration(),n.release()},baseUrl:function(){return"tracks/"+this.options.sound_id+"/comments"},parse:function(e){var t=this,n=/^http:/;return e.collection.map(function(e){return e.timestamp=t.normalizeTimestamp(e.timestamp),n.test(e.user.avatar_url)&&(e.user.avatar_url=e.user.avatar_url.replace(n,"https:")),e})},normalizeTimestamp:function(e){return(e>this.soundDuration||0>e)&&(e=o.EMPTY_TIMESTAMP),e},onCommentCreated:function(e){this.add(e,{at:0})}},{hashFn:function(e,t){return t&&t.sound_id||null}})},function(e,t,n){"use strict";var i=n(74),s=n(70);e.exports=i.extend({model:s,next_href:!1,lastFetchTime:Date.now()})},,,,,function(e,t,n){"use strict";var i=n(74),s=n(86);e.exports=i.extend({model:s,defaults:{limit:5e3},baseUrl:function(){return this.getEndpointUrl("userGroups",{id:this.options.resource_id})}})},function(e,t,n){"use strict";var i=n(129),s=n(153),r=n(220),o=n(68),a=n(382),l=n(238);e.exports=s.extend(i,{model:l,getSourceInfo:function(){return{type:"user-profile",resourceId:this.options.resource_id||this.options.userId,resourceType:"user"}},setupSources:function(){var e=[new a(null,{userId:this.options.resource_id||this.options.userId})],t=o.instances.get(this.options.userId),n=t&&t.getPerk("spotlight");return(n||void 0===n)&&e.unshift(new r(null,{userId:this.options.resource_id||this.options.userId})),e},audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()}},{hashFn:function(e,t){return t.resource_id||t.userId}})},function(e,t,n){"use strict";var i=n(87),s=n(142);e.exports=s.extend({model:i,defaults:{type:"playlists"},baseUrl:function(){return this.getEndpointUrl("userPlaylists",{id:this.options.userId})}})},function(e,t,n){"use strict";var i=n(25),s=n(142),r=n(745);e.exports=s.extend(r,{defaults:{type:"sounds"},baseUrl:function(){return this.getEndpointUrl("streamUserProfile",{id:this.options.userId})},setup:function(e){s.prototype.setup.call(this,e),this.isMe=i.currentUserId()===e.userId},parse:function(e){var t=e.collection,n=i.currentUserId();return t?(this.isMe||(t=t.filter(function(e){return e.user&&(delete e.user.cpp,delete e.user.default_tracks_feedable),e.track||e.playlist&&e.playlist.track_count||e.playlist&&e.playlist.user_id===n})),t):[]}})},function(e,t,n){"use strict";var i=n(89),s=n(192),r=n(331),o=n(66);e.exports=i.extend(s.withOptions({read:"artwork_url"}),r,{resource_type:"multi-track-artwork",fields:{artwork_url:{defaultValue:""}},setup:function(){var e=this;this.on("imageDataChanged",function(t){t.file&&e.markFieldsDirty("artwork_url")}).on("canceled",this.unsetImageFile.bind(this,{force:!0})).on("allSaved",this.unsetImageFile.bind(this,{force:!0}))},saveSound:function(e){var t=this.getImageFileInfo(),n={sound:e,isSuccess:!1};return t.file?(e.setImageFile(t.file,t.source),e.uploadImage().then(function(){return{sound:e,isSuccess:!0}},function(){return n})):o.reject(n)},getAttributesFromModels:function(){return null},getAttributesToBeSaved:function(){return{}}})},,,,,function(e,t,n){"use strict";var i=n(1057);e.exports=i.extend({check:function(e,t,n){n(!(e[0]&&e[1])||e[0]<e[1])}})},function(e,t,n){"use strict";var i=n(105),s=n(64),r=n(67),o=/^[a-z-]+:\/\//,a=/^https?$/,l=/\.[a-z]{2,32}$/;e.exports=i.extend({message:s.t("This URL is invalid."),strict:!1,check:function(e,t){if(!e)return void t(!0);if(!o.test(e)){if(this.strict)return void t(!1);e="http://"+e}var n=r.parse(e);t(!n.userInfo&&a.test(n.scheme)&&l.test(n.host))}})},function(e,t,n){"use strict";var i,s,r=window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),o=864e5,a=e.exports={get:function(e){return s||(s={},window.document.cookie.split(/\s*;\s*/).forEach(function(e){var t=e.split("=");s[t[0]]=t[1]})),s[e]},set:function(e){var t=e.name,n=e.value,s=e.expirationInDays,a=e.secure;e.domainStrict;window.document.cookie=[t+"="+n,s?"expires="+new Date(Date.now()+s*o).toGMTString():"","path=/",r,a?"secure":""].filter(Boolean).join(";"),i()},unset:function(e){a.set({name:e,value:"",expirationInDays:-1}),i()}};i=function(){s=null}},function(e,t,n){"use strict";function i(e,t){return new s(e,t)}function s(e,t){r.call(this,e,t)}function r(e,t){var n=this;switch(c.allowed()){case!0:this.notification=new d(e,t),["click","close","error","show"].forEach(function(e){n.notification["on"+e]=n.trigger.bind(n,e)});break;case null:c.requestPermission().then(function(){r.call(n,e,t)})}}var o=n(3),a=n(27),l=n(66),u=n(93),c=void 0,d=window.Notification;c=u.Notification?e.exports={allowed:function(){return"granted"===d.permission?!0:"denied"===d.permission?!1:null},requestPermission:function(){return l.defer(function(e,t){d.requestPermission(function(n){"granted"===n?e():t()})})},create:i}:e.exports={allowed:o.constant(!1),requestPermission:o.constant(l.reject()),create:i},o.assign(s.prototype,a.Events,{notification:null,closed:!1,_closeTimeout:null,closeAfter:function(e){var t=this;return this.closed||(this.notification?this._closeTimeout=this._closeTimeout||window.setTimeout(function(){t.close()},e):this.once("show",function(){t.closeAfter(e)})),this},close:function(){return this.notification&&!this.closed&&(this.notification.close(),this.closed=!0),this}})},function(e,t,n){"use strict";var i=n(21);e.exports={getAccessibleMarkup:function(e){return'<span class="sc-visuallyhidden">'+i.Utils.escapeExpression(e.screenreader)+"</span>"+(e.visible?'<span aria-hidden="true">'+i.Utils.escapeExpression(e.visible)+"</span>":"")}}},function(e,t,n){"use strict";function i(e){var t=e===r.get("me").id,n=o.isLoggedIn();return t&&n}function s(e){var t=u.numSessionPlays(),n=1===d.get(g),i=e.userInitiated;!o.isLoggedIn()&&!n&&t>b&&i&&this.showSignupTeaser(e.sound.getUrn())}var r=n(22),o=n(25),a=n(23),l=n(97),u=n(167),c=n(467),d=new l("already-seen"),h="listen-upsell",p="stream-upsell",f="user-upsell",g="signup-teaser-modal",m=36e5,v=24*m,_=7*v,y=4,b=2,w=e.exports={getUpsellableTrackCount:function(){return y},couldHaveUserUpsell:function(e){return i(e)&&!w.alreadySeenUserUpsell()&&!r.get("me").isPremium()},isValidSound:function(e){var t=r.get("me"),n="sound"===e.resource_type;if(n&&!e.hasVisuals()&&!t.isPremium()&&t.get("track_count")>=y&&t.owns(e)){var i=new Date(e.get("created_at")),s=Date.now(),o=new Date(s-m),a=new Date(s-_);return o>=i&&i>=a}return!1},isValidIndex:function(e,t){return e>-1&&t.length>=y},isValidUserSounds:function(e){var t=e.length&&e.first().get("created_at"),n=new Date(t),i=r.get("me");return!i.isPremium()&&e.length>y&&n>=new Date(Date.now()-_)&&n<=new Date(Date.now()-v)},alreadySeenListenUpsell:function(){return 1===d.get(h)},alreadySeenUserUpsell:function(){return 1===d.get(p)?(d.unset(p),this.dismissUserUpsell(),!0):1===d.get(f)},dismissListenUpsell:function(){d.set(h,1)},dismissUserUpsell:function(){d.set(f,1)},startPlayTracking:function(){o.isLoggedIn()||a.on("audio:play",s,this)},stopPlayTracking:function(){a.off("audio:play",s,this)},showSignupTeaser:function(e){var t=r.get("rollouts").get("signup_teaser"),n=new c({version:t,width:625,soundUrn:e});n.open(),d.set(g,1)}}},,function(e,t,n){"use strict";function i(e){return e&&e.replace(/^http:/,"https:")}var s=n(3),r=n(24),o=n(67);e.exports=new r({applyTo:function(e,t){e.getTypes=s.constant(t&&t.types||{})},defaults:{getShareURL:function(e){return this.getShareAttributes(e).permalink_url}},getShareAttributes:function(e){var t=s.clone(this.attributes),n=e&&e.type,r=n&&this.getTypes()[n];return r&&s.each(r,function(e,n){t[n]=e.replace(/\:([a-zA-Z0-9_-]+)/g,function(e,n){return t[n]})}),t.permalink_url=i(t.permalink_url),t.uri=i(t.uri),"private"===t.sharing&&!t.secret_uri&&t.secret_token&&(t.secret_uri=o.modify(t.uri,{query:{secret_token:t.secret_token}})),t}})},,,,,,,,,,,,,function(e,t,n){(function(t){"use strict";function i(e){var t,n,i;return e&&e.collection&&e.collection.length&&(t=e.collection[0],n=t.last_message?t.last_message.conversation_id+"_"+t.last_message.sent_at:t.uuid||t.id,i=c.isNumber(n)?n>(void 0===this.lastRead?-1:this.lastRead):n!==this.lastRead),i}function s(e){var t=f[e];return!!(h.get("notifications")&&t&&t.channel)}function r(e){var t=e?"on":"off";this[t]("change:size",l)}function o(e){var t=e?"on":"off";f[this.get("type")][t]("pollIntervalChange",a,this)}function a(){var e=this._breaker;e&&this.restart()}function l(e,t){t&&e.stopPolling()}function u(){var e=f[this.get("type")];return{backoffRate:1.1,baseDelay:e.get("minPollInterval"),maxDelay:e.get("maxPollInterval")}}var c=n(3),d=n(147),h=n(22),p=n(72),f=n(185),g=n(97),m=n(66),v=n(67),_=new g("notify");e.exports=p.extend({channel:null,_queue:null,_waitingQueue:null,_unseenQueue:null,_breaker:null,lastRead:null,_request:null,defaults:{size:null,type:null},initialize:function(e){this._queue=[],this._waitingQueue=[],this._unseenQueue=[];var t=e.type,n=f[t];this.baseUrl=n.get("baseUrl"),this.channel=n.get("channel"),this.lastRead=_.get(t),c.bindAll(this,"onNotification"),s(t)?h.get("notifications").subscribe(n.channel,this.onNotification):this.startPolling(),o.call(this,!0)},startPolling:function(){var e=this;if(!this._isPolling){var t,n;t=this._breaker=new d(u.call(this)),this._isPolling=!0,n=function(){e._isPolling&&(window.clearTimeout(e._pollingId),e.fetch({force:!0}).done(function(s){i.call(e,s)?(t.succeeded(),e._pollingId=window.setTimeout(n,t.currentDelay())):t.failed()}).fail(function(e){e.status>=400&&e.status<500?t.disable({autoEnable:!1}):t.failed()}))},this._breaker.on("enabled",n),r.call(this,!0),n()}},stopPolling:function(){this._isPolling&&(r.call(this,!1),window.clearTimeout(this._pollingId),this._pollingId=null,this._isPolling=!1,this._breaker.dispose(),this._breaker=null)},restart:function(){this.stopPolling(),this.startPolling()},onNotification:function(e){this._request?this._waitingQueue.push(e):this._queue.push(e),this._unseenQueue.push(e),this.set("size",this._unseenQueue.length)},hasUnfetchedItems:function(){return this._queue.length>0},fetchQueuedItems:function(){var e=this;if(!this._request){if(!this.hasUnfetchedItems())return this.set("size",0),m.resolve();var n,i=this._queue,s=i.length,r=i[0].uuid,o=i[s-1].uuid;n=v.modify(c.result(this,"baseUrl"),{query:{"uuid[to]":r,cursor:o,limit:s,offset:null}}),this._request=m.defer(),t.ajax({url:n,dataType:"json",type:"GET"}).done(function(t){e.onFetchQueuedItemsDone(t),e._request.resolve(),e._request=null}).fail(function(){e.onFetchFail(),e._request.reject(),e._request=null})}return this._request},markAsRead:function(e){var t,n=this.get("type"),i=0;this.lastRead!==e&&(this.lastRead=e,_.set(n,e),t=this._unseenQueue.some(function(t){return++i,t.uuid===e?!0:void 0}),t?this._unseenQueue.splice(0,i):this._unseenQueue.length=0,this.set("size",this._unseenQueue.length)),s(n)||this.startPolling()},fetch:function(e){var t,n=this,s=!(!e||!e.force);return null===this.get("size")||s?(t=v.modify(c.result(this,"baseUrl"),{query:{limit:1,linked_partitioning:1}}),p.prototype.fetch.call(this,c.assign({url:t,dataType:"json",jqAjax:!0},e)).done(function(e){var t=i.call(n,e);n.lastFetchTime=Date.now(),t&&(null===n.get("size")||s)&&(n._queue.push(e.collection[0]),n.set("size",!0))})):m.resolve()},hasDataForView:function(){return null!==this.get("size")},onFetchFail:function(){this._waitingQueue.length&&Array.prototype.push.apply(this._queue,this._waitingQueue.splice(0,this._waitingQueue.length))},onFetchQueuedItemsDone:function(e){this._queue.length=0,this._waitingQueue.length&&(this._queue.push.apply(this._queue,this._waitingQueue),this._waitingQueue.length=0);var t=e.collection;t&&t.length?this.trigger("data",t):this.set("size",0)}},{hashFn:function(e){return e.type},onCleanup:function(e){s(e.get("type"))&&h.get("notifications").unsubscribe(e.channel,e.onNotification),e.stopPolling(),o.call(e,!1)},cleanupInstantly:!0})}).call(t,n(1))},function(e,t,n){"use strict";function i(e){e.length&&(this.add(e,{at:0}),this.trigger("new-data",e))}function s(e,t){this.trigger("change:queue-size",this,t)}var r=n(74),o=n(185),a=n(408);e.exports=r.extend({notificationType:null,queue:null,initialize:function(){var e,t=this.notificationType;r.prototype.initialize.apply(this,arguments),e=o[t],this.baseUrl=e.get("baseUrl"),this.queue=new a({type:t}),this.queue.on("data",i,this).on("change:size",s,this)},fetchNewItems:function(){this.queue.fetchQueuedItems()},markAsRead:function(e){var t=this.at(0);!e&&t&&(e=t.getUuid?t.getUuid():t.get("uuid")),e&&this.queue.markAsRead(e)}},{onCleanup:function(e){e.queue.off("data",i,e).off("change:size",s,e).release()}})},function(e,t,n){"use strict";function i(){o.has("volume")&&(a.set("volume",o.get("volume")),o.dispose())}var s=n(3),r=n(97),o=new r("volume-settings"),a=e.exports=new r("settings");i();var l={volume:1,newTrackNotifications:"always"};s.forEach(l,function(e,t){a.has(t)||a.set(t,e,{dontPersist:!0})}),a.finalize()},function(e,t,n){"use strict";function i(e,t){return!t.neverRelease&&t.cleanup()||e}function s(e){return e?function(t){r(t),e.apply(t,arguments)}:r}function r(e){e.off&&e.off(),e.stopListening&&e.stopListening()}function o(){do;while(f.reduce(i,!1))}var a,l=n(3),u=n(27),c=n(1070),d=l.noop,h=0,p=6e4,f=[];window.setInterval(o,p),e.exports={applyTo:function g(e,t){t=l.assign({neverRelease:!1,cleanupInstantly:!1,hashFn:function(){return null},prepareArgs:function(){return arguments},prepareInstance:function(){return this},getIncrementValue:function(){return 1},onHold:d,onRelease:d,onCleanup:null},t,e),delete t.prototype;var n,i,r,p,m,v=e.extend||u.Model.extend,_=t.neverRelease;return n=new c({autoCleanup:t.cleanupInstantly,onCleanup:s(t.onCleanup),onIncrement:t.onHold,onDecrement:t.onRelease,neverRelease:_}),f.push(n),_?r=p=d:(r=function(e){n.increment(this.resource_id,e)},p=function(e){n.decrement(this.resource_id,e)}),m={hold:r,release:p,_usageCount:function(){return n.countFor(this.resource_id)},constructor:function(){var t=i.prepareArgs.apply(this,arguments),s=i.hashFn.apply(this,t)||"f-"+ ++h,r=i.neverRelease?1:i.getIncrementValue.apply(null,t),o=n.get(s);return o?(this.constructor.neverRelease||o.hold(r),i.prepareInstance.apply(o,t),o):(o=this,n.set(s,o),o.constructor.neverRelease||o.hold(r-1),o.resource_id=s,a(e).apply(o,t),void i.prepareInstance.apply(o,t))}},i=v.call(e,m,t),l.assign(i,{__constructor__:a(e),reset:function(){n.reset()},extend:function(e){var t,n;return e=e||{},l.isArray(e)&&(e=l.assign.apply(null,[{}].concat(e))),t=v.apply(i,arguments),t.extend=v,n=g(t,i),n.__super__&&(n.__super__=n.__super__.constructor.__super__),n},instances:function(){return n.add=function(e){var t=i.hashFn(e.attributes);e.resource_id=t,t&&this.set(t,e)},n}(),getNewInstance:function(){function t(){return a(e).apply(this,s)}var n,s=arguments;return t.prototype=i.prototype,n=new t},removeInstance:function(e){n.decrement(e.resource_id,1/0),o()}})}},a=function(e){return e.__constructor__||e}},function(e,t,n){(function(t){"use strict";var i=n(64);e.exports=function(){return n(46),n(47),t.datepicker.setDefaults(i.getDatePickerLocaleData()),t.extend(t.datepicker,{_updateDatepickerOriginalMethod:t.datepicker._updateDatepicker,_updateDatepicker:function(e){this._updateDatepickerOriginalMethod(e);var n=t.datepicker._get(e,"onAfterRender");n&&n.apply(this,[e])}}),t.datepicker}()}).call(t,n(1))},function(e,t,n){"use strict";var i=n(767),s=n(415),r=e.exports=function(e,t){var n,r=t.resource_type;return"single-audio-upload"===r?n=new s(e,t):"aggregate-audio-upload"===r&&(n=new i(e,t)),n};r.getClass=function(e){var t=e.resource_type;return"single-audio-upload"===t?s:"aggregate-audio-upload"===t?i:void 0}},function(e,t,n){"use strict";function i(e){var t=e.map(function(e){return function(){return e.set("editing",!1),e.saveEdits()}}).reverse();return v.sequential(t)}function s(){this._soundUploads.length||this.cancel()}function r(e){this._soundUploads.invoke("setImageFile",e.file,e.source)}function o(e){e.forEach(function(e){e.set(u.pick(this.attributes,x))},this)}function a(e){e.changedAttributes()&&this._soundUploads.each(function(t){t.set(u.pick(e.changedAttributes(),x))})}function l(){var e=this.getAudible();this._soundUploads.each(function(t){var n,i=t.getAudible();e.addSound(i),n=e.findSoundById(i.id),t.updateSound(n)})}var u=n(3),c=n(76),d=n(323),h=n(74),p=n(89),f=n(178),g=n(109),m=n(87),v=n(66),_=n(333),y=n(198),b=n(751),w=n(752),x=["description","tags","editing","feedable","genre","artwork_url","buyLink","buyTitle","sharing","apiStreamable","embeddableByAll","domainLocking","downloadable","license","creativeCommonsLicense","attribution","nonCommercial","nonDerivative","shareAlike","commentable","publicComments","stats","geoblocking","geoblockings","labelName","releaseDate"],k=h.extend({model:y,url:null,isFullyPopulated:function(){return!0},hasDataForView:function(){return!0}});e.exports=p.extend(b,w,_,{_soundUploads:null,_playlist:null,failedSaving:!1,resource_type:"playlist-upload",constraints:{title:[[g,{message:"Title is required"}],[f,{maxLength:100,message:"Title must not exceed {maxLength} characters"}]],description:[[f,{maxLength:4e3,message:"Playlist description must not exceed {maxLength} characters"}]],permalink:[[d,{type:"playlist",getResource:function(){return this.getAudible()}}]]},actions:{save:function(){var e=this;return this.validate().then(function(e){return e||v.reject()}).then(function(){return e.set("editing",!1),i(e.getSoundUploads())}).then(this.saveEdits.bind(this))}},getAttributesToBeSaved:function(){var e=this._soundUploads.map(function(e){var t=e.getAudible();return{id:t.id}});return{tracks:e}},getAttributesFromModel:function(){return{}},setup:function(){this._soundUploads=new k,this.listenTo(this._soundUploads,"remove",s).listenTo(this,"imageDataChanged",r).listenTo(this,"change",a)},addSoundForms:function(e){this._soundUploads.add(e),o.call(this,e)},validate:function(){var e=v.defer(),t=p.prototype.validate.apply(this,arguments),n=this._soundUploads.map(function(e){return e.validate()});return n.push(t),v.all(n).done(function(){var t=Array.prototype.slice.call(arguments);e.resolve(t.every(u.identity))}),e},onAudibleSaved:function(){this.failedSaving=!1,l.call(this)},onSaveFailed:function(e){this.failedSaving=!0,this.setToFailed("save",e),this.set("editing",!0),this.setActionState("save","enabled")},cancel:function(){var e;for(e=this._soundUploads.length;e--;)this._soundUploads.at(e).cancel();this.destroy(),this._playlist&&c.destroy(this._playlist)},resetOrder:u.noop,saveOrder:u.noop,getCurrentOrder:function(){return u.pluck(this.getSoundUploads(),"resource_id")},reorder:function(e){this._soundUploads.sort({silent:!0,comparator:function(t){return e.indexOf(t.resource_id)}})},getAudible:function(){return this._playlist},createAudible:function(){return this._playlist=new m,this._playlist},unsetAudible:function(){this._playlist=null},getSoundUploadsCollection:function(){return this._soundUploads},getSoundUploads:function(){return this._soundUploads.models}},{onCleanup:function(){this._playlist&&this._playlist.release(),this._soundUploads.release()}})},function(e,t,n){"use strict";function i(e){this.set("transfer",new f({sampleSize:50})),this.get("transfer").setTotal(e.size),this.set("transcoding",new f({sampleSize:10,totalSize:100}))}function s(){this._uploadRequest&&this._uploadRequest.abort(),this._transcodingStatus&&this._transcodingStatus.abort()}function r(e){var t=this.get("transfer");this._s3key=e,this.set("status",m.TRANSCODING),t.add(t.getTotalSize()),d.trigger("upload_funnel:upload_done"),this.get("transcoding").setTotal(0),this._transcodingStatus=new g(e).done(l.bind(this)).fail(u.bind(this)).progress(c.bind(this))}function o(){this.set("status",m.FAILED),d.trigger("upload_funnel:failed:uploading")}function a(e){this.get("transfer").setTotal(e.total).add(e.loaded)}function l(){this.get("transcoding").setTotal(100).add(100),this.set("status",m.COMPLETE),d.trigger("upload_funnel:complete")}function u(){this.get("transcoding").setTotal(100),this.set("status",m.FAILED),d.trigger("upload_funnel:failed:transcoding")}function c(e){this.get("transcoding").setTotal(100).add(e)}var d=n(23),h=n(770),p=n(72),f=n(772),g=n(1118),m=n(232);e.exports=p.extend({resource_type:"single-audio-upload",url:null,_uploadRequest:null,_transcodingStatus:null,_s3key:null,hasDataForView:function(){return!0},setup:function(e){i.call(this,e.file),this.set({status:m.QUEUED,hasBeenSaved:!1})},upload:function(){this.set("status",m.UPLOADING),this._uploadRequest=(new h).upload(this.get("file")).done(r.bind(this)).fail(o.bind(this)).progress(a.bind(this))},remove:function(){s.call(this),this.destroy()},getS3Key:function(){return this._s3key},getFileName:function(){return this.get("file").name}},{hashFn:function(e,t){return t&&t.resource_id||e&&(e.file?null:e.id||e.resource_id)||null}})},,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(72),s=n(70);e.exports=i.extend({resource_type:"chartTrack",submodelMap:{track:s},createSubmodel:function(e,t){this.soundModel=new e(this.get(t)),this.addSubmodel(this.soundModel)}})},function(e,t,n){"use strict";function i(){this._messageSentAt=new Date(this.get("sent_at"))}function s(){var e=this,t=this.getPossibleAudibleLinks();t&&l.getAudibleModels(t).done(function(t){t.forEach(function(e){e&&r.call(this,e.audible,e.link)},e),e.trigger("audibleFinishedResolving")})}function r(e,t){var n=c.parse(e.getShareURL()).path,i={link:null,model:e};-1!==t.indexOf(n)&&(i.link=t,this.addSubmodel(i.model),o.call(this,i))}function o(e){var t=this.get("audibleInformation");t.push(e),this.set("audibleInformation",t),this.trigger("audibleInformationUpdated",{audibleInformation:e,timestamp:this.sentAt()})}var a=n(72),l=n(226),u=n(99),c=n(67),d=193;e.exports=a.extend({resource_type:"conversation_message",_messageSentAt:null,getSenderId:function(){var e=this.get("sender_urn");return e?u.getAsAttributes(e).id:null},setup:function(){this.set("audibleInformation",[]),i.call(this)},sentAt:function(){return this._messageSentAt},fetchAudibles:function(){s.call(this)},getAudible:function(){var e=this.get("audibleInformation");return e&&e[0]&&e[0].model},hasDataForView:function(){return!0},getPossibleAudibleLinks:function(){var e=this.get("content")?this.get("content"):"";return e.match(l.scLinksRegexGlobal)},isFromSoundCloud:function(){return this.getSenderId()===d},isFromMissingUser:function(){var e=this.get("sender");return e&&"missing_user"===e.kind}},{hashFn:function(e){return e.id||[e.conversation_id,e.sent_at].join("_")}})},,function(e,t,n){"use strict";var i=n(72),s=n(70),r=n(87);e.exports=i.extend({resource_type:"like",submodelMap:{track:s,playlist:r},url:null,setup:function(e){},getAudible:function(){var e;return(e=this.get("track"))?s.instances.get(e.id):(e=this.get("playlist"))?r.instances.get(e.id):void 0},isPlaylist:function(){return!this.get("track")},isSound:function(){return!!this.get("track")}},{hashFn:function(e){return e.id||[e.user_id,e.track?"s":"p",(e.track||e.playlist).id].join("_")},getLikeModelData:function(e,t,n){var i={user_id:e,created_at:(new Date).toISOString(),kind:"like"};return"sound"===t?(i.track={id:n},i.playlist=null):(i.playlist={id:n},i.track=null),i}})},function(e,t,n){"use strict";var i=n(72),s=n(70);e.exports=i.extend({resource_type:"onboarding-recommendation",submodelMap:{track:s},createSubmodel:function(e,t){var n,i=this.get(t);i&&(n=new s({id:i.id}),n.set(i),this.addSubmodel(n),this.listenTo(n,"destroy",this.destroy),this.audible=n)},getAudible:function(){return this.audible}})},,function(e,t,n){"use strict";var i=n(189),s=n(171);e.exports=s.extend({baseUrl:function(){return i.EDGE+"me/playlist_likes/"}})},function(e,t,n){"use strict";var i=n(189),s=n(171);e.exports=s.extend({baseUrl:function(){return i.EDGE+"me/playlist_reposts/"}})},function(e,t,n){"use strict";var i=n(189),s=n(171);e.exports=s.extend({baseUrl:function(){return i.EDGE+"me/track_likes/"}})},function(e,t,n){"use strict";var i=n(189),s=n(171);e.exports=s.extend({baseUrl:function(){return i.EDGE+"me/track_reposts/"}})},function(e,t,n){"use strict";function i(e){return e||""}var s=n(3),r=n(22),o=n(72),a=n(67);e.exports=o.extend({resource_type:"stats-totals",baseUrl:function(){var e=this.options;return a.stringify({path:"/"+a.joinPath(s.compact([].concat("users",e.user,e.track&&["tracks",e.track],"stats","totals",e.singleMetric)))},r.get("api_v2_host"))},fetch:function(e){var t=this.options.from,n=this.options.to;return t&&n&&(e=s.assign({data:{from:+t,to:+n}},e)),o.prototype.fetch.call(this,e)},parse:function(e){return e&&e.period||e}},{hashFn:function(e,t){return t=t||{},[t.singleMetric,+t.from,+t.to,t.track].map(i).join("_")}})},,function(e,t,n){"use strict";var i=n(72),s={facebook:"Facebook",twitter:"Twitter",myspace:"MySpace",lastfm:"Last.fm",youtube:"YouTube",beatport:"Beatport",discogs:"Discogs",flickr:"Flickr",hypem:"Hype Machine",ning:"Ning",posterous:"Posterous",purevolume:"PureVolume",residentadvisor:"Resident Advisor",residentadvisorlabel:"Resident Advisor",reverbnation:"ReverbNation",soundcloud:"SoundCloud",songkick:"Songkick",tumblr:"Tumblr",vimeo:"Vimeo",virb:"Virb",wordpress:"Wordpress",ccmixter:"ccMixter",itunes_podcast:"iTunes Podcast",foursquare:"Foursquare",flavors:"flavors.me",thedjlist:"The DJ List",berklee:"Berklee",whatpeopleplay:"Whatpeopleplay",zeroinch:"zero",google_plus:"Google+",bandpage:"BandPage",bandsintown:"Bandsintown",instagram:"Instagram"};e.exports=i.extend({resource_type:"web-profile",getUserId:function(){return this.collection?this.collection.resource_id:this.options.userId},getNetworkName:function(){var e=this.get("network");return this.get("title")?this.get("title"):"personal"===e||"other"===e?this.get("url").replace(/^https?:\/\//,""):s[e]||""},getNetworkClassName:function(){return(this.get("network")||"").replace(/[^a-z]/g,"")}},{hashFn:function(e,t){return e.id}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"assets/images/list-bullet-ab4e6e.png"},,,function(e,t,n){e.exports=n.p+"assets/images/messages/deleted_user_40-8817cd.png"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-banner l-inner-fullwidth">\n\n</div>\n<div class="l-listen-hero">\n\n</div>\n<div class="l-listen-wrapper">\n  <div class="l-about-main">\n    <div class="l-about-rows">\n      <div class="l-about-row">\n        <div class="l-about-top">\n\n        </div>\n      </div>\n      <div class="l-about-row l-listen__mainContent">\n        <div class="l-about-left">\n\n        </div>\n        <div class="l-about-right">\n\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-premium">\n  <div class="l-premium-banner l-inner-fullwidth">\n\n  </div>\n  <div class="l-premium-content">\n\n  </div>\n</div>\n'},useData:!0})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function i(e,t,n){for(var i=-1,s=o(t),r=s.length;++i<r;){var a=s[i],l=e[a],u=n(l,t[a],a,e,t);(u===u?u===l:l!==l)&&(void 0!==l||a in e)||(e[a]=u)}return e}var s=n(2339),r=n(2342),o=n(917),a=r(function(e,t,n){return n?i(e,t,n):s(e,t)});e.exports=a},function(e,t,n){var i=n(1515);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i=n(158),s=n(21);e.exports=function(e){var t=i.usertextOneline(e,{links:!1});return new s.SafeString(i.splitWords(t))}},function(e,t){e.exports={"sc-artwork-placeholder-0":["#846170","#70929c"],"sc-artwork-placeholder-1":["#846170","#e6846e"],"sc-artwork-placeholder-2":["#846170","#8e8485"],"sc-artwork-placeholder-3":["#70929c","#846170"],"sc-artwork-placeholder-4":["#70929c","#e6846e"],"sc-artwork-placeholder-5":["#70929c","#8e8485"],"sc-artwork-placeholder-6":["#e6846e","#846170"],"sc-artwork-placeholder-7":["#e6846e","#70929c"],"sc-artwork-placeholder-8":["#e6846e","#8e8485"],"sc-artwork-placeholder-9":["#8e8485","#846170"],"sc-artwork-placeholder-10":["#8e8485","#70929c"],"sc-artwork-placeholder-11":["#8e8485","#e6846e"]}},function(e,t,n){function i(e){return c||(c={alphanum:"[a-zA-Z0-9_-]+",num:"[0-9]+",user:"[a-zA-Z0-9_-]{1,255}",sound:"[a-zA-Z0-9_-]{1,255}",playlist:"[a-zA-Z0-9_-]{1,255}",id:"[0-9]+",secretToken:"s-[a-zA-Z0-9]{5}",
group:"[a-zA-Z0-9_-]{1,255}",exploreCategory:"[^/]+",tag:".+",conversationId:"[0-9]+:(?:[0-9]+|system)",code:"\\w+",planName:"pro(?:-unlimited)?",metric:"\\w+",date:"[^/]+"},d=new RegExp(":("+Object.keys(c).join("|")+")","g")),d.lastIndex=0,new RegExp("^"+e.replace(d,s)+"(?:\\?([\\s\\S]*))?$")}function s(e,t){return"("+c[t]+")"}function r(e){return e.forEach(function(e){var t=e.redirect;"string"==typeof e.route&&(e.route=i(e.route)),t&&(e.handler=function(){var e="string"==typeof t?t:t.apply(this,arguments);return this.navigate(a(e,this.getQueryString()),{replace:!0,trigger:!0})}),e.requiresLogin&&(e.handler=o(e.handler))}),e}function o(e){return function(){return this.isLoggedIn()?e.apply(this,arguments):this.unauthenticated()}}function a(e,t){return t?e.indexOf("?")>-1?e+"&"+t:e+t:e}function l(e){var t=h.genres.reduce(function(t,n){return t||(n.id===e?n:null)},null);return t?t.id:h.defaultGenre}function u(e){return e?h.kinds.reduce(function(t,n){return t||(n.urlPart===e?n.id:null)},null):h.defaultKind}var c,d,h=n(307);e.exports=r([{name:"404",route:/(.*)/,handler:function(e){var t=e.replace(/[,.)]+$/,"");return e!==t?this.navigate("/"+t,{trigger:!0,replace:!0}):this.apply("error",{type:"404"})}},{name:"listen",route:":user/:sound(?:/:secretToken|/for/:user|/comment-:id)?",handler:function(e,t,n,i,s){return this.apply("listen",{userPermalink:e,soundPermalink:t,secretToken:n,forUser:i,commentId:parseInt(s,10)||void 0})}},{name:"listenNetwork",route:":user/:sound(?:/:secretToken)?/(likes|reposts|sets|groups|recommended)(?:/:id)?",handler:function(e,t,n,i,s){return"recommended"===i&&(i="related"),this.apply("listen-network",{userPermalink:e,soundPermalink:t,secretToken:n,subpage:i,commentId:parseInt(s,10)||void 0})}},{name:"listenComments",route:":user/:sound(?:/:secretToken)?/comments(?:/:id)?",redirect:function(e,t,n,i){return i=i?"comment-"+i:null,"/"+[e,t,n,i].filter(Boolean).join("/")}},{name:"listenDeprecated",route:":user/:sound(?:/:secretToken)?/related",redirect:function(e,t,n){return"/"+[e,t,n,"recommended"].filter(Boolean).join("/")}},{name:"downloadTrack",route:":user/:sound/download(?:/:secretToken)?",code:410,redirect:function(e,t,n){return"/"+[e,t,n].filter(Boolean).join("/")}},{name:"soundEdit",route:":user/:sound/edit",requiresLogin:!0,handler:function(e,t){return this.getCurrentUserPermalink()!==e?this.navigate("/",{replace:!0,trigger:!0}):this.navigate("/"+[e,t].join("/"),{replace:!0,trigger:!0})}},{name:"playlistEdit",route:":user/sets/:playlist/edit",requiresLogin:!0,handler:function(e,t){return this.getCurrentUserPermalink()!==e?this.navigate("/",{replace:!0,trigger:!0}):this.navigate("/"+[e,"sets",t].join("/"),{replace:!0,trigger:!0})}},{name:"playlist",route:":user/sets/:playlist(?:/(?::secretToken|for/:user))?",handler:function(e,t,n,i){return this.apply("listen",{userPermalink:e,playlistPermalink:t,secretToken:n,forUser:i})}},{name:"playlistNetwork",route:":user/sets/:playlist(?:/:secretToken)?/(likes|reposts)",handler:function(e,t,n,i){return this.apply("listen-network",{userPermalink:e,playlistPermalink:t,secretToken:n,subpage:i})}},{name:"user",route:":user(?:/(reposts|sets|tracks))?",handler:function(e,t){return this.apply("user",{userPermalink:e,subpage:t})}},{name:"you",route:"you",requiresLogin:!0,redirect:function(){return"/"+this.getCurrentUserPermalink()}},{name:"userNetwork",route:":user/(likes|followers|following|comments|groups)",handler:function(e,t){return this.apply("user-network",{userPermalink:e,subpage:t})}},{name:"youTracks",route:"you/tracks",requiresLogin:!0,handler:function(){return this.apply("track-manager")}},{name:"youNetwork",route:"you/(collection|likes|sets|following)",requiresLogin:!0,handler:function(e){return this.apply("collection",{subpage:e})}},{name:"youNetworkRedirects",route:"you/(followers|comments|groups|reposts)",requiresLogin:!0,redirect:function(e){return"/"+this.getCurrentUserPermalink()+"/"+e}},{name:"youSubscriptions",route:"you/subscriptions",requiresLogin:!0,handler:function(){return this.apply("subscriptions")}},{name:"userGone",route:":user/(?:dropbox(?:/.*)?|follow)",code:410,redirect:function(e){return"/"+e}},{name:"userDeprecatedFavorites",route:":user/favorites",redirect:function(e){return"/"+e+"/likes"}},{name:"userDeprecated",route:":user/(sounds|spotlight)",redirect:function(e){return"/"+e}},{name:"groupDeprecated",route:"groups/:group/(contributors|dropbox|info)",redirect:function(e){return"/groups/"+e}},{name:"groupNetwork",route:"groups/:group/(members|moderators)",handler:function(e,t){return this.apply("group-network",{groupPermalink:e,subpage:t})}},{name:"group",route:"groups/:group",handler:function(e){return this.apply("group",{groupPermalink:e})}},{name:"groups",route:"groups",code:410,redirect:"/"},{name:"root",route:"",handler:function(){return this.isLoggedIn()?this.navigate("/stream",{replace:!0,trigger:!0}):this.apply("front")}},{name:"charts",route:"charts(?:/(top|new))?",handler:function(e){return this.apply("charts",{chartKind:u(e),genre:l(this.getQueryParams().genre)})}},{name:"explore",route:"explore(?:/?|/:exploreCategory)",handler:function(e){return e?this.navigate("/charts/top?genre="+e,{replace:!0,trigger:!0}):this.navigate("/charts/top",{replace:!0,trigger:!0})}},{name:"recommended",route:"recommended",requiresLogin:!0,handler:function(){return this.getRolloutValue("personal_recommended")?this.apply("personal-recommended"):this.navigate("/",{replace:!0,trigger:!0})}},{name:"exploreDeprecated",route:"tracks(?:/?|/:exploreCategory)",handler:function(e){return e?this.navigate("/charts/top?genre="+e,{replace:!0,trigger:!0}):this.navigate("/charts/top",{replace:!0,trigger:!0})}},{name:"campaignsDeprecated",route:"campaigns/:alphanum",code:410,redirect:"/"},{name:"people",route:"people",code:401,handler:function(){return this.apply("people")}},{name:"peopleDirectory",route:"people/directory(?:/(:alphanum))?",handler:function(e){return this.apply("people-directory",{subpage:e||"A"})}},{name:"popularSearches",route:"popular/searches(?:/(:num))?",handler:function(e){return this.apply("popular-searches",{subpage:Number(e||"1")})}},{name:"peopleDeprecated",route:"people/(?:finder|genre)",redirect:"/people"},{name:"embedPage",route:"pages/embed",handler:function(){return this.apply("widgets")}},{name:"embedPageDeprecated",route:"pages/widgets",redirect:"/pages/embed"},{name:"emailUnsubscribedPage",route:"pages/unsubscribed",code:401,handler:function(){return this.apply("unsubscribed")}},{name:"pages",route:"(terms-of-use(?:-pro)?|community-guidelines|imprint|law-enforcement-guidelines)",handler:function(e){return this.apply("static-page",{pageName:e})}},{name:"pagesPages",route:"pages/(copyright(?:/report)?|contact|competition|dmca_policy|model-withdrawal-form)/?",handler:function(e){return this.apply("static-page",{pageName:"pages/"+e})}},{name:"pagesWithVersions",route:"((?:terms-of-use(?:-pro)?|(:?pages/(?:privacy|cookies)))(?:/[0-9]{2}-[0-9]{4})?)/?",handler:function(e){return this.apply("static-page",{pageName:e})}},{name:"pressPages",route:"(press(?:/:alphanum)*)",handler:function(e){return this.apply("static-page",{pageName:e})}},{name:"pressMaterialDeprecated",route:"press/material",redirect:"/press"},{name:"tags",route:"tags/:tag",handler:function(e){return this.apply("tags",{tag:e})}},{name:"tagsTopLevel",route:"tags",redirect:"/charts"},{name:"search",route:"search(?:/(sounds|sets|people|groups|go))?",handler:function(e){return"go"!==e||this.getRolloutValue("internal_qa")?this.apply("search",{category:"go"===e?"high_tier":e}):this.navigate("/search",{replace:!0,trigger:!0})}},{name:"activity",route:"notifications",requiresLogin:!0,handler:function(){return this.apply("activity")}},{name:"activityDeprecated",route:"stream/activity",redirect:"/notifications"},{name:"stream",route:"stream",requiresLogin:!0,handler:function(){return this.apply("stream")}},{name:"passwordResetSuccess",route:"signin/reset/success",requiresLogin:!0,handler:function(){return this.apply("password-reset-success")}},{name:"logout",route:"logout",code:401,handler:function(){return this.apply("logout")}},{name:"mobile",route:"mobile(?:/(iphone|android))?",handler:function(e){return this.apply("mobile",{platform:e})}},{name:"upload",route:"upload",handler:function(){return this.apply("upload")}},{name:"uploadBeta",route:"upload-beta",handler:function(){return this.apply("upload")}},{name:"uploadDeprecated",route:"next-upload",redirect:"/upload"},{name:"messages",route:"messages(?:/:conversationId)?",requiresLogin:!0,handler:function(e){return this.apply("inbox",{conversationId:e})}},{name:"premium",route:"pro(?:/(gifts))?(?:/buy/:planName)?",handler:function(e,t){return this.apply("premium",{secondary:e,buyPlan:t})}},{name:"redeem",route:"pro/redeem/:code",handler:function(e){return this.apply("premium",{secondary:"redeem",code:e})}},{name:"premiumDeprecated",route:"premium(/.*)?",redirect:function(e){return"/pro"+(e||"")}},{name:"purchased",route:"pro/purchased(?:/(gifts))?/:planName",handler:function(e,t){return this.apply("purchased",{subpage:e,plan:t})}},{name:"consumerPremiumCheckout",route:"go/buy/go",handler:function(e){return this.getRolloutValue("internal_qa")?this.apply("consumer-premium",{buyPlan:"go"}):this.navigate("/",{replace:!0,trigger:!0})}},{name:"consumerPremiumPurchased",route:"go/purchased/go",handler:function(e){return this.getRolloutValue("internal_qa")?this.apply("consumer-premium",{purchased:!0,plan:"go"}):this.navigate("/",{replace:!0,trigger:!0})}},{name:"consumerPremium",route:"go",handler:function(){return this.getRolloutValue("internal_qa")?this.apply("consumer-premium"):this.navigate("/",{replace:!0,trigger:!0})}},{name:"consumerPremiumAlias",route:"soundcloudgo",redirect:"/go"},{name:"settingsUnknown",route:"settings/.*",redirect:"/settings"},{name:"settings",route:"settings(?:/(content|notifications))?",requiresLogin:!0,handler:function(e){return this.getRolloutValue("internal_qa")||"notifications"!==e?this.apply("settings",{subpage:e||""}):this.navigate("/settings",{replace:!0,trigger:!0})}},{name:"settingsDefaultTab",route:"settings/account",requiresLogin:!0,redirect:"/settings"},{name:"settingsExtra",route:"settings/extra",redirect:"/settings/content"},{name:"settingsPlanDeprecated",route:"settings/plan",redirect:"/you/subscriptions"},{name:"stats",route:":user/stats(?:/:metric(?:/:date/:date)?)?(/expanded)?",requiresLogin:!0,handler:function(e,t,n,i,s){return e!==this.getCurrentUserPermalink()?this.navigate("/"+e,{replace:!0,trigger:!0}):this.apply("stats",{metric:t,from:n,to:i,expanded:!!s})}},{name:"track-stats",route:":user/(?!sets/):sound/stats(?:/:metric(?:/:date/:date)?)?(/expanded)?",requiresLogin:!0,handler:function(e,t,n,i,s,r){return e!==this.getCurrentUserPermalink()?this.navigate("/"+e,{replace:!0,trigger:!0}):this.apply("track-stats",{metric:n,from:i,to:s,trackPermalink:t,userPermalink:e,expanded:!!r})}},{name:"youStats",route:"you/stats(?:/:metric(?:/:date/:date)?)?",requiresLogin:!0,redirect:function(e,t,n){return"/"+[this.getCurrentUserPermalink(),"stats",e,t,n].filter(Boolean).join("/")}},{name:"streamDeprecated",route:"dashboard(?:/.*)?",redirect:"/stream"},{name:"onboarding",route:"welcome",requiresLogin:!0,handler:function(){return this.apply("onboarding")}},{name:"contactDeprecated",route:"pages/who-we-are",redirect:"/pages/contact"},{name:"creativeCommons",route:"creativecommons",redirect:"/search/sounds/?filter.license=to_share"},{name:"searchDeprecated",route:"(tracks|people|groups)/search",redirect:function(e){return"tracks"===e&&(e="sounds"),"/search/"+e}},{name:"v1",route:"("+["apps","groups/:group/(edit|tracks|discussion)","groups/new","login","pages/copyright/report/form","settings/(advanced|connections|email|privacy)(?:/(.*))?","share","signup","upload-classic"].join("|")+")(/.*)?",handler:function(){return this.notImplemented()}}])},,,function(e,t,n){function i(e){return e.split("/").map(s).join("/")}function s(e){return encodeURI(e).replace(/#/g,"%23").replace(/\?/g,"%3F")}var r,o=n(3),a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:\/@]*)(?::([^:\/@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,l=["---","scheme","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],u=e.exports={parse:function(e,t){var n,i,s=a.exec(e),r={};for(t||(t=l),n=1;n<l.length;++n)if(i=l[n],-1!==t.indexOf(i)&&(s[n]||"query"===i))switch(i){case"port":r[i]=parseInt(s[n],10);break;case"path":r[i]=s[n].split("/").map(decodeURIComponent).join("/");break;case"query":r[i]=u.parseQueryString(s[n]);break;default:r[i]=s[n]}return r},joinPath:function(e){return e.filter(Boolean).join("/")},parseQueryString:function(e){var t={};return e&&e.replace(/([^?=&]+)(?:=([^&]*))?/g,function(e,n,i){switch(n=decodeURIComponent(n),i=decodeURIComponent((i||"").replace(/\+/g," ")),typeof t[n]){case"object":t[n].push(i);break;case"undefined":t[n]=i;break;default:t[n]=[t[n],i]}}),t},param:function(e,t){t=t||{};var n=[],i=function(e,t){n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)},s=function(e,n){o.isArray(n)?n.forEach(function(n,i){s(e+"["+("object"==typeof n&&t.jquerySerialize?i:"")+"]",n)}):o.isObject(n)?o.each(n,function(t,n){s(e+"["+n+"]",t)}):i(e,n)};return o.each(e,function(e,t){s(t,e)}),n.join("&").replace(/%20/g,"+")},stringify:function(e,t){var n,s,a=[];return t&&(s=u.parse(t),e.query&&s.query&&(o.assign(s.query,e.query),delete e.query),e=o.assign({},s,e)),e.scheme&&a.push(e.scheme+"://"),e.user&&(a.push(e.user),e.password&&a.push(":"+e.password),a.push("@")),e.host&&a.push(e.host),e.port&&a.push(":"+e.port),e.path&&("string"==typeof e.path?a.push(i(e.path)):a.push(i(u.joinPath(e.path)))),n=r(e.query),n&&a.push("?"+n),e.fragment&&a.push("#"+e.fragment),a.join("")},modify:function(e,t){var n=u.parse(e);return o.isFunction(t)?n=t.call(null,n):"object"==typeof t&&(t.query&&(o.assign(n.query,t.query),delete t.query),o.assign(n,t)),u.stringify(n)},normalize:function(e){var t=o.defaults(u.parse(e),{scheme:"http"});return u.stringify(t)}};r=function(e){var t,n,i,s,r,o=[];if(e)for(t in e)if(e.hasOwnProperty(t)&&(s=e[t],null!==s&&s!==r))if("object"==typeof s)for(i=s.length,n=0;i>n;++n)o.push(encodeURIComponent(t)+"="+encodeURIComponent(s[n]).replace(/%2F/g,"/"));else o.push(encodeURIComponent(t)+"="+encodeURIComponent(s).replace(/%2F/g,"/"));return o.join("&")}},function(e,t){e.exports={ERROR:"banana-bus-error",OPEN:"banana-bus-open",DATA:"banana-bus-data",ACTION:"banana-bus-action",DISPOSE:"banana-bus-dispose",PUBLISH:"banana-bus-publish",PUBLISH_EVENT:"banana-bus-publish-event"}},function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:",",decimal:"."},relativeTime:{justNow:"Just now",rightNow:"Right now",future:"in %s",past:"%s",sec:n(["1 second","%d seconds"]),min:n(["1 minute","%d minutes"]),hour:n(["1 hour","%d hours"]),day:n(["1 day","%d days"]),month:n(["1 month","%d months"]),year:n(["1 year","%d years"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortWeekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],minWeekdays:["Su","Mo","Tu","We","Th","Fr","Sa"]},d3:{grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}}},function(e,t){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function i(){return this._hooksPause.every(function(e){return e.call()})}function s(e){var t=e.resource_id||e.id||e.cid;if(!t)throw new Error("Your model should have a unique `id`, `cid` or `resource_id` property");return t}function r(e){$=e,e&&(R.AudioManagerStates=e.States)}function o(){var e=V();return f.call(this,!0).done(function(t){e.resolve(t.url)}).fail(function(){e.reject()}),e.promise()}function a(e){var t,n=this.options;return t={id:this.getId(),src:e.url,duration:Z.result(n.duration),title:this.options.title,mimeType:e.mimeType,forceSingle:n.useSinglePlayer},$.createAudioPlayer(t,{streamUrlProvider:o.bind(this)})}function l(e,t){var n=t?"on":"off";e[n]("state-change",I,this)[n]("position-change",c,this)[n]("metadata",u,this)}function u(){this.trigger(q.METADATA)}function c(){this._prevPosition!==this.currentTime()&&(this.trigger(q.TIME),this._prevPosition=this.currentTime())}function d(){this._initAudioDefer&&(this._initAudioDefer.reject(),this._initAudioDefer=null,this.streamInfo=null)}function h(){d.call(this),this.controller&&(this._storedPosition=this.currentTime(),this.controller.kill(),this.controller=null,this.trigger(q.RESET))}function p(){this._registerPlays=!0,this.pause(),this.trigger(q.FINISH)}function f(e){var t=V(),n=this.streamInfo&&!e;return n?t.resolve(this.streamInfo):g.call(this).done(function(e){var n=Q.choosePreferredStream(e,this.options);n?t.resolve(n):(this.trigger(q.NO_PROTOCOL),B.warn("(%s) Could not match a protocol of given media descriptor to one of the supported protocols (%s), aborting attempt to play.",this.getId(),this.options.protocols),t.reject())}.bind(this)).fail(function(e){B.warn("(%s) Stream request failed with status: %d",this.getId(),e.status),v.call(this,e),_.call(this,e),m.call(this,e),y.call(this,e),t.reject()}.bind(this)),t.promise()}function g(){if(this.options.streamUrls&&!this._usedPrefetchUrls){var e,t=V();return this._usedPrefetchUrls=!0,e=Z.result(this.options.streamUrls),t.resolve(e),t.promise()}return this.ajax({type:"GET",url:Z.result(this.options.streamUrlsEndpoint),dataType:"json",async:this.options.asyncFetch,timeout:this.options.asyncFetch?se:ie})}function m(e){e.status>=400&&e.status<500&&this.trigger(q.REQUEST_FAILURE)}function v(e){var t=e.status>=400&&e.status<500&&-1!==(e.responseText||"").indexOf("geo_blocked");t&&this.trigger(q.GEO_BLOCKED)}function _(e){0===e.status&&this.trigger(q.NO_CONNECTION)}function y(e){e.status>=500&&this.trigger(q.API_FAILURE)}function b(){return this.controller&&this.controller.getCapabilities&&this.controller.getCapabilities()?this.controller.getCapabilities().needsUrlRefresh:!0}function w(e){if(!b.call(this))return!0;var t=this._initAudioDefer&&this._initAudioDefer.state(),n=Q.streamValidForPlayingFrom(this.streamInfo,e);return this.controller&&this.controller.hasStreamUrlProvider&&this.controller.hasStreamUrlProvider()?!0:t&&("pending"===t||"resolved"===t&&n)}function x(e){e&&!this._bufferingTimeout?this._bufferingTimeout=window.setTimeout(function(){this._isBuffering=!0,this.trigger(q.BUFFERRING_START)}.bind(this),re):e||(this._bufferingTimeout&&(window.clearTimeout(this._bufferingTimeout),this._bufferingTimeout=null),this._isBuffering&&(this._isBuffering=!1,this.trigger(q.BUFFERRING_END)))}function k(){this.off(q.TIME,this.seekTimeEventHandler),this.trigger(q.SEEKED),this.seekTimeEventHandler=null}function S(){this._errorRecoveryFlagsResetTimeout=window.setTimeout(function(){this._errorRecoveryTime=null,this._errorRecoveryCounts=0}.bind(this),ue)}function T(){this._errorRecoveryFlagsResetTimeout&&window.clearTimeout(this._errorRecoveryFlagsResetTimeout)}function A(){var e=this.isPlaying(),t=Date.now();return T.call(this),this._errorRecoveryTime&&this._errorRecoveryTime+ae>t&&this._errorRecoveryCounts>le?void this.trigger(q.AUDIO_ERROR,this):(this._errorRecoveryTime=Date.now(),this._errorRecoveryCounts++,h.call(this),void(e&&this.play({seek:this.currentTime(),userInitiated:!1})))}function E(e){this.logAudioError({error_code:e,protocol:this.streamInfo?this.streamInfo.protocol:void 0,player_type:this.controller?this.controller.getType():void 0,host:this.streamInfo?J.getUrlHost(this.streamInfo.url):void 0,url:this.streamInfo?this.streamInfo.url:void 0})}function C(){var e,t=$.Errors;if(!this.controller)return B.error("(%s) Controller is null, aborting error handler.",this.getId(),this),E.call(this,null),void A.call(this);switch(e=this.controller&&this.controller.getErrorID(),B.error("(%s) %s",this.getId(),this.controller.getErrorMessage?this.controller.getErrorMessage():"Controller does not provide getErrorMessage()"),L(e,"MSE","GENERIC","HTML5_AUDIO_DECODE","HTML5_AUDIO_SRC_NOT_SUPPORTED","FLASH_PROXY","FLASH_RTMP_CONNECT_FAILED","FLASH_RTMP_CANNOT_PLAY_STREAM")&&E.call(this,e),e){case t.FLASH_PROXY_CANT_LOAD_FLASH:this.trigger(q.FLASH_NOT_LOADED);break;case t.FLASH_PROXY_FLASH_BLOCKED:this.trigger(q.FLASH_BLOCK);break;case t.FLASH_RTMP_CONNECT_FAILED:Z.without(this.options.protocols,Y.RTMP);case t.FLASH_RTMP_CANNOT_PLAY_STREAM:case t.FLASH_RTMP_CONNECT_CLOSED:case t.HTML5_AUDIO_NETWORK:case t.HTML5_AUDIO_ABORTED:case t.HTML5_AUDIO_DECODE:case t.HTML5_AUDIO_SRC_NOT_SUPPORTED:case t.GENERIC_AUDIO_ENDED_EARLY:case t.MSE_BAD_OBJECT_STATE:case t.MSE_NOT_SUPPORTED:case t.MSE_MP3_NOT_SUPPORTED:case t.MSE_HLS_NOT_VALID_PLAYLIST:case t.MSE_HLS_PLAYLIST_NOT_FOUND:case t.MSE_HLS_SEGMENT_NOT_FOUND:A.call(this);break;case t.GENERIC_AUDIO_OVERRUN:p.call(this);break;default:B.error("(%s) Unhandled audio error code: %s",this.getId(),e,this)}}function D(e,t){switch(this.options.debug&&M.call(this,e,t),e){case q.PAUSE:this._isPlaying=!1,this._isPlayActionQueued=!1;break;case q.PLAY:var n=t;this.toggleMute(te.muted),this.setVolume(te.volume),this._isPlaying=!1,this._isPlayActionQueued=!0,this._userInitiatedPlay=void 0!==n.userInitiated?!!n.userInitiated:!0,F.call(this);break;case q.PLAY_START:this._isPlaying=!0,this._isPlayActionQueued=!1,this._registerPlays&&this.registerPlay();break;case q.BUFFERRING_START:case q.SEEK:this._isPlaying&&(this._isPlaying=!1,this._isPlayActionQueued=!0);break;case q.BUFFERRING_END:case q.SEEKED:this._isPlayActionQueued&&(this._isPlaying=!0,this._isPlayActionQueued=!1);break;case q.NO_CONNECTION:this.pause(),this._hasNoConnection=!0,this._noConnectionSince=Date.now();break;case q.API_FAILURE:this.pause();break;case q.REQUEST_FAILURE:this._isPlaying=!1,this._isPlayActionQueued=!1;break;case q.GEO_BLOCKED:this._isGeoBlocked=!0;break;case q.NO_STREAMS:x.call(this,!1),d.call(this),O.call(this);break;case q.STREAMS:this._isGeoBlocked=!1,this._noConnectionSince=null,this._hasNoConnection=!1;break;case q.ONLINE:N.call(this);break;case q.OFFLINE:}}function I(e){var t=$.States,n=$.Errors;switch(e){case t.IDLE:P.call(this),this.controller&&this.controller.getErrorID()===n.FLASH_PROXY_FLASH_BLOCKED&&this.trigger(q.FLASH_UNBLOCK);break;case t.PAUSED:P.call(this),x.call(this,!1),this.seekTimeEventHandler&&this.isPaused()&&k.call(this),this.isPlaying()&&this.trigger(q.PAUSE,{position:this.currentTime()});break;case t.PLAYING:P.call(this),x.call(this,!1),S.call(this),this.trigger(q.PLAY_RESUME);break;case t.LOADING:case t.SEEKING:P.call(this),x.call(this,!0);break;case t.ENDED:P.call(this),p.call(this);break;case t.ERROR:x.call(this,!1),C.call(this)}this.trigger(q.STATE_CHANGE,e)}function M(e,t){var n=this.options.title;n=n&&n.length?" ["+n.replace(/\s/g,"").substr(0,6)+"]":"",e===q.STATE_CHANGE?B("(%s)%s Event: %s (%s)",this.getId(),n,e,t):e!==q.TIME||this._loggedTime?e!==q.TIME&&B("(%s)%s Event: %s",this.getId(),n,e):B("(%s)%s Event: %s %dms",this.getId(),n,e,this.currentTime()),this._loggedTime=e===q.TIME}function P(){this._initAudioDefer&&this._initAudioDefer.resolve()}function L(e){return void 0===$.Errors[e]?!1:Array.prototype.slice.call(arguments,1).some(function(t){return 0===e.indexOf(t)})}function F(){function e(){var e=window.navigator.onLine;B("Navigator `onLine` status is now: "+e),window.setTimeout(function(){window.navigator.onLine===e&&this.trigger(e?q.ONLINE:q.OFFLINE)}.bind(this),500)}this._onlineEventsRegistered||(this._onlineEventsRegistered=!0,window.addEventListener("online",e.bind(this)),window.addEventListener("offline",e.bind(this)))}function N(){if(this.hasNoConnection()&&this._isPlayRetryQueued){var e=Date.now()-this._noConnectionSince;this._isPlayRetryQueued=!0,e<this.options.retryAfterNoConnectionEventTimeout&&this.play({userInitiated:!1})}}function O(){this.hasNoConnection()&&!this._userInitiatedPlay&&(this._isPlayRetryQueued=!0)}var R,$,B,U=n(1),z=n(6),j=n(8),H=n(9),V=n(2).Deferred,q=n(7),W=n(14),G=n(10),Y=n(15),K=n(16),Q=n(18),J=n(12),Z=n(13),X=n(19),ee={},te={muted:!1,volume:1},ne={soundId:ee,duration:ee,title:null,registerEndpoint:ee,streamUrlsEndpoint:ee,resourceId:!1,debug:!1,asyncFetch:!0,useSinglePlayer:!0,protocols:[Y.HLS,Y.RTMP,Y.HTTP],extensions:[W.MP3],maxBitrate:1/0,mediaSourceEnabled:!1,mseFirefox:!1,mseSafari:!1,eventLogger:null,logErrors:!0,logPerformance:!0,ajax:null,retryAfterNoConnectionEventTimeout:6e4,fadeOutOnPause:!1,fadeOutAlgo:X.VolumeAutomator.Algos.EaseInOut},ie=6e3,se=6e3,re=400,oe=6e4,ae=6e3,le=3,ue=3e4,ce=[];R=e.exports=function(e,t){if(1===arguments.length?t=e:R.setAudioManager(e),!$)throw new Error("SCAudio: AudioManager instance must be set with `SCAudio.setAudioManager()` or passed via the constructor");this.options=Z.extend({},ne,t);var n=Object.keys(this.options).filter(function(e){return this.options[e]===ee},this);if(n.length)throw new Error("SCAudio: pass into constructor the following options: "+n.join(", "));K.prioritizeAndFilter(this.options),this.controller=null,this.streamInfo=null,this._userInitiatedPlay=this._registerPlays=!0,this._registerCounts=this._errorRecoveryCounts=0,this._isPlayActionQueued=this._onlineEventsRegistered=this._usedPrefetchUrls=this._isPlaying=this._isBuffering=this._hasNoConnection=!1,this._initAudioDefer=this._expirationTimeout=this._bufferingTimeout=this._errorRecoveryTime=this._errorRecoveryFlagsResetTimeout=this._storedPosition=this._prevPosition=this._noConnectionSince=null,this.options.debug&&(this._loggedTime=!1),this._modelListeners={},this._hooksPause=[],this.audioPerfMonitor=new j(this,this.logAudioPerformance.bind(this)),this.audioLogger=new z(this),this.volumeAutomator=new X.VolumeAutomator(this),B=B||H({enabled:this.options.debug,buffer:!0,label:"scaudio"})},Z.extend(R.prototype,G,{constructor:R,initAudio:function(){return this._initAudioDefer||(this._initAudioDefer=V(),f.call(this).done(function(e){var t=!0;this.streamInfo&&(t=!1),this.streamInfo=e,t&&this.trigger(q.STREAMS),this.controller=a.call(this,e),l.call(this,this.controller,!0),I.call(this,this.controller.getState())}.bind(this)).fail(function(){this.trigger(q.NO_STREAMS)}.bind(this)),this._initAudioDefer.done(function(){this.trigger(q.CREATED)}.bind(this))),this._initAudioDefer.promise()},registerPlay:function(){var e=this.options.soundId,t=!1;return-1===ce.indexOf(e)&&(ce.push(e),window.setTimeout(function(){var t=ce.indexOf(e);t>-1&&ce.splice(t,1)},oe),this.ajax({type:"POST",url:Z.result(this.options.registerEndpoint),dataType:"json"}),this._registerCounts++,this._registerPlays=!1,this.trigger(q.REGISTERED),t=!0),t},toggle:function(){this[this.isPaused()?"play":"pause"]()},play:function(e){var t;if(e&&null!=e.seek)t=e.seek;else{if(this.isPlaying())return;t=this.currentTime()}e=Z.extend({},e,{position:t}),this.trigger(q.PLAY,e),w.call(this,t)||(h.call(this),this._isPlayActionQueued=!0),this.initAudio().done(function(){this._isPlayActionQueued&&(this._storedPosition=null,this.trigger(q.PLAY_START,e),this.controller&&this.controller.play(t))}.bind(this)),x.call(this,!0)},pause:function(e){this.isPaused()||(e=Z.extend({},e,{position:this.currentTime()}),i.call(this)&&(this.trigger(q.PAUSE,e),this.controller&&this.controller.pause()))},registerHook:function(e,t){switch(e){case"pause":this._hooksPause.push(t);break;default:throw new Error("can`t register hook for "+e)}},getListenTime:function(){return this.audioLogger?this.audioLogger.getListenTime():0},dispose:function(){this.audioLogger=null,this.audioPerfMonitor=null,Z.without(ce,this.options.soundId),window.clearTimeout(this._bufferingTimeout),d.call(this),this.controller&&(this.controller.kill(),this.controller=null),delete this.controller,this.trigger(q.DESTROYED),this.off()},seek:function(e){return this.controller?e>=Z.result(this.options.duration)?void p.call(this):(this.seekTimeEventHandler&&this.off(q.TIME,this.seekTimeEventHandler),this.seekTimeEventHandler=Z.after(2,function(){k.call(this)}.bind(this)),this.on(q.TIME,this.seekTimeEventHandler),this.trigger(q.SEEK,{from:this.currentTime(),to:e}),this.isPlaying()&&!w.call(this,e)?(h.call(this),void this.play({seek:e})):void this.controller.seek(e)):void 0},seekRelative:function(e){this.controller&&this.seek(this.currentTime()+e)},currentTime:function(){return this._storedPosition?this._storedPosition:this.controller?this.controller.getCurrentPosition():0},loadProgress:function(){var e=0;return this.controller&&(e=this.controller.getLoadedPosition()/this.controller.getDuration(),e=e>=.99?1:e),e},buffered:function(){return this.controller&&this.controller.getDuration()||0},isPaused:function(){return!this.isPlaying()},isBuffering:function(){return this._isBuffering},isPlaying:function(){return this._isPlayActionQueued||this._isPlaying},isLoading:function(){return!(!this.controller||this.controller.getState()!==$.States.LOADING)},hasNoConnection:function(){return!!this._hasNoConnection},hasStreamInfo:function(){return!!this.streamInfo},isGeoBlocked:function(){return!!this._isGeoBlocked},toggleMute:function(e){R.toggleMute(e)},isMuted:function(){return R.isMuted()},setVolume:function(e){R.setVolume(e)},getVolume:function(){return R.getVolume()},logAudioPerformance:function(e){this.getEventLogger()&&this.options.logPerformance&&this.getEventLogger().audioPerformance(e)},logAudioError:function(e){this.getEventLogger()&&this.options.logErrors&&this.getEventLogger().audioError(e)},getAudioManagerStates:function(){return $.States},getId:function(){return this.options.resourceId||this.options.soundId},getEventLogger:function(){return this.options.eventLogger},registerModelEventListener:function(e,t){var n=s(e);if(this._modelListeners[n])throw new Error("Data model is already registered (forgot to unregister it or registering twice?)");this._modelListeners[n]=t=t.bind(this,e),this.on("all",t)},unregisterModelEventListener:function(e){var t=s(e);this._modelListeners[t]&&(this.off("all",this._modelListeners[t]),delete this._modelListeners[t])},ajax:function(e){return this.options.ajax?this.options.ajax(e):U(e)},trigger:function(e,t){D.call(this,e,t),G.trigger.call(this,e,t)}}),Z.extend(R,{getSettings:function(){return te},setSettings:function(e){Z.extend(te,e)},setAudioManager:r,setAudioManagerOnce:Z.once(r),toggleMute:function(e){te.muted=void 0===e?!te.muted:!!e,$&&$.setVolume(te.muted?0:1)},isMuted:function(){return te.muted},setVolume:function(e){te.volume=void 0===e?1:e,$&&$.setVolume(te.volume)},getVolume:function(){return te.volume},Extensions:W,Protocols:Y,Events:q,BUFFER_DELAY:re,PLAY_REGISTRATION_TIMEOUT:oe})},function(e,t,n){var i,s=n(2).Deferred;e.exports=i=function(e){var t,n,i,r,o,a,l;e&&(i=e.data||null,n=e.url||"",t=e.type||"GET",r=e.dataType||"text",o=e.async,a=e.timeout,l=e.beforeSend||null);var u,c,d,h=s();return void 0===o&&(o=!0),u=new XMLHttpRequest,u.open(t,n,o),o&&(u.responseType="text"),l&&l(u),u.onreadystatechange=function(){return 4==u.readyState?(clearTimeout(d),0!=u.status&&u.status<400?(c="json"==r?JSON.parse(u.responseText):u.responseText,void h.resolve(c)):void h.reject(u)):void 0},void 0!==a&&(d=setTimeout(function(){4!=u.readyState&&(u.abort(),
h.reject(u))},a)),u.send(i),h.promise()}},function(e,t,n){e.exports=n(3)},function(e,t,n){/*!
		* jquery-deferred
		* Copyright(c) 2011 Hidden <zzdhidden@gmail.com>
		* MIT Licensed
		*/
var i=e.exports=n(4),s=Array.prototype.slice;i.extend({Deferred:function(e){var t=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],n="pending",s={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return i.Deferred(function(n){i.each(t,function(t,s){var o=s[0],a=e[t];r[s[1]](i.isFunction(a)?function(){var e=a.apply(this,arguments);e&&i.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?i.extend(e,s):s}},r={};return s.pipe=s.then,i.each(t,function(e,i){var o=i[2],a=i[3];s[i[1]]=o.add,a&&o.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[i[0]]=o.fire,r[i[0]+"With"]=o.fireWith}),s.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,r,o=0,a=s.call(arguments),l=a.length,u=1!==l||e&&i.isFunction(e.promise)?l:0,c=1===u?e:i.Deferred(),d=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?s.call(arguments):r,i===t?c.notifyWith(n,i):--u||c.resolveWith(n,i)}};if(l>1)for(t=new Array(l),n=new Array(l),r=new Array(l);l>o;o++)a[o]&&i.isFunction(a[o].promise)?a[o].promise().done(d(o,r,a)).fail(c.reject).progress(d(o,n,t)):--u;return u||c.resolveWith(r,a),c.promise()}})},function(e,t,n){function i(e){var t=o[e]={};return s.each(e.split(r),function(e,n){t[n]=!0}),t}var s=e.exports=n(5),r=/\s+/,o={};s.Callbacks=function(e){e="string"==typeof e?o[e]||i(e):s.extend({},e);var t,n,r,a,l,u,c=[],d=!e.once&&[],h=function(i){for(t=e.memory&&i,n=!0,u=a||0,a=0,l=c.length,r=!0;c&&l>u;u++)if(c[u].apply(i[0],i[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,c&&(d?d.length&&h(d.shift()):t?c=[]:p.disable())},p={add:function(){if(c){var n=c.length;!function i(t){s.each(t,function(t,n){var r=s.type(n);"function"===r?e.unique&&p.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),r?l=c.length:t&&(a=n,h(t))}return this},remove:function(){return c&&s.each(arguments,function(e,t){for(var n;(n=s.inArray(t,c,n))>-1;)c.splice(n,1),r&&(l>=n&&l--,u>=n&&u--)}),this},has:function(e){return s.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=d=t=void 0,this},disabled:function(){return!c},lock:function(){return d=void 0,t||p.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||n&&!d||(r?d.push(t):h(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p}},function(e,t){function n(e){return null==e?String(e):c[u.call(e)]||"object"}function i(e){return"function"===l.type(e)}function s(e){return"array"===l.type(e)}function r(e,t,n){var s,r=0,o=e.length,a=void 0===o||i(e);if(n)if(a){for(s in e)if(t.apply(e[s],n)===!1)break}else for(;o>r&&t.apply(e[r++],n)!==!1;);else if(a){for(s in e)if(t.call(e[s],s,e[s])===!1)break}else for(;o>r&&t.call(e[r],r,e[r++])!==!1;);return e}function o(e){return e&&"object"===l.type(e)?!0:!1}function a(){var e,t,n,i,s,r,o=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[1]||{},a=2),"object"==typeof o||l.isFunction(o)||(o={}),u===a&&(o=this,--a);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=o[t],i=e[t],o!==i&&(c&&i&&(l.isPlainObject(i)||(s=l.isArray(i)))?(s?(s=!1,r=n&&l.isArray(n)?n:[]):r=n&&l.isPlainObject(n)?n:{},o[t]=l.extend(c,r,i)):void 0!==i&&(o[t]=i));return o}var l=e.exports={type:n,isArray:s,isFunction:i,isPlainObject:o,each:r,extend:a,noop:function(){}},u=Object.prototype.toString,c={};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach(function(e){c["[object "+e+"]"]=e.toLowerCase()})},function(e,t,n){function i(e){this.listenTime+=e.from-this.currentTime,this.currentTime=e.to}function s(e){this.listenTime+=e.position-this.currentTime,this.currentTime=e.position}function r(e){this.currentTime=e.position}var o,a=n(7);o=e.exports=function(e){this.scAudio=e,this.listenTime=0,this.currentTime=0,this.scAudio.on(a.SEEK,i,this).on(a.PLAY_START,r,this).on(a.PAUSE,s,this)},o.prototype={constructor:o,getListenTime:function(){return this.listenTime+this.scAudio.currentTime()-this.currentTime}}},function(e,t){var n={CREATED:"created",STATE_CHANGE:"state-change",DESTROYED:"destroyed",PLAY:"play",PLAY_START:"play-start",PLAY_RESUME:"play-resume",METADATA:"metadata",PAUSE:"pause",FINISH:"finish",RESET:"reset",SEEK:"seek",SEEKED:"seeked",GEO_BLOCKED:"geo_blocked",BUFFERRING_START:"buffering_start",BUFFERRING_END:"buffering_end",FLASH_NOT_LOADED:"flash_not_loaded",FLASH_BLOCK:"flash_blocked",FLASH_UNBLOCK:"flash_unblocked",AUDIO_ERROR:"audio_error",TIME:"time",NO_STREAMS:"no_streams",STREAMS:"streams",NO_PROTOCOL:"no_protocol",NO_CONNECTION:"no_connection",API_FAILURE:"api_failure",REQUEST_FAILURE:"request_failure",REGISTERED:"registered",ONLINE:"online",OFFLINE:"offline"};e.exports=n},function(e,t,n){function i(){return this.scAudio.controller?this.controller?void v.warn("(%s) Setup was called while it was already initialized (returned with a no-op)",this.scAudio.getId()):(v("(%s) Initialized",this.scAudio.getId()),this.controller=this.scAudio.controller,this.protocol=this.scAudio.streamInfo.protocol,void(this.host=w.getUrlHost(this.scAudio.streamInfo.url))):void v.warn("Can´t initialize when controller is null")}function s(){this.controller&&(v("(%s) Reset",this.scAudio.getId()),this.controller=this.protocol=this.host=null,this.timeToPlayMeasured=!1)}function r(e){var t=this.scAudio.getAudioManagerStates();e===t.LOADING?this.timeToPlayMeasured&&h.call(this):x.isNull(this.bufferingStartTime)||p.call(this)}function o(){this.metadataLoadStartTime=Date.now()}function a(){return x.isNull(this.metadataLoadStartTime)?void v.warn("(%s) onMetadataEnd was called without onMetadataStart being called before.",this.scAudio.getId()):(this.log({type:"metadata",latency:Date.now()-this.metadataLoadStartTime}),void(this.metadataLoadStartTime=null))}function l(){this.playClickTime=Date.now()}function u(){if(!this.timeToPlayMeasured){if(x.isNull(this.playClickTime))return void v.warn("(%s) onPlayResume was called without onPlayStart being called before.",this.scAudio.getId());this.log({type:"play",latency:Date.now()-this.playClickTime}),this.playClickTime=null,this.timeToPlayMeasured=!0}}function c(){this.scAudio.isPaused()||(this.seekStartTime=Date.now())}function d(){if(!this.scAudio.isPaused()){if(x.isNull(this.seekStartTime))return void v.warn("(%s) onSeekEnd was called without onSeekStart being called before.",this.scAudio.getId());this.log({type:"seek",latency:Date.now()-this.seekStartTime}),this.seekStartTime=null}}function h(){this.bufferingStartTime||(this.bufferingStartTime=Date.now())}function p(){return x.isNull(this.bufferingStartTime)?void v.warn("(%s) onBufferingEnd was called without onBufferingStart being called before.",this.scAudio.getId()):(f.call(this),void(this.bufferingStartTime=null))}function f(){x.isNull(this.bufferingStartTime)||(x.isNull(this.bufferingTimeAccumulated)&&(this.bufferingTimeAccumulated=0),this.bufferingTimeAccumulated+=Date.now()-this.bufferingStartTime)}function g(){f.call(this),x.isNull(this.bufferingTimeAccumulated)||(this.log({type:"buffer",latency:this.bufferingTimeAccumulated}),this.bufferingStartTime=this.bufferingTimeAccumulated=null)}var m,v,_=n(9),y=n(7),b=n(10),w=n(12),x=n(13);m=e.exports=function(e,t){this.scAudio=e,this.logFn=t,this.controller=null,this.reset(),v=v||_({enabled:e.options.debug,buffer:!0,label:"audioperf"}),e.on(y.CREATED,i,this).on(y.RESET,s,this).on(y.DESTROYED,s,this).on(y.SEEK,c,this).on(y.SEEKED,d,this).on(y.PLAY,l,this).on(y.PLAY_START,o,this).on(y.PLAY_RESUME,u,this).on(y.PAUSE,g,this).on(y.FINISH,g,this).on(y.STATE_CHANGE,r,this).on(y.METADATA,a,this)},x.extend(m.prototype,b,{constructor:m,log:function(e){return this.controller?(x.extend(e,{protocol:this.protocol,host:this.host,playertype:this.controller.getType()}),v("(%s) %s latency: %d protocol: %s host: %s playertype: %s",this.scAudio.getId(),e.type,e.latency,e.protocol,e.host,e.playertype),void this.logFn(e)):void v.warn("(%s) Monitor log was called while controller is null (returned with a no-op)",this.scAudio.getId())},reset:function(){this.bufferingStartTime=this.bufferingTimeAccumulated=this.playClickTime=this.seekStartTime=this.metadataLoadStartTime=null,this.timeToPlayMeasured=!1}})},function(e,t){"use strict";function n(){function e(e,n){if(p){for(var i=arguments.length,s=Array(i>2?i-2:0),r=2;i>r;r++)s[r-2]=arguments[r];"string"==typeof n?n=" "+n:(s.unshift(n),n="");var o=[t()+" | "+A+(k?"%c":"")+n].concat(E,s);m?T.push({level:e,logArgs:o})>x&&T.shift():h[e].apply(h,o)}}function t(){var e=new Date,t=null===S?0:e-S,n=k?"%c":"";return S=+e,n+i(e)+(n+" ("+n)+s("+"+t+"ms"," ",8)+(n+")")}function n(e){return e.enable=function(){p=!0},e.disable=function(){p=!1},e.bufferOn=function(){m=!0},e.bufferOff=function(){m=!1,T.length=0},e.flush=u()?function(){T.forEach(function(e){var t=e.level,n=e.logArgs;h[t].apply(h,n)}),T.length=0}:function(){},e}var r=c.apply(void 0,arguments),o=r.enabled,p=void 0===o?!0:o,g=r.buffer,m=void 0===g?!1:g,v=r.label,_=void 0===v?"":v,y=r.plainOutput,b=void 0===y?!1:y,w=r.bufferSize,x=void 0===w?1e3:w;if(!u())return n(d.reduce(function(e,t){return e[t]=e},function(){}));h.CL||(h.CL={_cssCounter:0});var k=!b&&l(),S=null,T=[],A=a(_,k),E=k?["color: green","color: grey","color: blue","color: grey",f(_),""]:[],C=h.CL[_]=n(d.reduce(function(t,n){return t[n]=e.bind(null,n),t},e.bind(null,"log")));return C}function i(e){return r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+"."+s(e.getMilliseconds(),"0",3)}function s(e,t,n){return o(t,n-(""+e).length)+e}function r(e){return s(e,"0",2)}function o(e,t){return t>0?new Array(t+1).join(e):""}function a(e,t){return(t?"%c":"")+(e?e:"")}function l(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent;return/chrome|firefox|opr/i.test(e)&&!/msie|edge/i.test(e)}function u(){return h&&d.every(function(e){return"function"==typeof h[e]})}function c(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return"object"==typeof e&&e||{enabled:e,label:t}}e.exports=n;var d=["log","info","warn","error"],h="undefined"!=typeof console?console:null,p=["color:#fff","border-radius:3px","padding:2px 4px","font-family:sans-serif","text-transform:uppercase","font-size:9px"].join(";")+";",f=function(){var e=["#51613C","#447848","#486E5F","#787444","#6E664E"];return function(t){return t?"background:"+e[h.CL._cssCounter++%e.length]+";"+p:""}}()},function(e,t,n){e.exports=n(11)},function(e,t,n){!function(){function n(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++a+"";return e?e+t:t},has:function(e,t){return r.call(e,t)},each:function(e,t,n){if(null!=e)if(s&&e.forEach===s)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,r=e.length;r>i;i++)t.call(n,e[i],i,e);else for(var o in e)this.has(e,o)&&t.call(n,e[o],o,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}var i,s=Array.prototype.forEach,r=Object.prototype.hasOwnProperty,o=Array.prototype.slice,a=0,l=n();i={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var i=this,s=l.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,n)},off:function(e,t,n){var i,s,r,o,a,u,d,h;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(o=e?[e]:l.keys(this._events),a=0,u=o.length;u>a;a++)if(e=o[a],r=this._events[e]){if(this._events[e]=i=[],t||n)for(d=0,h=r.length;h>d;d++)s=r[d],(t&&t!==s.callback&&t!==s.callback._callback||n&&n!==s.context)&&i.push(s);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&d(n,t),i&&d(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var s=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var r in i)i[r].off(t,n,this),s&&delete this._listeners[r];return this}};var u=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var s in n)e[t].apply(e,[s,n[s]].concat(i));return!1}if(u.test(n)){for(var r=n.split(u),o=0,a=r.length;a>o;o++)e[t].apply(e,[r[o]].concat(i));return!1}return!0},d=function(e,t){var n,i=-1,s=e.length,r=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++i<s;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r,o);return;case 3:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r,o,a);return;default:for(;++i<s;)(n=e[i]).callback.apply(n.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};l.each(h,function(e,t){i[t]=function(t,n,i){var s=this._listeners||(this._listeners={}),r=t._listenerId||(t._listenerId=l.uniqueId("l"));return s[r]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),i.bind=i.on,i.unbind=i.off,i.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return l.each(t,function(t){e[t]=this[t]},this),e},"undefined"!=typeof e&&e.exports&&(t=e.exports=i),t.BackboneEvents=i}(this)},function(e,t){var n={getUrlParams:function(e){var t={},n=e.indexOf("?");return n>-1&&e.substr(n+1).split("&").forEach(function(e){var n=e.split("=");t[n[0]]=n[1]}),t},getUrlHost:function(e){var t,n=e.split("//");return t=n[0]===e?n[0].split("/")[0]:n[1]?n[1].split("/")[0]:""}};e.exports=n},function(e,t){var n={extend:function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e},each:function(e,t,n){Object.keys(e).forEach(function(i){t.call(n||null,e[i],i)})},without:function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},result:function(e){var t=e;return n.isFunction(t)&&(t=e()),t},isFunction:function(e){return"function"==typeof e},after:function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},isNull:function(e){return null===e},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,void(t=e.apply(this,arguments)))}}};e.exports=n},function(e,t){var n={AAC:"aac",MP3:"mp3",OGG:"ogg",OPUS:"opus",WAV:"wav"};e.exports=n},function(e,t){var n={HTTP:"http",RTMP:"rtmp",HLS:"hls"};e.exports=n},function(e,t,n){function i(e){return u.supportsMediaSourceExtensions()&&e.mediaSourceEnabled&&(u.isChrome()&&u.getChromeVersion()>=35||u.isFirefox()&&e.mseFirefox||u.isSafari()&&e.mseSafari)}function s(e){return function(t){var n=!1;switch(t){case l.RTMP:n=u.supportsFlash();break;case l.HTTP:n=u.supportsHTML5Audio()||u.supportsFlash();break;case l.HLS:n=i(e)}return n}}function r(e){return u.isSafari()||u.isFirefox()?[l.HLS,l.HTTP,l.RTMP]:e}function o(e){e.protocols=r(e.protocols).filter(s(e))}var a,l=n(15),u=n(17);a={prioritizeAndFilter:o},e.exports=a},function(e,t){function n(e){return e.test(window.navigator.userAgent.toLowerCase())}function i(e,t){try{return window.navigator.userAgent.toLowerCase().match(e)[t]}catch(n){return null}}function s(){try{return parseInt(i(/chrom(e|ium)\/([0-9]+)\./,2),10)}catch(e){return NaN}}function r(){return!d()&&!u()&&n(/safari/)}function o(){return r()&&n(/version\/7\.1/)}function a(){return r()&&n(/version\/8/)&&!n(/version\/80/)}function l(){return r()&&n(/version\/9\./)}function u(){return!d()&&n(/chrom(e|ium)/)}function c(){return n(/firefox/)}function d(){return n(/edge/)}function h(){return d()&&n(/windows\snt/)}function p(){return d()&&n(/windows\sphone/)}function f(){return!!window.MediaSource&&(window.MediaSource.isTypeSupported("audio/mpeg")||window.MediaSource.isTypeSupported("audio/mp4"))}function g(){try{return window.hasOwnProperty("Audio")&&!!(new window.Audio).canPlayType("audio/mpeg")}catch(e){return!1}}function m(){try{var e=r()&&n(/version\/5\.0/),t=window.hasOwnProperty("Audio")&&(!!(new window.Audio).canPlayType('audio/x-mpegURL; codecs="mp3"')||!!(new window.Audio).canPlayType('vnd.apple.mpegURL; codecs="mp3"'));return!e&&t}catch(i){return!1}}function v(){return y(_())>=w}function _(){var e,t,n,i;if("undefined"!=typeof window.ActiveXObject)try{i=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),i&&(e=i.GetVariable("$version"))}catch(s){e=null}else window.navigator&&window.navigator.plugins&&window.navigator.plugins.length>0&&(n="application/x-shockwave-flash",t=window.navigator.mimeTypes,t&&t[n]&&t[n].enabledPlugin&&t[n].enabledPlugin.description&&(e=t[n].enabledPlugin.description));return e}function y(e){if(!e)return 0;var t=e.match(/\d\S+/)[0].replace(/,/g,".").split(".");return parseFloat([t[0],t[1]].join("."))||0}var b,w=9;b={flashPlugin:_,isSafari:r,isSafari71:o,isSafari8:a,isSafari9:l,isChrome:u,getChromeVersion:s,isFirefox:c,isEdge:d,isEdgeDesktop:h,isEdgeMobile:p,supportsNativeHLSAudio:m,supportsHTML5Audio:g,supportsFlash:v,supportsMediaSourceExtensions:f},e.exports=b},function(e,t,n){function i(e){var t=h.getUrlHost(e);return f.every(function(e){return 0!==t.indexOf(e)})}function s(e,t){return!(e===c.HLS&&!i(t))}function r(e,t){if(!e)return!1;var n=e.issuedAt+o(e.protocol,e.duration);return a(e.protocol)?Date.now()+e.duration-(t||0)<n:Date.now()<n}function o(e,t){var n=a(e);return g+(n?d.result(t):0)}function a(e){return e===c.HTTP||e===c.HLS}function l(e,t){function n(e){return-1*e}function i(e,t){return Math.abs(t-v)-Math.abs(e-v)}var r,o,a,l,u,c,h,p,f,g,m={},v=t.maxBitrate,_=t.protocols,y=t.extensions;for(d.each(e,function(e,t){var n=t.split("_"),i=n[0],s=n[1],r=n[2];m[i]=m[i]||{},m[i][s]=m[i][s]||{},m[i][s][r]=e}),u=0,c=_.length;c>u;++u)for(l=_[u],p=0,f=y.length;f>p;++p)if(h=y[p],m[l]&&m[l][h]){if(r=Object.keys(m[l][h]).map(Number).sort(n),o=v===1/0,a=v===-(1/0),v=o||a?r[o?"pop":"shift"]():r.sort(i).pop(),g=m[l][h][v],!s(l,g))continue;return{url:g,bitrate:v,protocol:l,extension:h,issuedAt:Date.now(),duration:d.result(t.duration)}}return null}var u,c=n(15),d=n(13),h=n(12),p=.9,f=[],g=Math.floor(12e4*p);u={choosePreferredStream:l,streamValidForPlayingFrom:r},e.exports=u},function(e,t,n){var i,s,r=n(7),o=n(13),a={Linear:0,EaseOut:1,EaseInOut:2},l=600,u=25;e.exports=i={},i.VolumeAutomator=s=function(e){this.scAudio=e,this.fadeOutAlgo=this.scAudio.options.fadeOutAlgo,this.fadeOutTimer=null,this.initialVolume=void 0,this.scAudio.options.fadeOutOnPause&&s.isSupported()&&(this.scAudio.on(r.PLAY,this.onPlay,this),this.scAudio.registerHook("pause",this.hookPause.bind(this)))},i.VolumeAutomator.isSupported=function(){var e=new window.Audio,t=e.volume,n=0===t?1:t/2;return e.volume=n,e.volume===n},i.VolumeAutomator.Algos=a,o.extend(s.prototype,{fadeOutAndPause:function(){var e=Date.now(),t=function(){var n,i=(Date.now()-e)/l,s=this.initialVolume;if(i>=1)this.scAudio.controller&&this.scAudio.controller.pause(),this.cancelFadeout();else{switch(this.fadeOutAlgo){case a.Linear:n=s*(1-i);break;case a.EaseOut:n=s*(1/(10*(i+.1))-.05);break;case a.EaseInOut:default:n=s*(Math.cos(i*Math.PI)/2+.5)}this.scAudio.setVolume(n),window.clearTimeout(this.fadeOutTimer),this.fadeOutTimer=window.setTimeout(t,u)}}.bind(this);this.initialVolume=this.scAudio.getVolume(),t()},cancelFadeout:function(){this.fadeOutTimer&&(window.clearTimeout(this.fadeOutTimer),this.fadeOutTimer=null,this.scAudio.setVolume(this.initialVolume),this.initialVolume=void 0)},hookPause:function(e){return this.fadeOutAndPause(),!1},onPlay:function(){this.cancelFadeout()}})}])},function(e,t){"use strict";function n(e,t,i,o){var a=e.firstChild,l=void 0;if(a)do a.nodeType===s?t(a):a.nodeType===r&&n(a,t,i,o),l=a;while((a=a.nextSibling)&&(!i||i(l)));o&&a&&o(a)}var i=Node,s=i.TEXT_NODE,r=i.ELEMENT_NODE;e.exports=n},function(e,t,n){"use strict";function i(e){return 0===(e||"").trim().length}function s(e){return[new p(null,{query:e,kind:"all"}),{maxModels:3}]}function r(e,t){if(i(t))return o(t);switch(e){case"queries_first_popular":case"queries_first":return a(t);case"queries_last_popular":case"queries_last":return l(t);default:return u(t)}}function o(e){var t=new d(null,{queriesLimit:5,resultsLimit:0,query:e});return{remoteSource:t,sources:[t]}}function a(e){var t=new d(null,{queriesLimit:3,resultsLimit:5,variant:"queries_first",query:e});return{remoteSource:t,sources:[t,s(e)]}}function l(e){var t=new d(null,{queriesLimit:3,resultsLimit:4,variant:"queries_last",query:e});return{remoteSource:t,sources:[s(e),t]}}function u(e){var t=new d(null,{queriesLimit:0,resultsLimit:10,query:e});return{remoteSource:t,sources:[s(e),t]}}var c=n(153),d=n(988),h=n(200),p=n(255);e.exports=c.extend({model:h,defaults:{query:null,variant:null},setupSources:function(){var e=this.options,t=e.query,n=e.variant,i=r(n,t),s=i.remoteSource,o=i.sources;return this.remoteCollection=s,o},getQueryUrn:function(){return this.remoteCollection.queryUrn}})},,function(e,t,n){"use strict";var i=n(3),s=n(129),r=n(179),o=n(428),a=n(74);e.exports=a.extend(s,{model:o,defaults:{genre:null,chartKind:null},baseUrl:function(){var e=this.options,t=e.chartKind,n=e.genre;return this.getEndpointUrl("charts",{},{kind:t,genre:r.genreUrn(n)})},setup:function(){this.queryUrn=null,this.lastUpdated=null},parse:function(e){var t=e.query_urn,n=e.collection,i=e.last_updated,s=e.kind;return this.queryUrn=t,this.lastUpdated=i,n.map(function(e,t){var n=e.track,i=e.score;return"top"===s?{weekPlays:i,track:n}:"trending"===s?{track:n}:void 0})},getSourceInfo:function(){var e=this.queryUrn,t=this.options,n=t.genre,i=t.chartKind;return{type:"charts",genre:n,chartKind:i,queryUrn:e}},audibleAt:function(e){return i.isNumber(e)?this.at(e).soundModel:null}},{hashFn:function(e,t){return t.chartKind+"_"+t.genre}})},function(e,t,n){"use strict";function i(e){var t=e.audibleInformation.model;t&&this.attachments.add({urn:t.getUrn(),timestamp:e.timestamp})}function s(e){var t=this;e.some(function(e){return e===t.options.resource_id?(t.fetchUnread(),!0):void 0})}var r=n(978),o=n(324),a=n(23),l=n(74),u=n(429);e.exports=l.extend({model:u,attachments:null,setup:function(e){var t=e.resource_id;this.attachments=new r(null,{conversationId:t}),this.listenTo(this,"audibleInformationUpdated",i).listenTo(a,"new-unread-messages",s)},baseUrl:function(){return o.baseUrlWithId(this.resource_id,"messages")},comparator:function(e,t){return t.sentAt()-e.sentAt()},fetchUnread:function(){this.fetch({add:!0,remove:!1,url:this.baseUrl()+"?limit=10&linked_partitioning=1"})},getAttachments:function(){return this.attachments}},{onCleanup:function(e){e.attachments.release()}})},,function(e,t,n){"use strict";var i=n(709),s=n(67),r="join";e.exports=i.extend({defaults:{resource_id:null,resource_type:"group"},actionName:r,baseUrl:function(){return s.stringify({path:["groups",this.options.resource_id,"members"]})}},{hashFn:function(e,t){return t?t.resource_id+"_"+r+"_"+t.resource_type:null}})},,function(e,t,n){"use strict";var i=n(3),s=n(76),r=n(74),o=n(68);e.exports=r.extend({actionName:null,defaults:{resource_id:null,resource_type:null},model:o,setup:function(e){var t=e.resource_type,n=e.resource_id,r=i.result(this,"actionName"),o=t,a=r+":target:"+o+":"+n;this.listenTo(s,a,this.onAction)},onAction:function(e){if(e.state)this.add({id:e.origin},{at:0});else{var t=this.get(e.origin);t&&this.remove(t)}}})},,function(e,t,n){"use strict";var i=n(3),s=n(129),r=n(74),o=n(22),a=n(432),l=n(95),u=n(99),c=n(67);e.exports=r.extend(s,{model:a,defaults:{resource_ids:[],tags:null},setup:function(e){var t=(e.tags,e.resource_ids);this.options.resource_ids=t.slice(0,10)},parse:function(e){return e},getSourceInfo:function(){var e=this.at(l.sourceCursor),t=e.get("bucket");return{type:"onboarding:"+t}},baseUrl:function(){var e,t=this.options,n=t.tags,s=t.resource_ids;return s.length?e={track_urns:i.map(s,u.generate.bind(null,"sound")).join(",")}:n&&(e={tags:[].concat(n).join(",")}),c.stringify({path:"/onboarding/tracks/recommendations",query:e},o.get("api_v2_host"))},audibleAt:function(e){return this.at(e).getAudible()}},{hashFn:function(e,t){return t.resource_ids.join("")}})},,function(e,t,n){(function(t){"use strict";var i=n(3),s=n(74),r=n(22),o=n(25),a=n(66),l=n(1140),u=n(93),c=n(67),d=n(99),h=200,p=1e3,f=5e3;e.exports=s.extend({model:l,_isLooping:!1,_loopInterval:null,_approvalDeferred:null,_isPending:!1,setup:function(){var e=this;this.listenTo(this,"change:entry_time",i.debounce(function(){e.sort({silent:!0})},h)).listenTo(this,"submission:success",function(){e._isPending=!0,e.trigger("change:approval")})},fetch:function(e){return e.timeout=f,s.prototype.fetch.call(this,e)},baseUrl:function(){return c.stringify({path:"/visuals",query:{urn:"soundcloud:sounds:"+this.resource_id}},r.get("visualsHost"))},isLooping:function(){return this._isLooping},getLoopInterval:function(){return this._loopInterval},parse:function(e){var t=e&&e.visuals;return t?(t=i.map(t,function(e){return e.id=d.getAsAttributes(e.urn).id,e.filename=e.visual_url.split("/").pop(),e}),e.is_looping&&e.loop_interval&&(this._isLooping=!0,this._loopInterval=Math.max(p,e.loop_interval)),t):this.toJSON()},isApproved:function(){return!(!this.length||!this.at(0).get("urn"))},isPending:function(){return this._isPending},submitForApproval:function(e){if(!u.formData)return void this.trigger("submission:error");var n=new window.FormData,s={visuals:[],user_urn:r.get("me").getUrn(),urn:e};return this.forEach(function(e,t){var r;e&&e.has("file")&&(r=e.toJSON(),i.omit(r,"visual_url","urn","_resource_id","_resource_type"),r.entry_time=Math.floor(r.entry_time),s.visuals.push(r),n.append("visuals[upload-"+t+"]",e.get("file"),e.get("filename")))}),n.append("visuals_data",JSON.stringify(s)),t.ajax({url:r.get("visualsQueueHost"),type:"POST",data:n,processData:!1,contentType:!1,dataType:"json",beforeSend:function(e){e.setRequestHeader("Authorization","OAuth "+o.getAuthToken())}}).done(this.trigger.bind(this,"submission:success")).fail(this.trigger.bind(this,"submission:error"))},fetchApprovalStatus:function(){var e=this,n="soundcloud:sounds:"+this.options.resource_id,i=r.get("me").getUrn(),s=this._approvalDeferred,l=function(t){t&&t.urn&&(e._isPending=!0),s.resolve()};return s&&"rejected"!==s.state()?s:(s=this._approvalDeferred=a.defer(),t.ajax(r.get("visualsQueueHost")+"/"+n,{data:{user_urn:i},beforeSend:function(e){e.setRequestHeader("Authorization","OAuth "+o.getAuthToken())}}).done(l).fail(s.reject),s)},comparator:function(e){return e.get("entry_time")}})}).call(t,n(1))},function(e,t,n){"use strict";var i=n(74),s=n(343),r=n(153),o=n(715),a=n(66),l=n(1089),u=n(344),c=(e.exports=r.extend({model:u,setupSources:function(){var e=this.options,t=e.category,n=[new o(null,e)];return t&&"who_to_follow"!==t||n.unshift(new c(null,e)),n}}),i.extend(l,{model:u,adZone:"suggestedUsers",_deferred:null,meIds:null,setup:function(){this.meIds=new s},fetch:function(e){var t=this;if(this._deferred)return this._deferred;var n=this._deferred=a.defer();return this.meIds.fetch().done(function(){i.prototype.fetch.call(t,e).done(n.resolve).fail(n.reject)}).fail(n.reject),n.always(function(){t._deferred=null}),n},parse:function(e){var t=this.meIds;return e.filter(function(e){return!t.get(e.origin.id)})}},{onCleanup:function(e){e.meIds.release(),e.meIds=null},hashFn:function(e,t){return t&&t.category||1}}))},function(e,t,n){"use strict";function i(e){return"News"===e?"News & Politics":e}var s=n(3),r=n(343),o=n(97),a=n(66),l=n(316),u=n(344),c=n(67),d=new o("rejected-suggested-users");e.exports=l.extend({defaults:{limit:21,category:null,excludeFollowing:!0,view:null,shuffle:!1},model:u,meIds:null,setup:function(){this.meIds=new r,this.listenTo(this,"remove",this.onRemove)},baseUrl:function(){var e=this.options.view;return c.stringify({path:["me","suggested","users",i(this.options.category)],query:e?{view:e}:{}})},fetch:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];var s=a.defer();return this.meIds.fetch().done(function(){l.prototype.fetch.apply(e,n).done(s.resolve).fail(s.reject)}).fail(s.reject),s},getTokens:function(){return this.map(function(e){return e.get("token")})},parse:function(e){var t=this,n=this.options,i=n.shuffle,r=n.excludeFollowing,o=e.collection;return i&&(o=s.shuffle(o)),this.next_href=!1,s.filter(o,function(e){return!r||t.isValidUserSuggestion(e.user.id)})},isValidUserSuggestion:function(e){return!this.meIds.get(e)&&!d.get(e)},onRemove:function(e){d.set(e.id,!0)}},{hashFn:function(e,t){return t&&t.category||1},onCleanup:function(e){e.meIds.release(),e.meIds=null}})},function(e,t,n){"use strict";var i=n(3),s=n(101),r=n(373),o=n(22);e.exports=r.extend({defaults:{limit:o.get("maxComments")},initialize:function(){r.prototype.initialize.apply(this,arguments),this.threads=[],this.listenTo(this,"remove",this._removeComment)},threads:null,_addComment:function(e){var t,n,s,r,o=e.get("timestamp");s=this.getTimestampIndex(o),n=this.threads[s],e.created_timestamp=Date.parse(e.get("created_at")),n&&n[0]===o?(r=i.sortedIndex(n[1],e,function(e){return e.created_timestamp}),n[1].splice(r,0,e)):(t=[o,[e]],this.threads.splice(s,0,t))},_removeComment:function(e){var t,n=this.getThreadAtTimestamp(e.get("timestamp"));n&&(t=n[1].indexOf(e),t>-1&&n[1].splice(t,1))},_prepareModel:function(){var e=r.prototype._prepareModel.apply(this,arguments);return e.created_timestamp=Date.parse(e.created_at),e.get("timestamp")>this.soundDuration&&e.set({timestamp:s.EMPTY_TIMESTAMP},{silent:!0}),this._addComment(e),e},comparator:function(e,t){var n=e.attributes.timestamp===s.EMPTY_TIMESTAMP?1/0:e.attributes.timestamp,i=t.attributes.timestamp===s.EMPTY_TIMESTAMP?1/0:t.attributes.timestamp;return n-i||e.created_timestamp-t.created_timestamp},getThreadComments:function(e){var t,n,r=arguments[1],o=i.isNumber(r)?r:0,a=i.isBoolean(r)?r:!1;return t=0===o?this.getThreadAtTimestamp(e):i.find(this.threads,function(t){return Math.abs(e-t[0])<=o&&t[0]!==s.EMPTY_TIMESTAMP}),n=t?t[1]:[],n.filter(a?function(e){return e.id}:i.identity)},getTimestamps:function(){return i.pluck(this.threads,0)},getTimestampIndex:function(e){return i.sortedIndex(this.threads,[e],function(e){return e[0]===s.EMPTY_TIMESTAMP?1/0:e[0]})},getThreadAtTimestamp:function(e){var t=this.getTimestampIndex(e),n=this.threads[t];return n&&n[0]===e?n:null}})},function(e,t,n){"use strict";function i(e){var t=e.object;this.add(a.getModelData(this.options.userId,"playlist",t.id),{at:0})}function s(e){var t=(e.targetType,e.state),n=e.origin,i=e.target,s=void 0;t?this.add(a.getModelData(n,"playlist-like",i),{at:0}):(s=r.call(this,i))&&this.remove(s)}function r(e){return this.find(function(t){return e===t.get("playlist").id})}var o=n(76),a=n(1138),l=n(153),u=n(151),c=n(142),d=[{emitter:o,event:"like",getInstance:function(e,t){var n=t.origin,i=t.targetType;return e.options.userId===n&&"playlist"===i},handler:s},{emitter:o,event:"createPlaylist",getInstance:function(e,t){var n=t.object;return e.options.userId===n.get("user_id")},handler:i}],h=["liked","owned","all"],p=(e.exports=l.extend({model:a,_filterType:"all",filters:[function(e){switch(this._filterType){case"owned":return e.isOwned();case"liked":return e.isLiked();default:return!0}}],setupSources:function(){return[new p(null,this.options)]},setTypeFilter:function(e){e!==this._filterType&&h.indexOf(e)>-1&&(this._filterType=e,this.recalculateFilters())},getSourceInfo:function(){return{type:"user-playlists",resourceId:this.options.userId,resourceType:"user"}}}),c.extend(u.withOptions({events:d}),{model:a,defaults:{type:"playlists/liked_and_owned"},baseUrl:function(){return this.getEndpointUrl("collectionPlaylists",{
id:this.options.userId})},audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()}}))},function(e,t,n){"use strict";var i=n(74),s=n(22),r=n(70),o=n(67);e.exports=i.extend({model:r,defaults:{limit:250},baseUrl:function(){return o.stringify({path:["/users",this.options.userId,"tracks"]},s.get("api_v2_host"))}})},function(e,t,n){"use strict";var i=n(3),s=n(27),r=n(74),o=n(66),a=n(257),l=n(318);e.exports=r.extend({model:a,url:null,defaults:{userId:null},setup:function(e){this.webProfiles=new l(null,e)},fetch:function(){var e=this;return this.webProfiles.fetch().done(function(t){e.lastFetchTime=Date.now(),e.reset(t)})},saveEdits:function(){var e=this;this.models=this.models.filter(function(e){return!!e.get("url")});var t=this.models.map(function(e){return e.validate()});return o.all(t).then(function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return i.all(n)?s.sync("create",e,{url:e.webProfiles.url()}):o.reject()})}},{hashFn:function(e,t){return t.userId}})},function(e,t,n){"use strict";var i=n(64);e.exports=[i.t("January"),i.t("February"),i.t("March"),i.t("April"),i.t("May"),i.t("June"),i.t("July"),i.t("August"),i.t("September"),i.t("October"),i.t("November"),i.t("December")]},,,,,,function(e,t,n){(function(t){"use strict";var i=n(3),s=n(22),r=n(25),o=n(225),a="https://api.appboy.com/users/track";e.exports={trackUserEvent:function(e){if(r.isLoggedIn()){var n=s.get("me"),l=n.getUrn(),u=window.btoa(l),c={app_group_id:"5414e11b-f5cf-4ad7-8f58-7a57ceb8f7e1",events:[{app_id:"2c0ba43c-af74-488e-9dfd-b87280e02a92",external_id:u,time:(new Date).toISOString(),name:e,properties:{creator_display_name:n.get("username"),creator_user_urn:l},_update_existing_only:!0}]};t.ajax({type:"POST",dataType:"json",contentType:"application/json",url:a,data:JSON.stringify(c),statusCode:i.mapObject(o,function(){return i.noop})})}}}}).call(t,n(1))},function(e,t,n){"use strict";function i(e,t){var n=new d(u.defaults({$targetEl:t},e.viewOptions));return n.once("dismissed",o).once("closed",a),f.all([f.delay(_),h.pollForInsertion(t,void 0,1e4)]).then(function(){n.disposed||(window.document.body.appendChild(n.el),n.render())}),n}function s(e){var t=new m(e.viewOptions);return t.once(m.Events.CLOSED,function(){o(),a()}),f.delay(_).then(function(){t.disposed||t.open()}),t}function r(e){var t=c[e];return t}function o(){v.set(l.id,!0)}function a(){l=null}var l,u=n(3),c=n(1002),d=n(1054),h=n(2),p=n(23),f=n(66),g=n(97),m=n(78),v=new g("callouts"),_=500;v.prune(Object.keys(c)),p.on("connect:logout",v.reset,v);e.exports={shouldDisplay:function(e){return!l&&!v.get(e)&&r(e).shouldDisplay()},display:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=u.extend({},r(e),n),a="callout"===o.viewType?i(o,t):"modal"===o.viewType?s(o):null;return l={id:e,config:o,view:a},a}}},function(e,t,n){"use strict";var i=n(3),s=n(24),r=n(258);e.exports=new s({message:"",state:r.UNKNOWN,_lastError:null,_lastResult:null,_form:null,initialize:function(e,t){i.assign(this,e),this._form=t},disable:function(){this.state=r.DISABLED},reset:function(){this.state=r.UNKNOWN,this._lastResult&&"pending"===this._lastResult.state()&&this._lastResult.reject(),this._lastResult=null},result:function(e,t){return this.state=t?r.VALID:r.INVALID,this._lastError=t?null:this.getMessage(),e.resolve({success:t,message:this._lastError})},getLastError:function(){return this._lastError},around:{validate:function(e){return this.state===r.UNKNOWN&&(this._lastResult=e.apply(this,Array.prototype.slice.call(arguments,1))),this._lastResult}},defaults:{check:i.noop,getMessage:function(){var e=this;return this.message?this.message.toString().replace(/\[\[([^}]+)\]\]/g,function(t,n){return e[n]||t}):""}}})},function(e,t,n){"use strict";var i=n(105),s=n(64);e.exports=i.extend({message:s.t("Please choose a time in the future."),check:function(e,t){t(e>Date.now())}})},,function(e,t,n){"use strict";var i=n(105),s=n(64);e.exports=i.extend({message:s.t("Please enter a valid date."),check:function(e,t){t(e instanceof Date&&"number"==typeof+e&&!isNaN(+e))}})},function(e,t){"use strict";function n(){var e=Error.apply(this,arguments);e.name=this.name="UnauthorizedViewerError",this.message="User is unauthorized to view this resource.",this.stack=e.stack}n.prototype=Object.create(Error.prototype),e.exports=n},function(e,t){"use strict";function n(e){return(e^16*Math.random()>>e/4).toString(16)}var i="10000000-1000-4000-8000-100000000000";e.exports={generate:function(){return i.replace(/[018]/g,n)}}},function(e,t,n){"use strict";function i(e,t){return A[e](t)}function s(e,t){return t.filter(x.partial(i,x,e))}function r(e,t,n){var i=x.partition(e,function(e){return x.contains(t,e)}),s=i[0],r=i[1];return r.length>=n?{primary:s,overflow:r}:{primary:s.concat(r),overflow:[]}}function o(e){return l(e)||a(e)}function a(e){return e instanceof S}function l(e){return e instanceof k}function u(e){return c(e)&&!d(e)}function c(e){return o(e)&&!e.isDisabled()}function d(e){return o(e)&&e.isProcessing()}function h(e){return o(e)&&e.isPublic()}function p(e){return o(e)&&T.get("me").owns(e)}function f(e){return o(e)&&e.getNumSounds()>0}function g(e){return o(e)&&!!e.get("purchase_url")}function m(e){return l(e)&&T.get("me").canDownload(e)}function v(e){return o(e)&&e.isBlacklisted()}function _(e){return o(e)&&e.isDisabled()}function y(e){return function(){return!e.apply(void 0,arguments)}}function b(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];return x.every(t,function(e){return e.apply(void 0,n)})}}function w(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];return x.any(t,function(e){return e.apply(void 0,n)})}}var x=n(3),k=n(70),S=n(87),T=n(22),A={play:u,like:b(u,h),repost:b(u,h,y(p)),addToPlaylist:b(u,l,w(h,p)),addToGroup:b(u,l,p,h),buy:b(f,g),share:b(u,f,w(h,p)),download:b(u,m),"delete":b(p,y(v)),edit:b(p,y(_))},E=["play","like","repost","addToPlaylist","addToGroup","share","buy","download","edit","delete"];e.exports={getActionSet:s,isActionAvailable:i,overflowActions:r,ALL_ACTIONS:E}},function(e,t){"use strict";e.exports={getStringFromBuffer:function(e,t,n){var i,s,r=new Uint8Array(e,t,n),o=new Array(n);for(s=0;n>s;++s){if(i=r[s],0===i){o.length=s;break}o[s]=String.fromCharCode(i>127?65533:i)}return o.join("")},getByteFromBuffer:function(e,t){return t>=0&&t<e.byteLength?new Uint8Array(e,t,1)[0]:void 0},getBlobFromDataURI:function(e){var t,n,i,s,r=[],o=e.split(",");for(t=o[0].indexOf("base64")>-1?window.atob(o[1]):decodeURI(o[1]),n=/^.*?:(.*?);/.exec(e)[1],i=0,s=t.length;s>i;i++)r[i]=t.charCodeAt(i);return new window.Blob([new Uint8Array(r)],{type:n})}}},function(e,t){"use strict";var n=/\r?\n/g,i=/\s+/g;e.exports={cleanBlockText:function(e){return e.trim().replace(n," ").replace(i," ")}}},function(e,t,n){"use strict";var i,s=n(3),r=n(21);i={prefix:"sc-icon",size:"small",title:!1,variation:null};e.exports={render:function(e){var t,n;return e=e||{},e=s.defaults(e,i),t=[e.prefix,[e.prefix,e.type].join("-")+(e.variation?"-"+e.variation:""),[e.prefix,e.size].join("-"),e.title?"sc-ir":"",e["class"]||""].filter(Boolean).join(" "),n=e.title?r.Utils.escapeExpression(e.title):"",'<span class="'+t+'">'+n+"</span>"}}},function(e,t,n){"use strict";var i=n(3),s=n(88),r=[37,38,39,40,9,35,36];e.exports={makeReadOnly:function(e){s.isMobile&&s.isSafari?e.on("keydown",function(e){return e.isMetaKey()&&!e.shiftKey||i.include(r,e.which)?!0:void e.preventDefault()}):e.attr("readOnly","readOnly")}}},function(e,t,n){(function(t){"use strict";var n;e.exports={normalizeEvent:function(e){if(e.offsetX===n||e.offsetY===n){var i=t(e.target).offset(),s=e.originalEvent;e.offsetX=s.pageX-i.left,e.offsetY=s.pageY-i.top}return e}}}).call(t,n(1))},function(e,t,n){(function(t){"use strict";var n;e.exports={getScrollbarSize:function(){if(void 0===n){var e,i,s;e=t('<div class="g-scrollable-inner" style="width:50px;height:50px;overflow:hidden; position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>'),t("body").append(e),i=t("div",e).innerWidth(),e.css("overflow","auto"),s=t("div",e).innerWidth(),e.remove(),n=i-s}return n}}}).call(t,n(1))},function(e,t,n){"use strict";function i(e){return r.pluck(o.countries([e.value]),"value")}function s(e){return 0===r.difference(l,e).length}var r=n(3),o=n(156),a=n(64),l=o.countryCodes(),u=.8,c=e.exports={partition:function(e){var t=[],n=[],a=[];return s(e)?t.push(c.worldwide()):o.regions().forEach(function(s){var o=i(s),l=r.intersection(o,e),c=r.difference(o,e);l.length>o.length*u?(t=t.concat(s),a=a.concat(c)):n=n.concat(l)}),{regions:t,countries:n.map(o.country),exceptions:a.map(o.country)}},worldwide:function(){return{title:a.t("Worldwide"),value:"worldwide"}}}},function(e,t,n){(function(t){"use strict";function i(e,t){m(e,1e3*Math.max(5,h)*("next"===t?1:-1))}function s(e,t){return(e&&o.reduce(e,function(e,n,i){var s=t(n,i);return s!==!1&&(!e||s>e.value)?{item:n,value:s}:e},void 0)||{}).item}function r(e){return e&&d.some(o.propertyOf(e))}var o=n(3),a=n(76),l=n(23),u=n(64),c=n(95),d=["altKey","shiftKey","ctrlKey","metaKey"],h=0,p=!1,f=e.exports={shortcuts:{playPause:{keyCode:["32","13"],keyName:["space"],description:u.t("Play or pause"),className:"kbd-big",fn:function(){c.toggleCurrent({userInitiated:!0})}},search:{keyCode:["83","191"],keyName:["S"],description:u.t("Search"),fn:function(){l.trigger("search:focus")}},load:{keyCode:["48","49","50","51","52","53","54","55","56","57"],keyName:["0…9"],className:"kbd-big",description:u.t("Seek to position"),fn:function(e,t,n){e&&!r(n)&&e.seek(e.getMediaDuration()/10*(t-48))}},seekBackward:{keyCode:["37"],keyName:["←"],description:u.t("Seek backward"),fn:function(e){e&&i(e,"prev")}},seekForward:{keyCode:["39"],keyName:["→"],description:u.t("Seek forward"),fn:function(e){e&&i(e,"next")}},repeat:{keyCode:["shiftKey+76"],keyName:["L","⇧"],description:u.t("Repeat playing track"),fn:function(){c.toggleState("repeating")}},prev:{keyCode:["shiftKey+37","75"],keyName:["←","⇧"],description:u.t("Play previous track"),fn:function(){c.playPrev({userInitiated:!0})}},next:{keyCode:["shiftKey+39","74"],keyName:["→","⇧"],description:u.t("Play next track"),fn:function(){c.playNext({userInitiated:!0})}},mute:{keyCode:["77"],keyName:["M"],description:u.t("Mute volume"),fn:function(){l.broadcast("mute:toggle")}},volUp:{keyCode:["shiftKey+38"],keyName:["↑","⇧"],description:u.t("Increase volume"),fn:function(){l.trigger("volume:change",.1)}},volDown:{keyCode:["shiftKey+40"],keyName:["↓","⇧"],description:u.t("Decrease volume"),fn:function(){l.trigger("volume:change",-.1)}},like:{keyCode:["76"],keyName:["L"],description:u.t("Like playing track"),fn:function(e){e&&a.like(e.id,e.resource_type)}},repost:{keyCode:["82"],keyName:["R"],description:u.t("Repost playing track"),fn:function(e){e&&a.repost(e.id,e.resource_type)}},dialog:{keyCode:["72","shiftKey+191"],keyName:["H"],description:u.t("Show keyboard shortcuts"),fn:function(){l.trigger("keyboard-shortcuts:toggle")}},gotoNowPlaying:{keyCode:["80"],keyName:["P"],description:u.t("Navigate to playing track"),fn:function(){c.restoreState()}}},handleKeyDown:function(e){var n=e.keyCode,i=13===n&&!e.isDefaultPrevented()&&t(e.target).is(":tabbable");e.isInput()||i||(f.processKey(n,e)&&(e.preventDefault(),p=!0),++h)},handleKeyUp:function(e){h=0,p&&(e.preventDefault(),p=!1)},processKey:function(e,t){var n=s(g()[e],function(n,i){if(i){if(t&&t[i])return 1}else if(!r(t)||!/[a-z0-9%']/i.test(String.fromCharCode(e)))return 0;return!1});return n&&f.shortcuts[n].fn(c.getCurrentSound(),e,t),!!n}},g=o.memoize(function(){var e=f.shortcuts,t={},n=/^(?:(\w+)\+)?(\d+)$/;return o.each(e,function(e,i){var s=e.keyCode;s.forEach(function(e){var s=n.exec(e),r=s[1],o=void 0===r?"":r,a=s[2];t[a]||(t[a]={}),t[a][o]=i})}),t}),m=o.throttle(function(e,t){e.seekRelative(t)},200)}).call(t,n(1))},function(e,t,n){"use strict";var i=n(125);e.exports=i.extend({includeFooter:".l-sidebar-left",css:n(2360),template:n(2003)})},function(e,t,n){"use strict";var i=n(784),s=n(24);e.exports=new s({override:{model:i},audibleAt:function(e){var t=this.at(e);return t&&t.getSound()}})},function(e,t,n){"use strict";function i(e){var t=e.state,n=e.target,i=e.targetType,s=void 0,r="sound"===i?"track":"playlist",o=r+"-repost";t?this.add({type:o,created_at:(new Date).toISOString(),track:"track"===r?{id:n,kind:r}:null,playlist:"playlist"===r?{id:n,kind:r}:null},{at:0}):(s=this.find(function(e){return e.get("type")===o&&e.get(r).id===n}))&&this.remove(s)}var s=n(76),r=n(24),o=n(151),a=n(238),l=[{emitter:s,event:"repost",getInstance:function(e,t){var n=t.origin;return e.options.userId===n},handler:i}];e.exports=new r(o.withOptions({events:l}),{override:{model:a},audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()}})},,function(e,t,n){(function(t){"use strict";function i(e){var t=this;return this._saving=!0,e.always(function(){t._saving=!1,t.saveCleanup()})}function s(){return this.get("editing")||this._saving?o.reject():o.resolve()}var r=n(3),o=n(66),a=n(192),l=n(24),u=n(64);e.exports=new l(a.withOptions({read:"artwork_url"}),{requires:["getAudible","saveEdits"],_saving:!1,defaults:{saveCleanup:function(){},preSaveCheck:function(){return o.resolve()}},applyTo:function(e){e.fields=t.extend(!0,{},e.fields,{editing:{defaultValue:!0},errorMessage:{defaultValue:""}})},around:{saveEdits:function(e){var t=this,n=r.rest(arguments);return s.call(this).then(this.preSaveCheck.bind(this)).then(function(){return i.call(t,e.apply(t,n))})}},saveAudibleImage:function(e){var t,n=this.getImageFileInfo();return n.file?(e.setImageFile(n.file,n.source),e.on("imageTranscodingDone",function(e){this.unsetImageFile({silent:!0}),this.set("artwork_url",e.artwork_url)}),t=e.uploadImage()):t=o.resolve(),t},getErrorMessageTemplate:function(e,t,n){var i=e||"unknown",s={infoMessage:n&&" "+n+"."},r={track:{upload:u.t("Error uploading track.[[infoMessage]]",s),save:u.t("Error saving track.[[infoMessage]] Please try again.",s),transcode:u.t("Error processing track.[[infoMessage]]",s),unknown:u.t("Error with track.[[infoMessage]]",s)},playlist:{upload:u.t("Error uploading playlist.[[infoMessage]]",s),save:u.t("Error saving playlist.[[infoMessage]] Please try again.",s),transcode:u.t("Error processing playlist.[[infoMessage]]",s),unknown:u.t("Error with playlist.[[infoMessage]]",s)}};return r[t][i]},extractErrorMessage:function(e){try{return JSON.parse(e.responseText).errors[0].error_message}catch(t){return""}},setToModelAttributes:function(){var e=this.getAttributesFromModel();this.set(e),this.unsetImageFile({force:!0}),this.markFieldsClean()}})}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function i(e){return!(!e||e===u||r.isGenreLabel(e))}var s=n(3),r=n(179),o=n(64),a=n(24),l=n(163),u="NO_GENRE",c="CUSTOM_GENRE",d=function(e){var t=r.genreLabel(e.id);return{id:t.toString(),value:t.toString(),label:t}},h={title:{defaultValue:""},description:{defaultValue:""},genre:{defaultValue:u,datasource:[{value:u,id:u}],groups:[{links:[{id:u,value:u,label:o.t("None")},{id:c,value:c,label:o.t("Custom")}]},{title:o.t("Music"),links:r.genres("music").map(d)},{title:o.t("Audio"),links:r.genres("audio").map(d)}]},customGenre:{defaultValue:""},tags:{defaultValue:function(){return[]}},artwork_url:{defaultValue:null},sharing:{defaultValue:"public",datasource:[{label:o.t("private"),value:"private"},{label:o.t("public"),value:"public"}]},permalink:{defaultValue:""}};e.exports=new a({requires:["getAudible"],merge:{requiredModelAttributes:["title","description","tag_list","artwork_url","sharing","permalink"]},applyTo:function(e){t.extend(!0,e,{fields:h})},around:{getAttributesToBeSaved:function(e){var t=e.apply(this,s.rest(arguments)),n=s.pick(this.attributes,"title","description","sharing","permalink","genre"),i=this.get("customGenre");return n.genre===u?n.genre="":n.genre===c?n.genre=i:n.genre=s.unescape(n.genre),n.tag_list=l.serialize(this.get("tags")),s.assign(n,t)},getAttributesFromModel:function(e){var t=this.getAudible(),n=e.apply(this,s.rest(arguments)),r=s.pick(t.attributes,"title","description","sharing","permalink","artwork_url","genre");return i(s.escape(r.genre))?(r.customGenre=r.genre,r.genre=c):r.genre?r.genre=s.escape(r.genre):r.genre=u,r.tags=l.extract(t.attributes),s.assign(r,n)}},isCustomGenre:function(){return i(this.get("genre"))}})}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function i(e){return e.get("default_license")}function s(e){var t=i(e);return t&&t!==h.ALL_RIGHTS}function r(e,t){t&&this.set("shareAlike",!1)}function o(e,t){t&&this.set("nonDerivative",!1)}function a(e){return"change:"+e}function l(){var e=h.serializeCCAttributes(this.attributes);this.set("creativeCommonsLicense",e)}function u(){var e=this.get("license");return e===h.ALL_RIGHTS?e:this.get("creativeCommonsLicense")}var c=n(3),d=n(22),h=n(327),p=n(64),f=n(24),g={license:{defaultValue:function(){return s(d.get("me"))?h.COMMONS:h.ALL_RIGHTS},datasource:[{label:p.t("All Rights Reserved"),value:h.ALL_RIGHTS},{label:"Creative Commons",value:h.COMMONS}]},creativeCommonsLicense:{defaultValue:function(){return s(d.get("me"))?i(d.get("me")):h.DEFAULT_CC}},attribution:{defaultValue:!0,readOnly:!0},nonCommercial:{defaultValue:!0},nonDerivative:{defaultValue:!1},shareAlike:{defaultValue:!0}};e.exports=new f({requires:["getAudible"],merge:{requiredModelAttributes:["license"]},applyTo:function(e){t.extend(!0,e,{fields:g})},before:{setup:function(){var e=["license"].concat(Object.keys(h.ccFields));this.listenTo(this,"change:nonDerivative",r).listenTo(this,"change:shareAlike",o).listenTo(this,e.map(a).join(" "),l)}},around:{getAttributesToBeSaved:function(e){var t=e.apply(this,c.rest(arguments)),n={license:u.call(this)};return c.assign(n,t)},getAttributesFromModel:function(e){var t=this.getAudible(),n=e.apply(this,c.rest(arguments)),i=h.parse(t.get("license"));return c.assign(i,n)}}})}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function i(){s.call(this,this.get("scheduledPublic"),this.get("scheduledPrivate"))}function s(e,t){var n;null!==t&&null!==e&&(n=!e&&(t||"public"===this.get("sharing")),this.set("sharing",n?"public":"private"))}var r,o=n(22),a=n(729),l=n(24),u=n(64),c=n(109),d=n(731);r={scheduledTimezone:{defaultValue:null},scheduledPublic:{defaultValue:!1},scheduledPublicLocalDate:{defaultValue:null},scheduledPublicDate:{defaultValue:null},scheduledPrivate:{defaultValue:!1},scheduledPrivateLocalDate:{defaultValue:null},scheduledPrivateDate:{defaultValue:null}};e.exports=new l({applyTo:function(e){t.extend(!0,e,{fields:r,constraints:{scheduledPublicDate:[[c,{message:u.t("Please choose a date.")}],d,a],scheduledPrivateDate:[[c,{message:u.t("Please choose a date.")}],d,a]},constraintConditions:{scheduledPublicDate:{fields:["scheduledPublicDate","scheduledPublic"],check:function(e,t){return t&&(!e||this.isDirty)}},scheduledPrivateDate:{fields:["scheduledPrivateDate","scheduledPrivate"],check:function(e,t){return t&&(!e||this.isDirty)}}}})},after:{setup:function(){this.listenTo(this,"change:scheduledPublic change:scheduledPrivate",i)}},getScheduledAttributes:function(){return["scheduled_public_date","scheduled_private_date","scheduled_timezone"]},getScheduledAttributesToBeSaved:function(){var e,t=o.get("me");return t.hasAnyScheduling()&&(e={},this.get("scheduledPublic")?e.scheduled_public_date=+this.get("scheduledPublicDate"):this.get("scheduledPublic")===!1&&(e.scheduled_public_date=null),this.get("scheduledPublic")||this.get("scheduledPrivate")?(e.scheduled_timezone=this.get("scheduledTimezone"),e.scheduled_public_timezone=this.get("scheduledTimezone")):(this.get("scheduledPublic")===!1||this.get("scheduledPrivate")===!1)&&(e.scheduled_timezone=null,e.scheduled_public_timezone=null),t.hasFullScheduling()&&(this.get("scheduledPrivate")?e.scheduled_private_date=+this.get("scheduledPrivateDate"):this.get("scheduledPrivate")===!1&&(e.scheduled_private_date=null))),e}})}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function i(){var e=this;this.trigger("generatingPermalink",!0),s.call(this,T.permalink(this.get("title"))).always(function(t){t=t||"",e.set("permalink",t),e.trigger("generatingPermalink",!1)})}function s(e,t,n){var i=this;return t=t||y.defer(),n=n||0,this._permalinkConstraint.check(e,function(r){r?t.resolve(e):C>n?s.call(i,i.increasePermalink(e),t,++n):t.reject()}),t}function r(){this.get("networks").forEach(function(e){var t=new f({id:e}),n=this._sound||this._playlist;_.trigger("upload:share:"+t.get("type"),{type:n.resource_type,id:n.id})},this)}var o,a,l,u,c=n(3),d=n(747),h=n(323),p=n(22),f=n(273),g=n(748),m=n(156),v=n(325),_=n(23),y=n(66),b=n(193),w=n(749),x=n(64),k=n(178),S=n(24),T=n(162),A=n(67),E=n(389),C=10;o={networks:{defaultValue:function(){return[]}},apiStreamable:{defaultValue:!0},embeddableByAll:{defaultValue:!0},domainLocking:{defaultValue:!1},downloadable:{defaultValue:!1,disabled:function(){return!p.get("me").canEditDownloadable()}},feedable:{defaultValue:!1,disabled:function(){return!p.get("me").canEditRssEnabled()}},buyLink:{defaultValue:""},buyTitle:{defaultValue:x.t("Buy").toString()},commentable:{defaultValue:!0},publicComments:{defaultValue:!0},stats:{defaultValue:!0},geoblocking:{defaultValue:!1},availableCountries:{defaultValue:null},labelName:{defaultValue:null},releaseDate:{defaultValue:null}},a={save:{label:x.t("Save"),pendingLabel:x.t("Saving"),action:"save"},cancel:{label:x.t("Cancel"),action:"cancel"}},l={buyLink:[[E,{strict:!1}]],buyTitle:[[k,{maxLength:22}]]},u={"default":"save",cancel:function(){v.confirm(x.t("Are you sure you want to cancel the upload?")).done(this.cancel.bind(this))}};e.exports=new S(g,w,b.withOptions({attr:"title"}),d,{applyTo:function(e){e.buttons=t.extend(!0,{},a,e.buttons||{})},_permalinkConstraint:null,isEdit:!1,requires:["cancel","getAudible","createAudible","unsetAudible","getAttributesToBeSaved","getAttributesFromModel","onAudibleSaved"],merge:{actions:u,constraints:l,fields:o},before:{initialize:function(){var e={type:"playlist-upload"===this.resource_type?"playlist":"sound",getResource:function(){return this.getAudible()}};this._permalinkConstraint=new h(e,this)},setup:function(){this.on("imageDataChanged",this.markFieldsDirty.bind(this,"artwork_url")),this.on("change:commentable",function(e,t){t||this.set("publicComments",!1)},this),this.on("change:publicComments",function(e,t){t&&this.set("commentable",!0)},this)}},after:{setup:function(e,t){this.isEdit||(this.set("feedable",!!p.get("me").get("default_tracks_feedable")),t.inPlaylist||this.on("change:title",i,this))}},around:{getAttributesToBeSaved:function(e){var t=this.get("buyTitle"),n=this.get("buyLink"),i={};return this.get("networks")&&"public"===this.get("sharing")&&(i.shared_to={connections:this.get("networks").map(function(e){return{id:e}})}),i.embeddable=this.get("embeddableByAll"),i.purchase_url=n?A.normalize(n):null,i.purchase_title=t===this.getFieldMetadata("buyTitle").defaultValue?null:t,i.reveal_stats=this.get("stats"),i.label_name=this.get("labelName"),i.release_date=this.get("releaseDate")&&x.dateTimeHelper.format(this.get("releaseDate"),"iso"),i.geo_blockings=this.get("geoblocking")?m.complement(this.get("availableCountries")):[],c.assign(i,e())}},saveEdits:function(){var e=this.getAudibleWrapper(),t=e.model;return t.set(this.getAttributesToBeSaved()),t.save().then(e.afterSave).then(this.saveAudibleImage.bind(this,t)).then(this.onAudibleSaved.bind(this),this.onSaveFailed.bind(this)).done(this.trigger.bind(this,"saved"))},preSaveCheck:function(){return this.fileStatusCheck()},getAudibleWrapper:function(){var e,t=this.getAudible();return t?{model:t,afterSave:function(){}}:(e=this.createAudible(),e.on("destroy",function(){this.unsetAudible(),this.cancel()},this),{model:e,afterSave:r.bind(this)})},saveCleanup:function(e){this.markFieldsClean(Object.keys(this.getAttributesFromModel()))},setToFailed:function(e,t){var n="playlist-upload"===this.resource_type?"playlist":"track";t&&"string"!=typeof t&&(t=this.extractErrorMessage(t)),this.set({errorMessage:this.getErrorMessageTemplate(e,n,t)})},increasePermalink:function(e){var t=/-(\d+)$/,n=e.match(t);return n?e.replace(t,function(e,t){return t=parseInt(t,10)+1,"-"+t}):e+"-1"}})}).call(t,n(1))},function(e,t,n){"use strict";function i(){var e=this.getFileUpload();e&&e.set("hasBeenSaved",!0),this._fileSaveableDeferred=null,this.set("fileUploadSaved",!0),o.call(this)}function s(){this.markFieldsClean("fileUpload"),this.unsetFileUpload()}function r(e,t){var n=this.getAudible(),i=this.isEdit;switch(t){case d.TRANSCODING:i||this._fileSaveableDeferred.resolve();break;case d.FAILED:e.previous("status")===d.TRANSCODING?(n&&n.set("state",c.states.FAILED),this.setToFailed("transcode")):this.setToFailed("upload"),this.set("fileUploadFailed",!0);break;case d.COMPLETE:n&&n.set("state",c.states.FINISHED),i&&this._fileSaveableDeferred.resolve(),o.call(this)}}function o(){var e=this.get("fileUploadSaved"),t=this.getFileUpload(),n=t&&t.get("status")===d.COMPLETE;e&&n&&this.removeUpload()}var a=n(23),l=n(66),u=n(24),c=n(70),d=n(232),h={fileUploadSaved:{defaultValue:!1},fileUploadFailed:{defaultValue:!1},fileUpload:{defaultValue:null}};e.exports=new u({requires:["getAudible","isEdit","onAudibleSaved"],_fileSaveableDeferred:null,merge:{fields:h},after:{onAudibleSaved:function(){var e=this.getAudible(),t=this.getFileUpload();e&&this.isEdit&&t&&c.prototype.createAudio.apply(e),t&&(a.trigger("upload_funnel:save"),i.call(this))}},hasUnsavedUpload:function(){var e=this.getFileUpload();return e&&e.get("status")!==d.FAILED},setFileUpload:function(e){this.set({fileUpload:e,fileUploadFailed:!1,fileUploadSaved:!1}),this.markFieldsDirty("fileUpload"),e.hold(),this._fileSaveableDeferred=l.defer(),this.listenTo(e,"change:status",r).listenTo(e,"destroy",s)},unsetFileUpload:function(){var e=this.getAudible();e&&e.set("state",c.states.FINISHED),this.set("fileUpload",null),this._fileSaveableDeferred=null},getFileUpload:function(){return this.get("fileUpload")},removeUpload:function(){var e=this.getFileUpload();e&&(e.release(),e.remove())},getUploadAttributes:function(){var e=this.isEdit,t=this.getFileUpload(),n={};return t&&(n[e?"replacing_uid":"uid"]=t.getS3Key(),n[e?"replacing_original_filename":"original_filename"]=t.getFileName()),n},fileStatusCheck:function(){var e=this.getFileUpload(),t=this.isEdit?d.COMPLETE:d.TRANSCODING;if(!e)return l.resolve();var n=e.get("status");return t>n&&n!==d.FAILED?this._fileSaveableDeferred:l.resolve()}})},function(e,t,n){(function(t){"use strict";function i(e,t){this.has(e)&&this.set(e,Math.max(0,this.get(e)+(t?1:-1)))}var s=n(3),r=n(129),o=n(22),a=n(23),l=n(1098),u=n(24),c=n(72),d=n(395),h=n(67);e.exports=new u(r,l,d,{requirePrototype:c.prototype,requires:["getPrevSound","getCurrentSound","getNextSound","getFirstSound","getLastSound","getSounds","getNumSounds","getSoundIndex","play","pause","isPlaying","isProcessing","isEditing","isPublic","isPrivate","isNowPlaying","duration","isGeoblocked","isMonetizable","isManagedByFeeds","isPublisherBlocked","hasScheduledPrivacy"],before:{setup:function(){this.listenTo(this,"destroy",this.pause)}},around:{destroyUrl:function(e){return this.isDisabled()?"app/v2/me/hidden_tracks/"+this.id:e.apply(this,s.rest(arguments))},destroy:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.statusCode=s.defaults({202:function(){a.trigger("audible:delete-already-queued",t)}},n.statusCode),e(s.clone(n))}},getSourceInfo:function(){return{type:"single",resourceId:this.resource_id,resourceType:this.resource_type}},onLike:function(e){i.call(this,"likes_count",e.state)},onRepost:function(e){i.call(this,"reposts_count",e.state)},onComment:function(e){i.call(this,"comment_count",e.state)},onPlayRegistered:function(){o.get("me").owns(this)||i.call(this,"playback_count",!0)},getShareURL:function(e){var t,n,i,s=!(!e||!e.permalinkUrl),r=s?e.permalinkUrl:this.get("permalink_url");return i=this.playlist&&this.playlist.id,t={query:{"in":i?h.parse(this.playlist.getShareURL()).relative.substr(1):null}},s||(t.scheme="https"),e&&e.time&&(t.fragment="t="+e.time),n=this.isPrivate()&&!/\/s-[a-zA-Z0-9]{5}$/.test(r),h.stringify(t,r+(n?"/"+this.get("secret_token"):""))},resetSecretLink:function(){var e=this,n=h.stringify({path:"/"+h.joinPath([this.getUrn(),"secret_token","reset"])},o.get("api_v2_host"));return t.ajax({url:n,type:"POST",dataType:"json"}).done(function(t){e.set({secret_token:t.secret_token,permalink_url:t.permalink_url})})},getPermalink:function(){return this.get("permalink_url").replace(/^https?:.+?\w\//,"/")},isDisabled:function(){return!!this.get("disabled_reason")},isBlacklisted:function(){return"blacklisted"===this.get("disabled_reason")},isOverQuota:function(){return"quota"===this.get("disabled_reason")},toggle:function(e){this[this.isPlaying()?"pause":"play"](e)},isPaused:function(){return!this.isPlaying()},prefetchAudio:function(){var e=this.getCurrentSound();e&&e.initAudio()}})}).call(t,n(1))},function(e,t,n){"use strict";function i(e){return s.some(this.ownerAttributes,function(t){return e.indexOf(t)>-1})}var s=n(3),r=n(22),o=n(24),a=n(67);e.exports=new o({requires:["ownerAttributes","ownerUrl","attrExists"],around:{fetch:function(e,t){var n,o=t&&t.attrs,l=s.clone(t),u=r.get("me").owns(this);return n=o&&!this.attrExists(o)&&i.call(this,o),u&&n&&(l.url=a.modify(this.ownerUrl(),{query:{representation:"owner"}}),l.batch=!1),e.call(this,l)}}})},function(e,t,n){(function(t){"use strict";function i(e){return"sound"!==e.resource_type}function s(e){return e&&e.attrs&&e.attrs.indexOf("visuals")>-1}function r(e){var t=e&&e.attrs;return!t||t.length>1||"visuals"!==t[0]}function o(){var e=m.stringify({path:"/visuals",query:{urn:this.getUrn()}},h.get("visualsHost"));return e}function a(e){var t=e.visuals||this.get("visuals")||null;t&&e.tracking&&(t.tracking=e.tracking),this.set("visuals",t)}var l,u=n(3),c=n(88),d=n(147),h=n(22),p=n(100),f=n(24),g=n(66),m=n(67),v=1240,_=5e3;e.exports=new f({_lastVisualsFetch:null,around:{fetch:function(e,n){var u,c,h=this,p=[],f=i(this);return l||(l=new d({giveUp:1})),(!f||r(n))&&p.push(e(n)),f&&s(n)&&(this._lastVisualsFetch||this.attrExists("visuals")?c=this._lastVisualsFetch:(this._lastVisualsFetch=c=g.defer(),l.enabled?t.ajax({dataType:"json",url:o.call(this),timeout:_}).done(a.bind(this)).always(function(e,t,n){"timeout"===n&&l.failed(),h.set("visuals",h.get("visuals")||null),c.resolve()}):(this.set("visuals",null),c.resolve())),c&&p.push(c)),u=g.defer(),g.settled(p).done(function(e){u.resolve.apply(null,e)}).fail(u.reject),u}},getVisual:function(){var e=this.get("visuals");return e&&e[0]||{}},getVisualURL:function(){var e=v*(c.isHiDPI?2:1);return p.setFormat(this.getVisual().visual_url,e)},hasVisuals:function(){return!u.isEmpty(this.get("visuals"))}})}).call(t,n(1))},function(e,t,n){"use strict";function i(e){return e._sdb=u.uniqueId("sdb"),e}function s(e){return e._sdb}function r(e,t){return e.hashFn?e.hashFn(t):t.id}function o(e,t,n){var i=e[n];return i&&s(t)&&(e[n]=u.isArray(i)?i.map(a.bind(null,t)):a(t,i)),e}function a(e,t){var n,i=s(e),o=r(e,t);return o?(d[i]=d[i]||{},(n=d[i][o])?u.assign(n,e.normalize?e.normalize(t):t):n=d[i][o]=t,n):t}function l(e,t){var n=s(e),i=r(e,t);i&&d[n]&&delete d[n][i]}var u=n(3),c=n(24),d={};e.exports=new c({applyTo:function(e){var t=e.constructor;this.before(t,{onCleanup:function(e){l(this.constructor,e.attributes)}}),i(t)},after:{initialize:function(){this.attributes=a(this.constructor,this.attributes)}},around:{set:function(e,t,n,i){var s,r;return"object"==typeof t?(s=t,i=n):(s={})[t]=n,s?(this.submodelMap&&(s=u.reduce(this.submodelMap,o,u.clone(s))),r=this.constructor,!this.resource_id&&r.hashFn(s)&&(s=a(r,s)),e(s,i)):this}}})},function(e,t,n){"use strict";var i=n(3),s=n(27),r=n(24);e.exports=new r(i.assign({around:{set:function(e,t,n,i){
var s,r,o=i&&i.silent;return o||(r=this.get(t)),s=e(t,n,i),o||r===n||this.trigger(t,{prev:r,current:n}),s},unset:function(e,t,n){var i,s,r=n&&n.silent;return r||(s=this.get(t)),i=e(t,n),r||void 0===s||this.trigger(t,{prev:s,current:void 0}),i},reset:function(e,t){var n,s,r;return t&&t.silent||(r=this.reduce(function(e,t,n){return t!==s&&(e[n]=t),e},{},this)),n=e(t),r&&i.each(r,function(e,t){this.trigger(t,{prev:e,current:void 0})},this),n}}},s.Events))},,,,,,function(e,t,n){"use strict";var i,s=n(3),r=n(74);i={add:!0,remove:!0,merge:!0};e.exports=r.extend({model:null,setup:s.noop,_prepareModel:function(e){return e},_removeReference:s.noop,parse:function(e){return e&&e.collection||e},indexOfEquivalentModel:function(e,t,n){return(t||this.models).indexOf(e,n)},compareModels:function(e,t){return e===t},toJSON:function(){return this.models.slice()},set:function(e,t){var n,r,o,a,l=this.indexOfEquivalentModel.bind(this);for(t=s.defaults({},t,i),e=this.parse(e,t),e=s.isArray(e)?e.slice():[e],n=e.length;n--;)o=e[n],(l(o,e.slice(n+1))>-1||l(o)>-1)&&e.splice(n,1);return this.length+=e.length,r=null!==t.at&&t.at!==a?t.at:this.models.length,Array.prototype.splice.apply(this.models,[r,0].concat(e)),this.comparator&&this.sort({silent:!0}),t.silent||e.forEach(function(e){this.trigger("add",e,this,t)},this),this},remove:function(e,t){var n,i,r,o;for(t||(t={}),e=s.isArray(e)?e.slice():[e],n=0,i=e.length;i>n;n++)o=e[n],r=this.indexOf(o),r>=0&&(this.models.splice(r,1),this.length--,t.silent||(t.index=r,this.trigger("remove",o,this,t)));return this}})},function(e,t,n){"use strict";var i=n(67),s=window.document.referrer,r=i.parse(s).host||"",o=(i.getQueryParam("utm_medium")||"").toLowerCase(),a=[/\.ask\.com$/,/\.baidu\.com$/,/\.bing\.com$/,/\.duckduckgo\.com$/,/\.google\.com$/,/\.yahoo\.com$/,/\.yandex\.com$/];e.exports={facebook:"facebook"===o||/\bfacebook\.com/.test(s)||/\bw\.soundcloud\.com/.test(s)&&/origin=facebook/.test(s)||!!i.getQueryParam("fb_action_ids"),googleplus:"googleplus"===o,searchEngine:a.some(s.match,r)}},function(e,t,n){"use strict";var i=n(3),s=n(24);e.exports=new s({canvas:null,context:null,isDirty:!1,isAnimating:!1,requires:["draw"],applyTo:function(e){e.defaults=i.assign({scale:1,$eventEl:null},e.defaults)},after:{draw:function(){this.setDirty(this.isAnimating)},onResize:function(){this.setDirty(!0)}},before:{setup:function(e){e.$eventEl||(e.$eventEl=this.$el),this.canvas=this.el,this.context=this.el.getContext("2d")}},override:{render:function(){this.hasData()?this.setDirty(!0):(this.setDirty(!1),this.fetchData())},destroyElement:i.noop},defaults:{onResize:i.noop},setDirty:function(e){(this.isDirty=e)&&this.trigger("dirty")}})},function(e,t,n){"use strict";function i(e,t){var n,i,r,a=e.getAttribute("data-id"),l=o[a];i=l.__class,delete o[a],l.key&&(r=l.key),n=t.addSubview(new i(s.omit(l,"__path","__class","key")),r),n.render(),e.parentNode.replaceChild(n.el,e)}var s=n(3),r=n(21),o={},a=0;e.exports={handlebarHelper:function(e,t){var n,i,l=t.hash;return l.__class=e,i=e,l.args&&(s.isFunction(l.args)&&(l.args=l.args(this)),t.hash=l=s.assign({},l.args,l)),delete l.args,t.fn&&(l.blockContent=new r.SafeString(t.fn(this))),l.className&&(l.className=[i.prototype.className,l.className].filter(Boolean).join(" ")),n=a++,o[n]=l,'<view data-id="'+n+'"></view>'},replacePlaceholders:function(e){e.$("view").each(function(){i(this,e)})}}},function(e,t,n){"use strict";function i(){this.set("transfer",new l),this.set("transcoding",new l)}function s(e){o.call(this,e,!0)}function r(e){o.call(this,e,!1)}function o(e,t){this.get("transfer")[t?"addTransfer":"removeTransfer"](e.get("transfer")),this.get("transcoding")[t?"addTransfer":"removeTransfer"](e.get("transcoding")),a.call(this)}function a(){var e,t=this._uploadsCollection,n=!1,i=!1,s=!0,r=!0;t.some(function(e){switch(e.get("status")){case h.UPLOADING:return i=!0,!0;case h.QUEUED:n=!0,r=!1,s=!1;break;case h.TRANSCODING:r=!1,s=!1;break;case h.COMPLETE:s=!1}}),e=i?h.UPLOADING:n?h.QUEUED:s?h.FAILED:r?h.COMPLETE:h.TRANSCODING,this.set("status",e)}var l=n(768),u=n(74),c=n(72),d=n(415),h=n(232),p=u.extend({model:d,url:null,isFullyPopulated:function(){return!0},hasDataForView:function(){return!0}});e.exports=c.extend({resource_type:"aggregate-audio-upload",url:null,_uploadsCollection:null,hasDataForView:function(){return!0},setup:function(e){this._uploadsCollection=new p,this.set({status:h.QUEUED,hasBeenSaved:!1}),this.listenTo(this._uploadsCollection,"change:status",a).listenTo(this._uploadsCollection,"add",s).listenTo(this._uploadsCollection,"remove",r),i.call(this),this.addUploads(e.uploads)},addUploads:function(e){this._uploadsCollection.add(e)},getUploadsCollection:function(){return this._uploadsCollection},getUploads:function(){return this._uploadsCollection.models},remove:function(){this._uploadsCollection.remove(this.getUploads()),this.destroy()}},{hashFn:function(e,t){function n(e){return e.resource_id}return t&&t.resource_id||e&&(e.uploads&&e.uploads.length&&e.uploads.map(n).join("_")||e.id||e.resource_id)||null},onCleanup:function(e){e._uploadsCollection.remove(e.getUploads()),e._uploadsCollection.release()}})},function(e,t,n){"use strict";function i(e,t){t[e]("data",s,this)}function s(){a.assign(this,this._statuses.reduce(o,{latest:0,totalSize:0})),this._statuses.length&&this.latest===this.totalSize&&r.call(this),this.trigger("data")}function r(){this._statuses.forEach(i.bind(this,"off")),this._statuses.length=0,s.call(this)}function o(e,t){return e.latest+=t.latest,e.totalSize+=t.totalSize,e}var a=n(3),l=n(772);e.exports=l.extend({_statuses:null,initialize:function(){this._statuses=[]},add:a.noop,addTransfer:function(e){this._statuses.push(e),i.call(this,"on",e),s.call(this)},removeTransfer:function(e){var t=this._statuses.indexOf(e);t>-1&&(this._statuses.splice(t,1),i.call(this,"off",e),s.call(this))}})},function(e,t,n){"use strict";function i(e){return a(e,g,{resource_id:e.resource_id})}function s(e){var t=a(e,g,{resource_id:e.resource_id});return h.getDataFromFile(e.get("file")).done(t.set.bind(t)),t}function r(e){var t=a(e,p,{resource_id:e.resource_id}),n=e.getUploads().map(s);return t.addSoundForms(n),l(t),t}function o(e,t){var n=new e(null,t);return n.release(),n}function a(e,t,n){var i=o(t,n);return i.setFileUpload(e),i}function l(e){var t=new c;t.add(e,{at:0}),t.release()}var u,c=n(251),d=n(22),h=n(1078),p=n(414),f=n(771),g=n(198),m=n(180);e.exports={addFiles:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.toPlaylistUploadId,o=t.replaceSoundUploadId;u||(u=new m);var a,c=!n&&e.length>1&&f.getUploadAsPlaylist()&&!d.get("me").isCPPEnabled();if(c){var h=u.addFiles(e,{asPlaylist:c});a=u.addUploadsAsAggregate(h)}else if(n){var h=u.addFiles(e,{toPlaylistUploadId:n});a=u.addUploadsToAggregate(h,n)}else o?u.addFiles(e,{replaceSoundUploadId:o}).forEach(i):u.addFiles(e).map(s).forEach(l);a&&r(a)}}},function(e,t,n){(function(t){"use strict";function i(e){return 400===e.status&&"RequestTimeout"===s(e.responseXML)}function s(e){return t(e).find("Error Code").text()}function r(e,t){function n(){r=e().done(u.resolve.bind(u)).progress(u.notify).fail(s)}function i(e){a.options.giveUp=0===e.status?1/0:o}function s(e){0===e.status||t(e)?(i(e),a.failed()):u.reject()}var r,o=3,a=new l({giveUp:o}),u=c.defer(),d=u.promise();return a.on("giveup",u.reject),a.on("enabled",n),u.always(function(){a.dispose()}),n(),d.abort=function(){r.abort(),u.reject()},d}function o(e){return function(){var t=c.defer(),n=t.promise(),i=t.notify,s=a.toArray(arguments).concat(i),r=e.apply(this,s);return r.then(t.resolve,t.reject),n.abort=r.abort,n}}var a=n(3),l=n(147),u=n(136),c=n(66),d=n(67);e.exports=u.extend({upload:function(e){var t,n,s,a,l;return t=this.presign(e),n=o(this.uploadFile),l=this.resolveWith,a=t.then(function(t){return s=r(function(){return n(e,t)},i),s.then(function(){return l(t)})}),a.abort=function(){t.abort(),s&&s.abort()},a},presign:function(){return t.ajax({url:"upload/policy",dataType:"json",cache:!1})},uploadFile:function(e,n,i){var s,r;return r=d.stringify({scheme:"https",host:n.bucket+".s3.amazonaws.com"}),s=new window.FormData,a.each(n,function(e,t){s.append(t,e)}),s.append("file",e),t.ajax({url:r,type:"POST",data:s,processData:!1,contentType:!1,dataType:"xml",timeout:0,progress:i})},resolveWith:function(e){return e.key}})}).call(t,n(1))},function(e,t,n){"use strict";var i=n(97),s=new i("upload-settings");e.exports={getUploadAsPlaylist:function(){var e=s.get("asPlaylist");return void 0===e?!0:e},toggleUploadAsPlaylist:function(){s.set("asPlaylist",!this.getUploadAsPlaylist())}}},function(e,t,n){"use strict";var i=n(27),s=n(136);e.exports=s.extend([i.Events,{latest:0,totalSize:0,initialize:function(e){e||(e={}),this.totalSize=e.totalSize||0},isIndeterminate:function(){return!this.totalSize},add:function(e){return e!==this.latest&&(this.latest=e,this.trigger("data")),this},setTotal:function(e){if(this.totalSize!==e){var t=!this.totalSize||!e;this.totalSize=e,t&&this.trigger("change:indeterminate",this.isIndeterminate())}return this},getValue:function(){return this.latest},getProgress:function(){return this.totalSize?this.latest/this.totalSize:0},getTotalSize:function(){return this.totalSize}}])},,,,,,,,,,,,function(e,t,n){"use strict";var i=n(3),s=n(101),r=n(70),o=n(87),a=n(68),l=n(67),u=n(72);e.exports=u.extend({submodelMap:{comment:s,playlist:o,promoted_by:a,track:r,user:a},baseUrl:function(){var e=this.get("uuid"),t={path:["me/activities/tracks"]};return t.query={cursor:e,limit:1},l.stringify(t)},parse:function(e){return e.collection?e.collection[0]:e},createSubmodel:function(){var e,t=i.last(this._submodels);u.prototype.createSubmodel.apply(this,arguments),e=i.last(this._submodels),e!==t&&this.listenTo(e,"destroy",this.onSubmodelDestroy)},onSubmodelDestroy:function(){this.destroy()},getSound:function(){var e,t;switch(this.get("type")){case"track":case"track-like":case"track-repost":case"track-sharing":case"track-promoted":e=this.get("track").id,t=r;break;case"comment":e=this.get("comment").track.id,t=r;break;case"playlist":case"playlist-like":case"playlist-repost":case"playlist-sharing":case"playlist-promoted":e=this.get("playlist").id,t=o}return e?t.instances.get(e):null},equivalentTo:function(e){return this.get("uuid")===e.get("uuid")},getUuid:function(){return this.get("uuid")||this.id},isPromoted:function(){var e=this.get("type");return"track-promoted"===e||"playlist-promoted"===e}},{convert:function(e,t){var n,s,r,o={};if(s=(e.get||function(e){return this[e]}).bind(e),s("type")&&s("created_at")&&(s("track")||s("playlist"))&&(n={uuid:i.uniqueId(),type:s("type").replace(/_/g,"-"),created_at:s("created_at"),tags:"affiliated"},r=s("track"),r?n.track=r:n.playlist=s("playlist"),t))try{o=t.toJSON()}finally{n.user=o}return n},hashFn:function(){return null}})},function(e,t,n){"use strict";var i=n(25),s=n(72),r=n(67);e.exports=s.extend({resource_type:"announcement",defaults:{dismissable:!0},baseUrl:function(){return r.stringify({path:["announcements",this.id]})},fetch:function(){},dismiss:function(){this.destroy()},isNew:function(){return!i.isLoggedIn()||!this.get("dismissable")}})},function(e,t,n){"use strict";var i=n(72),s=n(67);e.exports=i.extend({resource_type:"app",baseUrl:function(){return s.stringify({path:["apps",this.id]})}})},,,,function(e,t,n){"use strict";var i=n(3),s=n(171);e.exports=s.extend({baseUrl:function(){return"me/followers/"},setRemote:i.noop})},function(e,t,n){"use strict";var i=n(67),s=n(171);e.exports=s.extend({soundId:null,readPathSuffix:"",CREATE:"POST",setup:function(e,t){s.prototype.setup.apply(this,arguments),this.soundId=t.soundId},parse:function(e){var t=e.collection,n={};return this.next_href=e.next_href||!1,t&&t.length&&t.forEach(function(e){n[e.id]=!0}),n},url:function(e,t){switch(t){case"CREATE":return i.joinPath(["groups",e,"contributions"]);case"DELETE":return i.joinPath(["groups",e,"contributions",this.soundId]);default:return null!==this.next_href?this.next_href:i.stringify({path:["tracks",this.soundId,"groups"],query:{representation:"mini",linked_partitioning:1,limit:5e3}})}},getRequestData:function(e,t){return"CREATE"===t?{track:{id:this.soundId}}:null},getAjaxOptions:function(e,t){return"DELETE"===t?{contentType:"application/json",headers:{Accept:"application/json"},dataType:null}:void 0}},{neverRelease:!1,hashFn:function(e,t){return t.soundId}})},function(e,t,n){"use strict";var i=n(3),s=n(25),r=n(171),o=n(67);e.exports=r.extend({baseUrl:"me/groups",CREATE:"POST",url:function(e,t){var n=i.result(this,"baseUrl");return e&&"CREATE"===t?this.saveUrl(e):e&&"DELETE"===t?this.destroyUrl(e):null===this.next_href?o.modify(n,{query:{representation:"mini",linked_partitioning:1,limit:5e3}}):this.next_href},parse:function(e){var t=e.collection,n={};return this.next_href=e.next_href||!1,t&&t.length&&t.forEach(function(e){n[e.id]=!0}),n},destroyUrl:function(e){return o.joinPath(["groups",e,"members",s.currentUserId()])},saveUrl:function(e){return o.joinPath(["groups",e,"members"])}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(19,function(e){i=n(1011);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(27,function(e){i=n(1012);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(21,function(e){i=n(1013);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(10,function(e){i=n(1014);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(33,function(e){i=n(1015);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(15,function(e){i=n(1016);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(31,function(e){i=n(1017);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(23,function(e){i=n(1018);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(16,function(e){i=n(1019);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(22,function(e){i=n(1020);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(4,function(e){i=n(1021);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(8,function(e){i=n(1022);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(9,function(e){i=n(1023);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(25,function(e){i=n(1024);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(37,function(e){i=n(1025);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(36,function(e){i=n(1026);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(26,function(e){i=n(1027);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(20,function(e){i=n(1028);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(35,function(e){i=n(1029);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(7,function(e){i=n(1030);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(28,function(e){i=n(1031);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(17,function(e){i=n(1032);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(5,function(e){i=n(1033);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(30,function(e){i=n(1034);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(6,function(e){i=n(1035);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(24,function(e){i=n(1036);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(13,function(e){i=n(1037);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(32,function(e){i=n(1038);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(14,function(e){i=n(1039);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(11,function(e){i=n(1040);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(34,function(e){i=n(1041);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(12,function(e){i=n(1042);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(18,function(e){i=n(1043);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(3,function(e){i=n(1044);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},function(e,t,n){var i,s=[];e.exports=function(e){s?s.push(e):e(i)},n.e(29,function(e){i=n(1045);var t=s;s=null;for(var r=0,o=t.length;o>r;r++)t[r](i)})},,,,,function(e,t,n){e.exports=n.p+"assets/images/empty-states/stream-d2c2a1.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/stream@2x-fab0f8.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/tracks-b8fba9.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/tracks@2x-59b77a.png"},function(e,t,n){e.exports=n.p+"assets/images/failed-25974f.png"},function(e,t,n){e.exports=n.p+"assets/images/failed@2x-0ba158.png"},function(e,t,n){e.exports=n.p+"assets/images/header/cloud-e365a4.png"},function(e,t,n){e.exports=n.p+"assets/images/header/cloud@2x-e5fba4.png"},function(e,t,n){e.exports=n.p+"assets/images/header/query-suggestion-ed120c.svg"},function(e,t,n){e.exports=n.p+"assets/images/header/search-dbfe5c.svg"},function(e,t,n){e.exports=n.p+"assets/images/header/wordmark-d95b0a.png"},function(e,t,n){e.exports=n.p+"assets/images/header/wordmark@2x-8fdb34.png"},function(e,t,n){e.exports=n.p+"assets/images/notifications/error-18e777.png"},function(e,t,n){e.exports=n.p+"assets/images/notifications/good-248c30.png"},function(e,t,n){e.exports=n.p+"assets/images/notifications/good@2x-2dda7c.png"},function(e,t,n){e.exports=n.p+"assets/images/playback/volume-max-7a4115.svg"},function(e,t,n){e.exports=n.p+"assets/images/playback/volume-medium-ca80e5.svg"},function(e,t,n){e.exports=n.p+"assets/images/playback/volume-muted-624fac.svg"},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-collection">\n  <div class="l-nav">\n\n  </div>\n  <div class="l-main">\n\n  </div>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-main"></div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-front">\n  <div class="l-front-hero l-inner-fullwidth">\n\n  </div>\n  <div class="l-front-content">\n\n  </div>\n  <div class="l-front-mobile-teaser">\n\n  </div>\n  <div class="l-front-osc-teaser">\n\n  </div>\n  <div class="l-front-signup-teaser">\n\n  </div>\n  <div class="l-front-footer">\n\n  </div>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-messages-left sc-border-box"></div>\n<div class="l-messages-top g-z-index-content"></div>\n<div class="l-messages-main"></div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-banner l-inner-fullwidth"></div>\n<div class="l-listen-hero"></div>\n<div class="l-engagement"></div>\n<div class="l-main"></div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-banner l-inner-fullwidth">\n\n</div>\n<div class="listen-content">\n\n</div>\n<div class="l-three-column listen-about">\n  <div class="l-sidebar-left">\n\n  </div>\n  <div class="l-main sc-border-light-right">\n\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-search l-fixed-fluid">\n  <div class="l-fixed-top">\n\n  </div>\n  <div class="l-fixed-left">\n\n  </div>\n  <div class="l-main">\n\n  </div>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-banner l-inner-fullwidth">\n\n</div>\n<div class="l-user-hero">\n\n</div>\n<div class="l-vertical-bar">\n\n</div>\n<div class="l-fluid-fixed">\n  <div class="l-main l-user-main sc-border-light-right">\n\n  </div>\n  <div class="l-sidebar-right l-user-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-one-column">\n  <div class="l-main">\n\n  </div>\n</div>\n'},useData:!0})},,function(e,t){e.exports=[{id:"Pacific/Midway",name:"International Date Line West",utc_offset:-39600},{id:"Pacific/Midway",name:"Midway Island",utc_offset:-39600},{id:"Pacific/Pago_Pago",name:"Samoa",utc_offset:-39600},{id:"Pacific/Honolulu",name:"Hawaii",utc_offset:-36e3},{id:"America/Juneau",name:"Alaska",utc_offset:-32400},{id:"America/Los_Angeles",name:"Pacific Time (US & Canada)",utc_offset:-28800},{id:"America/Tijuana",name:"Tijuana",utc_offset:-28800},{id:"America/Phoenix",name:"Arizona",utc_offset:-25200},{id:"America/Chihuahua",name:"Chihuahua",utc_offset:-25200},{id:"America/Mazatlan",name:"Mazatlan",utc_offset:-25200},{id:"America/Denver",name:"Mountain Time (US & Canada)",utc_offset:-25200},{id:"America/Guatemala",name:"Central America",utc_offset:-21600},{id:"America/Chicago",name:"Central Time (US & Canada)",utc_offset:-21600},{id:"America/Mexico_City",name:"Guadalajara",utc_offset:-21600},{id:"America/Mexico_City",name:"Mexico City",utc_offset:-21600},{id:"America/Monterrey",name:"Monterrey",utc_offset:-21600},{id:"America/Regina",name:"Saskatchewan",utc_offset:-21600},{id:"America/Bogota",name:"Bogota",utc_offset:-18e3},{id:"America/New_York",name:"Eastern Time (US & Canada)",utc_offset:-18e3},{id:"America/Indiana/Indianapolis",name:"Indiana (East)",utc_offset:-18e3},{id:"America/Lima",name:"Lima",utc_offset:-18e3},{id:"America/Lima",name:"Quito",utc_offset:-18e3},{id:"America/Caracas",name:"Caracas",utc_offset:-16200},{id:"America/Halifax",name:"Atlantic Time (Canada)",utc_offset:-14400},{id:"America/La_Paz",name:"La Paz",utc_offset:-14400},{id:"America/Santiago",name:"Santiago",utc_offset:-14400},{id:"America/St_Johns",name:"Newfoundland",utc_offset:-12600},{id:"America/Sao_Paulo",name:"Brasilia",utc_offset:-10800},{id:"America/Argentina/Buenos_Aires",name:"Buenos Aires",utc_offset:-10800},{id:"America/Argentina/San_Juan",name:"Georgetown",utc_offset:-10800},{id:"America/Godthab",name:"Greenland",utc_offset:-10800},{id:"Atlantic/South_Georgia",name:"Mid-Atlantic",utc_offset:-7200},{id:"Atlantic/Azores",name:"Azores",utc_offset:-3600},{id:"Atlantic/Cape_Verde",name:"Cape Verde Is.",utc_offset:-3600},{id:"Africa/Casablanca",name:"Casablanca",utc_offset:0},{id:"Europe/Dublin",name:"Dublin",utc_offset:0},{id:"Europe/Dublin",name:"Edinburgh",utc_offset:0},{id:"Europe/Lisbon",name:"Lisbon",utc_offset:0},{id:"Europe/London",name:"London",utc_offset:0},{id:"Africa/Monrovia",name:"Monrovia",utc_offset:0},{id:"Etc/UTC",name:"UTC",utc_offset:0},{id:"Europe/Amsterdam",name:"Amsterdam",utc_offset:3600},{id:"Europe/Belgrade",name:"Belgrade",utc_offset:3600},{id:"Europe/Berlin",name:"Berlin",utc_offset:3600},{id:"Europe/Berlin",name:"Bern",utc_offset:3600},{id:"Europe/Bratislava",name:"Bratislava",utc_offset:3600},{id:"Europe/Brussels",name:"Brussels",utc_offset:3600},{id:"Europe/Budapest",name:"Budapest",utc_offset:3600},{id:"Europe/Copenhagen",name:"Copenhagen",utc_offset:3600},{id:"Europe/Ljubljana",name:"Ljubljana",utc_offset:3600},{id:"Europe/Madrid",name:"Madrid",utc_offset:3600},{id:"Europe/Paris",name:"Paris",utc_offset:3600},{id:"Europe/Prague",name:"Prague",utc_offset:3600},{id:"Europe/Rome",name:"Rome",utc_offset:3600},{id:"Europe/Sarajevo",name:"Sarajevo",utc_offset:3600},{id:"Europe/Skopje",name:"Skopje",utc_offset:3600},{id:"Europe/Stockholm",name:"Stockholm",utc_offset:3600},{id:"Europe/Vienna",name:"Vienna",utc_offset:3600},{id:"Europe/Warsaw",name:"Warsaw",utc_offset:3600},{id:"Africa/Algiers",name:"West Central Africa",utc_offset:3600},{id:"Europe/Zagreb",name:"Zagreb",utc_offset:3600},{id:"Europe/Athens",name:"Athens",utc_offset:7200},{id:"Europe/Bucharest",name:"Bucharest",utc_offset:7200},{id:"Africa/Cairo",name:"Cairo",utc_offset:7200},{id:"Africa/Harare",name:"Harare",utc_offset:7200},{id:"Europe/Helsinki",name:"Helsinki",utc_offset:7200},{id:"Europe/Istanbul",name:"Istanbul",utc_offset:7200},{id:"Asia/Jerusalem",name:"Jerusalem",utc_offset:7200},{id:"Europe/Kiev",name:"Kyev",utc_offset:7200},{id:"Europe/Minsk",name:"Minsk",utc_offset:7200},{id:"Africa/Johannesburg",name:"Pretoria",utc_offset:7200},{id:"Europe/Riga",name:"Riga",utc_offset:7200},{id:"Europe/Sofia",name:"Sofia",utc_offset:7200},{id:"Europe/Tallinn",name:"Tallinn",utc_offset:7200},{id:"Europe/Vilnius",name:"Vilnius",utc_offset:7200},{id:"Asia/Baghdad",name:"Baghdad",utc_offset:10800},{id:"Asia/Kuwait",name:"Kuwait",utc_offset:10800},{id:"Europe/Moscow",name:"Moscow",utc_offset:10800},{id:"Africa/Nairobi",name:"Nairobi",utc_offset:10800},{id:"Asia/Riyadh",name:"Riyadh",utc_offset:10800},{id:"Europe/Moscow",name:"St. Petersburg",utc_offset:10800},{id:"Europe/Moscow",name:"Volgograd",utc_offset:10800},{id:"Asia/Tehran",name:"Tehran",utc_offset:12600},{id:"Asia/Muscat",name:"Abu Dhabi",utc_offset:14400},{id:"Asia/Baku",name:"Baku",utc_offset:14400},{id:"Asia/Muscat",name:"Muscat",utc_offset:14400},{id:"Asia/Tbilisi",name:"Tbilisi",utc_offset:14400},{id:"Asia/Yerevan",name:"Yerevan",utc_offset:14400},{id:"Asia/Kabul",name:"Kabul",utc_offset:16200},{id:"Asia/Yekaterinburg",name:"Ekaterinburg",utc_offset:18e3},{id:"Asia/Karachi",name:"Islamabad",utc_offset:18e3},{id:"Asia/Karachi",name:"Karachi",utc_offset:18e3},{id:"Asia/Tashkent",name:"Tashkent",utc_offset:18e3},{id:"Asia/Kolkata",name:"Chennai",utc_offset:19800},{id:"Asia/Kolkata",name:"Kolkata",utc_offset:19800},{id:"Asia/Kolkata",name:"Mumbai",utc_offset:19800},{id:"Asia/Kolkata",name:"New Delhi",utc_offset:19800},{id:"Asia/Colombo",name:"Sri Jayawardenepura",utc_offset:19800},{id:"Asia/Katmandu",name:"Kathmandu",utc_offset:20700},{id:"Asia/Almaty",name:"Almaty",utc_offset:21600},{id:"Asia/Dhaka",name:"Astana",utc_offset:21600},{id:"Asia/Dhaka",name:"Dhaka",utc_offset:21600},{id:"Asia/Novosibirsk",name:"Novosibirsk",utc_offset:21600},{id:"Asia/Rangoon",name:"Rangoon",utc_offset:23400},{id:"Asia/Bangkok",name:"Bangkok",utc_offset:25200},{id:"Asia/Bangkok",name:"Hanoi",utc_offset:25200},{id:"Asia/Jakarta",name:"Jakarta",utc_offset:25200},{id:"Asia/Krasnoyarsk",name:"Krasnoyarsk",utc_offset:25200},{id:"Asia/Shanghai",name:"Beijing",utc_offset:28800},{id:"Asia/Chongqing",name:"Chongqing",utc_offset:28800},{id:"Asia/Hong_Kong",name:"Hong Kong",utc_offset:28800},{id:"Asia/Irkutsk",name:"Irkutsk",utc_offset:28800},{id:"Asia/Kuala_Lumpur",name:"Kuala Lumpur",utc_offset:28800},{id:"Australia/Perth",name:"Perth",utc_offset:28800},{id:"Asia/Singapore",name:"Singapore",utc_offset:28800},{id:"Asia/Taipei",name:"Taipei",utc_offset:28800},{id:"Asia/Ulaanbaatar",name:"Ulaan Bataar",utc_offset:28800},{id:"Asia/Urumqi",name:"Urumqi",utc_offset:28800},{id:"Asia/Tokyo",name:"Osaka",utc_offset:32400},{id:"Asia/Tokyo",name:"Sapporo",utc_offset:32400},{id:"Asia/Seoul",name:"Seoul",utc_offset:32400},{id:"Asia/Tokyo",name:"Tokyo",utc_offset:32400},{id:"Asia/Yakutsk",name:"Yakutsk",utc_offset:32400},{id:"Australia/Adelaide",name:"Adelaide",utc_offset:34200},{id:"Australia/Darwin",name:"Darwin",utc_offset:34200},{id:"Australia/Brisbane",name:"Brisbane",utc_offset:36e3},{id:"Australia/Melbourne",name:"Canberra",utc_offset:36e3},{id:"Pacific/Guam",name:"Guam",utc_offset:36e3},{id:"Australia/Hobart",name:"Hobart",utc_offset:36e3},{id:"Australia/Melbourne",name:"Melbourne",utc_offset:36e3},{id:"Pacific/Port_Moresby",name:"Port Moresby",utc_offset:36e3},{id:"Australia/Sydney",name:"Sydney",utc_offset:36e3},{id:"Asia/Vladivostok",name:"Vladivostok",utc_offset:36e3},{id:"Asia/Magadan",name:"Magadan",utc_offset:39600},{id:"Pacific/Noumea",name:"New Caledonia",utc_offset:39600},{id:"Asia/Magadan",name:"Solomon Is.",utc_offset:39600},{id:"Pacific/Auckland",name:"Auckland",utc_offset:43200},{id:"Pacific/Fiji",name:"Fiji",utc_offset:43200},{id:"Asia/Kamchatka",name:"Kamchatka",utc_offset:43200},{id:"Pacific/Majuro",name:"Marshall Is.",utc_offset:43200},{id:"Pacific/Auckland",name:"Wellington",utc_offset:43200},{id:"Pacific/Tongatapu",name:"Nuku'alofa",utc_offset:46800}]},function(e,t,n){(function(t){"use strict";function i(e,t){return 1===arguments.length?s(e):r(e,t)}function s(e){return JSON.parse(c.getItem(e))}function r(e,t){try{return c.setItem(e,JSON.stringify(t)),!0}catch(n){return!1}}function o(e){return c.removeItem(e)}function a(){return c.clear()}var l=n(2337),u=n(2338),c="localStorage"in t&&t.localStorage?t.localStorage:l;i.set=r,i.get=s,i.remove=o,i.clear=a,i.on=u.on,i.off=u.off,e.exports=i}).call(t,function(){return this}())},function(e,t,n){function i(e){return function(t){return null==t?void 0:t[e]}}function s(e){return null!=e&&o(_(e))}function r(e,t){return e="number"==typeof e||p.test(e)?+e:-1,t=null==t?v:t,e>-1&&e%1==0&&t>e}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function a(e){for(var t=u(e),n=t.length,i=n&&e.length,s=!!i&&o(i)&&(h(e)||d(e)),a=-1,l=[];++a<n;){var c=t[a];(s&&r(c,i)||g.call(e,c))&&l.push(c)}return l}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&o(t)&&(h(e)||d(e))&&t||0;for(var n=e.constructor,i=-1,s="function"==typeof n&&n.prototype===e,a=Array(t),u=t>0;++i<t;)a[i]=i+"";for(var c in e)u&&r(c,t)||"constructor"==c&&(s||!g.call(e,c))||a.push(c);return a}var c=n(2343),d=n(2345),h=n(2346),p=/^\d+$/,f=Object.prototype,g=f.hasOwnProperty,m=c(Object,"keys"),v=9007199254740991,_=i("length"),y=m?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&s(e)?a(e):l(e)?m(e):[];
}:a;e.exports=y},function(e,t,n){var i=n(1511);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1512);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1513);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1514);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1516);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1517);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1518);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1520);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},,,,,,,,,,function(e,t,n){function i(e){return n(s(e))}function s(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./activity":848,"./activity.js":848,"./charts":849,"./charts.js":849,"./collection":850,"./collection.css":918,"./collection.js":850,"./collection.tmpl":905,"./consumer-premium":851,"./consumer-premium.js":851,"./consumer-premium.tmpl":906,"./error":852,"./error.js":852,"./front":853,"./front.js":853,"./front.tmpl":907,"./group":855,"./group-network":854,"./group-network.js":854,"./group.js":855,"./inbox":856,"./inbox.css":919,"./inbox.js":856,"./inbox.tmpl":908,"./listen":858,"./listen-blocked.tmpl":909,"./listen-network":857,"./listen-network.js":857,"./listen-promoted.css":920,"./listen-promoted.tmpl":910,"./listen.css":921,"./listen.js":858,"./listen.tmpl":599,"./logout":859,"./logout.js":859,"./mobile":860,"./mobile.js":860,"./onboarding":861,"./onboarding.js":861,"./password-reset-success":862,"./password-reset-success.js":862,"./people":864,"./people-directory":863,"./people-directory.js":863,"./people.js":864,"./personal-recommended":865,"./personal-recommended.js":865,"./popular-searches":866,"./popular-searches.js":866,"./premium":867,"./premium.css":645,"./premium.js":867,"./premium.tmpl":600,"./purchased":868,"./purchased.js":868,"./search":869,"./search.css":922,"./search.js":869,"./search.tmpl":911,"./settings":870,"./settings.css":923,"./settings.js":870,"./static-page":871,"./static-page.js":871,"./stats":872,"./stats.js":872,"./stream":873,"./stream-explore.tmpl":358,"./stream.js":873,"./subscriptions":874,"./subscriptions.js":874,"./tags":875,"./tags.js":875,"./track-manager":876,"./track-manager.js":876,"./track-stats":877,"./track-stats.js":877,"./two-column-sound-hero.css":924,"./two-column-sound-hero.tmpl":2001,"./unsubscribed":878,"./unsubscribed.js":878,"./upload":879,"./upload.css":2357,"./upload.js":879,"./user":881,"./user-network":880,"./user-network.js":880,"./user.css":925,"./user.js":881,"./user.tmpl":912,"./widgets":882,"./widgets.js":882};i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=935},,,,function(e,t,n){var i=n(64);e.exports=function(e,t){return i.dateTimeHelper.timecode(e,t.hash)}},function(e,t){e.exports={collectionPlaylists:{service:"api-v2",path:"users/:id/playlists/liked_and_owned"},me:{service:"api-v2",path:"me"},meConnections:{service:"public-api",path:"me/connections"},meRightsholders:{service:"api-v2",path:"me/rightsholders"},meUpdate:{service:"api-v2",path:"me",method:"put"},paymentQuotations:{service:"api-v2",path:"/payments/quotations/:category"},playlistsForTrack:{service:"api-v2",path:"tracks/:trackId/playlists"},stream:{service:"api-v2",path:"stream"},streamUserProfile:{service:"api-v2",path:"stream/users/:id"},streamUserReposts:{service:"api-v2",path:"stream/users/:id/reposts"},streamNotifications:{service:"api-v2",path:"stream/notifications"},territoriesWhichRequireExplicitRightsholder:{service:"api-v2",path:"/tracks/explicit-rightsholder-required-in"},track:{service:"api-v2",path:"tracks/:urn"},trackAsOwner:{service:"api-v2",path:"tracks/:urn",query:{representation:"owner"}},trackBatch:{service:"api-v2",path:"tracks"},trackCreate:{service:"api-v2",path:"tracks"},trackDelete:{service:"public-api",path:"tracks/:id",method:"delete"},trackImageUpdate:{service:"public-api",path:"tracks/:id",method:"put"},trackPatchUpdate:{service:"public-api",path:"tracks/:id",method:"put"},trackRegisterPlayback:{service:"public-api",path:"tracks/:id/plays"},trackStreams:{service:"public-api",path:"i1/tracks/:id/streams"},trackUpdate:{service:"api-v2",path:"tracks/:urn"},trinityPublish:{service:"public-api",path:"/tpub/publish"},trinitySubscribe:{service:"public-api",path:"/tsub/subscribe"},user:{service:"public-api",path:"users/:id"},userAsOwner:{service:"api-v2",path:"users/:urn",query:{representation:"owner"}},userComments:{service:"public-api",path:"users/:id/comments"},userDelete:{service:"api-v2",path:"users/:urn/deletion",method:"post"},userEmails:{service:"api-v2",path:"users/:id/emails"},userEmailCreate:{service:"api-v2",path:"users/:user_id/emails",method:"post"},userEmailDelete:{service:"api-v2",path:"users/:user_id/emails/:id",method:"delete"},userEmailResendConfirmation:{service:"api-v2",path:"users/:user_id/emails/:id/confirmation",method:"post"},userEmailUpdate:{service:"api-v2",path:"users/:user_id/emails/:id",method:"put"},userFollowers:{service:"public-api",path:"users/:id/followers"},userFollowersFollowedBy:{service:"public-api",path:"users/:id/followers/followed_by/:followed_by"},userFollowings:{service:"public-api",path:"users/:id/followings"},userFollowingsNotFollowedBy:{service:"public-api",path:"users/:id/followings/not_followed_by/:not_followed_by"},userGroups:{service:"public-api",path:"users/:id/groups",query:{representation:"mini"}},userImageUpdate:{service:"public-api",path:"users/:id",method:"put"},userLikes:{service:"api-v2",path:"users/:id/likes"},userPlaylists:{service:"api-v2",path:"users/:id/playlists"},userResetPassword:{service:"api-v2",path:"users/:id/password_reset",method:"post"},userSpotlight:{service:"api-v2",path:"users/:id/spotlight"},userTracks:{service:"api-v2",path:"users/:id/tracks"},userNotificationsPreferences:{service:"api-v2",path:"users/:id/notifications/preferences"},userWebProfiles:{service:"api-v2",path:"users/:urn/web-profiles",method:"get"},userWebProfilesUpdate:{service:"api-v2",path:"users/:urn/web-profiles",method:"post"},charts:{service:"api-v2",path:"charts",method:"get"},search:{service:"api-v2",path:"search",method:"get"},searchCategory:{service:"api-v2",path:"search/:category",method:"get"}}},function(e,t){var n,i;n=["free","lite","solo","pro","pro-plus","creator-pro","creator-pro-unlimited"],i={customBuyTitle:[!1,!0,!0,!0,!0,!0,!0],quietMode:[!1,!0,!0,!0,!0,!0,!0],fileReplace:[!1,!0,!0,!0,!0,!0,!0],planLevel:[0,1,2,2,2,1,2],spotlight:[!1,!0,!0,!0,!0,!0,!0],stats:[0,1,2,2,2,1,2],visuals:[!1,!0,!0,!0,!0,!0,!0],widgets:[!1,!0,!0,!0,!0,!0,!0],widgetOptions:[!1,!1,!1,!1,!0,!1,!0],adFree:[!1,!0,!0,!0,!0,!0,!0]};e.exports={get:function(e,t){return i[t][n.indexOf(e)]}}},function(e,t,n){function i(e){return o.isFunction(e.toJSON)?e.toJSON():e}function s(e){return e.replace(/^https?:.+?\w\//,"/")}function r(e,t){return t&&(t.metric&&(e.push(t.metric),t.from&&t.to&&e.push(t.from,t.to)),t.expanded&&e.push("expanded")),e}var o=n(3),a=n(22),l=n(697),u=n(307);e.exports={listen:function(e,t){if(e=i(e),"playlist"===e.kind)return this.getRoute("playlist",e,t);var n,r={};return t=t?"/comment-"+t:"",e._playlist&&e._playlist.id&&(n=e._playlist.permalink_url.replace(/\/s-[a-zA-Z0-9]{5}$/,""),r.query={"in":s(n).substr(1)+(this.includeSecretTokenForPlaylist(e._playlist)?"/"+e._playlist.secret_token:"")}),r.path=e.user?"/"+e.user.permalink+"/"+e.permalink+t+(this.includeSecretTokenForSound(e)?"/"+e.secret_token:""):s(e.permalink_url+t),l.stringify(r)},listenNetwork:function(e,t,n){e=i(e);var r={};return"related"===t&&(t="recommended"),r.path=e.user?"/"+e.user.permalink+"/"+e.permalink+(this.includeSecretTokenForSound(e)?"/"+e.secret_token:""):s(e.permalink_url),r.path+="/"+t+("comments"===t&&n?"/"+n:""),l.stringify(r)},groupNetwork:function(e,t){return"/groups/"+i(e).permalink+"/"+t},soundEdit:function(e){return e=i(e),"/"+l.stringify({path:[e.user.permalink,e.permalink,"edit-classic"]})},playlistEdit:function(e){return e=i(e),"/"+l.stringify({path:[e.user.permalink,"sets",e.permalink,"edit"]})},playlist:function(e){return e=i(e),e.user?"/"+e.user.permalink+"/sets/"+e.permalink+(this.includeSecretTokenForPlaylist(e)?"/"+e.secret_token:""):s(e.permalink_url)},playlistNetwork:function(e,t){e=i(e);var n={};return n.path=e.user?"/"+e.user.permalink+"/sets/"+e.permalink+(this.includeSecretTokenForPlaylist(e)?"/"+e.secret_token:""):s(e.permalink_url),n.path+="/"+t,l.stringify(n)},user:function(e,t){return e=i(e),"/"+e.permalink+(t?"/"+t:"")},userNetwork:function(e,t){return e=i(e),"/"+e.permalink+"/"+t},group:function(e){return e?(e=i(e),"/groups"+(e.permalink?"/"+e.permalink:"")):"/groups"},groups:function(){return"/groups"},root:function(){return"/"},explore:function(e){return e=(e||"").toLowerCase(),"/"+l.stringify({path:["explore",e]})},charts:function(e,t){return"/"+l.stringify({path:["charts",o.findWhere(u.kinds,{id:e||u.defaultKind}).urlPart],query:{genre:t}})},people:function(e){return"/"+l.stringify({path:["people",e]})},peopleDirectory:function(e){return"/people/directory"+(e?"/"+e:"")},popularSearches:function(e){return"/popular/searches"+(e?"/"+e:"")},pages:function(e){return"/"+e},embedPage:function(){return"/pages/embed"},emailUnsubscribedPage:function(){return"/pages/unsubscribed"},pagesPages:function(e){return"/pages/"+e},pressPages:function(e){return(e||"").replace(/^(\/?press\/|\/?)/,"/press/")},tags:function(e){return l.stringify({path:"/tags/"+e.toLowerCase()})},search:function(e,t,n){var i="high_tier"===e?"go":e;return"/"+l.stringify({path:["search",i],query:o.assign({q:t},n)})},activity:function(){return"/notifications"},stream:function(e){return"/stream"+(e?"/"+e:"")},logout:function(){return"/logout"},mobile:function(e){return"/mobile"+(e?"/"+e:"")},upload:function(){return"/upload"},onboarding:function(){return"/welcome"},youNetwork:function(e,t){return"/you/"+t},messages:function(e){return"/messages"+(e?"/"+e:"")},premium:function(e,t,n){var i=["pro",e];return t&&i.push("buy",t),"/"+l.stringify({path:i,query:{ref:n}})},redeem:function(e){return"/pro/redeem/"+e},purchased:function(e){var t=e.indexOf("gift")>-1?"gifts":"",n=e.replace(/(gift|creator)-/,"");return"/pro/purchased/"+l.stringify({path:[t,n]})},consumerPremium:function(e){var t=["go"];return"/"+l.stringify({path:t,query:{ref:e}})},consumerPremiumCheckout:function(e,t){var n=["go","buy",e];return"/"+l.stringify({path:n,query:{ref:t}})},consumerPremiumPurchased:function(e,t){var n=["go","purchased",e];return"/"+l.stringify({path:n,query:{ref:t}})},settings:function(e){return"/"+l.stringify({path:["settings",e]})},v1:function(e,t){return t=t||"","/"+e+t},stats:function(e){var t=[a.get("me").get("permalink"),"stats"];return"/"+l.joinPath(r(t,e))},"track-stats":function(e,t){e=i(e);var n=[e.user.permalink,e.permalink,"stats"];return"/"+l.joinPath(r(n,t))},recommended:function(){return"/recommended"}}},,function(e,t){e.exports={user:{likes:{permalink_url:":permalink_url/likes",uri:":uri/favorites"},spotlight:{permalink_url:":permalink_url",uri:":uri/spotlight"}}}},function(e,t,n){var i=n(3),s=/^[es|fr]/,r={en:"English (US)",pt_BR:"Português (Brasil)"},o={en_GB:"English (UK)",es:"Español",fr:"Français"},a=i.extend({},r,o),l=i.keys(r),u=i.keys(a),c=i.keys(o);e.exports={defaultLocale:"en",publicLanguages:r,publicLanguageCodes:l,experimentalLanguages:o,experimentalLanguageCodes:c,experimentalAndPublicLanguages:a,experimentalAndPublicLanguageCodes:u,isLocaleExperimental:function(e){var t=s.test(e);return t||c.indexOf(e)>-1},normalizeLocale:function(e){return s.test(e)?e.substr(0,2):e}}},function(e,t,n){function i(e){return e&&(e.attributes||e)}function s(e,t){var n="visuals"===e?h.availableVisualsSizes:h.availableSizes,i=u.find(n,function(e){return e[0]>=t})||u.last(n);return"t20x20"===i[1]&&"artworks"===e?"tiny":i[1]}function r(e){if(e){var t,n;for(t=0,n=e.length;n>t;++t)if(!h.isDefaultImage(e[t].artwork_url))return e[t].artwork_url}return null}function o(e){h.imageUrlRegex.lastIndex=0;var t,n=h.imageUrlRegex.exec(e);return n&&(t=n[3].charCodeAt(0)%4+1,1!==t&&(e=e.replace("//i1.","//i"+t+"."))),e}var a=n(308),l=n(309),u=n(3),c=/^http:/,d=/default/,h=e.exports={tagOptions:{whitelist:["alt","class","height","itemprop","src","title","width"]},availableSizes:[[20,"t20x20"],[50,"t50x50"],[120,"t120x120"],[200,"t200x200"],[500,"t500x500"]],availableVisualsSizes:[[1240,"t1240x260"],[2480,"t2480x520"]],imageUrlRegex:/^.*\/(\w+)-0*([a-z0-9]+)-([a-z0-9]+)?-([a-z0-9]+)\.jpg.*$/i,markup:function(e,t){var n=this.getMarkupAttrs(e,t);return a.getMarkup("img",n,this.tagOptions)},getMarkupAttrs:function(e,t){return e=i(e),u.assign({src:this.urlFrom(e,t.size),width:t.size,height:t.size,alt:this.getAltText(e)},t)},urlFrom:function(e,t,n){e=i(e);var s=e&&(e.artwork_url||e.avatar_url||r(e.tracks)||e.user&&e.user.avatar_url);return s=s?s.replace(c,"https:"):"",this.setFormat(s,t,n)},setFormat:function(e,t,n){if(this.isDefaultImage(e))return"";h.imageUrlRegex.lastIndex=0;var i=h.imageUrlRegex.exec(e);if(i){var r=i[1],a=i[4],l=s(r,t);l&&(e=e.replace(a,l)),n&&(e=o(e))}return e},isDefaultImage:function(e){return!e||d.test(e)},getAltText:function(e){return e=i(e),e?e.username?l.get(e,!0)+" avatar":l.get(e):""}}},,function(e,t,n){var i=n(55).Deferred,s=4;e.exports=function(e){var t,n,r,o,a,l,u,c;e&&(r=e.data||null,n=e.url||"",t=e.type||"GET",o=e.dataType||"text",a=e.async,l=e.timeout,u=e.beforeSend||null);var d=i();a=a!==!1;var h=new XMLHttpRequest;return h.open(t,n,a),a&&(h.responseType="text"),u&&u(h),h.onreadystatechange=function(){if(h.readyState===s)if(clearTimeout(c),0!==h.status&&h.status<400){var e=h.responseText;if("json"===o)try{e=JSON.parse(e)}catch(t){return void d.reject(h)}d.resolve(e)}else d.reject(h)},null!=l&&(c=setTimeout(function(){h.readyState!==s&&(h.abort(),d.reject(h))},l)),h.send(r),d.promise()}},function(e,t){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),i=e[t[0]];return function(e,t,s){i.apply(this,[e,t,s].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){var i,s=n(1),r=n(12),o=n(14),a=n(38),l=n(43),u=n(39),c=n(16),d=n(42),h=n(117),p=n(118);e.exports=i=function(e){e=e||{},this._players={},this._volume=1,this._mute=!1,this.States=a,this.Errors=l,this._settings=r({},e,i.defaults)},i.MimeTypes=p,i.Protocols=h,i.Events=u,i.States=a,i.Errors=l,i.BrowserUtils=c,i.defaults={flashAudioPath:"flashAudio.swf",flashLoadTimeout:2e3,flashObjectID:"flashAudioObject",audioObjectID:"html5AudioObject",updateInterval:50,bufferTime:8e3,maxBufferTime:9e4,bufferingDelay:500,streamUrlProvider:null,debug:!1},i.capabilities=d.names,i.createDefaultMediaDescriptor=function(e,t,n){if(!e||!t||!t.length)throw new Error("invalid input to create media descriptor");return n||(n=0),{id:e,src:t,duration:n,forceSingle:!1,forceFlash:!1,forceHTML5:!1,forceCustomHLS:!1,mimeType:void 0}},i.prototype.getAudioPlayer=function(e){return this._players[e]},i.prototype.hasAudioPlayer=function(e){return void 0!==this._players[e]},i.prototype.removeAudioPlayer=function(e){this.hasAudioPlayer(e)&&delete this._players[e]},i.prototype.setVolume=function(e){e=Math.min(1,e),this._volume=Math.max(0,e);for(var t in this._players)this._players.hasOwnProperty(t)&&this._players[t].setVolume(this._volume)},i.prototype.getVolume=function(){return this._volume},i.prototype.setMute=function(e){this._muted=e;for(var t in this._players)this._players.hasOwnProperty(t)&&this._players[t].setMute(this._muted)},i.prototype.getMute=function(){return this._muted},i.prototype.createAudioPlayer=function(e,t){var n,i=s({},this._settings,t);if(!e)throw"AudioManager: No media descriptor object passed, can`t build any player";if(e.id||(e.id=Math.floor(1e10*Math.random()).toString()+(new Date).getTime().toString()),!e.src)throw new Error("AudioManager: You need to pass a valid media source URL");if(!this._players[e.id]){if(n=o.createAudioPlayer(e,i),!n)throw new Error("AudioManager: No player could be created from the given descriptor");this._players[e.id]=n}return this._players[e.id].setVolume(this._volume),this._players[e.id].setMute(this._muted),this._players[e.id].on(u.STATE_CHANGE,this._onStateChange,this),this._players[e.id]},i.prototype._onStateChange=function(e,t){t.getState()===a.DEAD&&this.removeAudioPlayer(t.getId())}},function(e,t,n){function i(e,t,n){for(var i=-1,s=o(t),r=s.length;++i<r;){var a=s[i],l=e[a],u=n(l,t[a],a,e,t);(u===u?u===l:l!==l)&&(void 0!==l||a in e)||(e[a]=u)}return e}var s=n(2),r=n(8),o=n(4),a=r(function(e,t,n){return n?i(e,t,n):s(e,t)});e.exports=a},[119,3,4],function(e,t){function n(e,t,n){n||(n={});for(var i=-1,s=t.length;++i<s;){var r=t[i];n[r]=e[r]}return n}e.exports=n},[120,5,6,7],function(e,t){function n(e){return!!e&&"object"==typeof e}function i(e,t){var n=null==e?void 0:e[t];return o(n)?n:void 0}function s(e){return r(e)&&h.call(e)==a}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){return null==e?!1:s(e)?p.test(c.call(e)):n(e)&&l.test(e)}var a="[object Function]",l=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,d=u.hasOwnProperty,h=u.toString,p=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},function(e,t){function n(e){return!!e&&"object"==typeof e}function i(e){return function(t){return null==t?void 0:t[e]}}function s(e){return null!=e&&r(d(e))}function r(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}function o(e){return n(e)&&s(e)&&l.call(e,"callee")&&!u.call(e,"callee")}var a=Object.prototype,l=a.hasOwnProperty,u=a.propertyIsEnumerable,c=9007199254740991,d=i("length");e.exports=o},function(e,t){function n(e){return!!e&&"object"==typeof e}function i(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function r(e){return o(e)&&f.call(e)==u}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:r(e)?g.test(h.call(e)):n(e)&&c.test(e)}var l="[object Array]",u="[object Function]",c=/^\[object .+?Constructor\]$/,d=Object.prototype,h=Function.prototype.toString,p=d.hasOwnProperty,f=d.toString,g=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=i(Array,"isArray"),v=9007199254740991,_=m||function(e){return n(e)&&s(e.length)&&f.call(e)==l};e.exports=_},function(e,t,n){function i(e){return o(function(t,n){var i=-1,o=null==t?0:n.length,a=o>2?n[o-2]:void 0,l=o>2?n[2]:void 0,u=o>1?n[o-1]:void 0;for("function"==typeof a?(a=s(a,u,5),o-=2):(a="function"==typeof u?u:void 0,o-=a?1:0),l&&r(n[0],n[1],l)&&(a=3>o?void 0:a,o=1);++i<o;){var c=n[i];c&&e(t,c,a)}return t})}var s=n(9),r=n(10),o=n(11);e.exports=i},function(e,t){function n(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,s){return e.call(t,n,i,s)};case 4:return function(n,i,s,r){return e.call(t,n,i,s,r)};case 5:return function(n,i,s,r,o){return e.call(t,n,i,s,r,o)}}return function(){return e.apply(t,arguments)}}function i(e){return e}e.exports=n},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&o(c(e))}function s(e,t){return e="number"==typeof e||l.test(e)?+e:-1,t=null==t?u:t,e>-1&&e%1==0&&t>e}function r(e,t,n){if(!a(n))return!1;var r=typeof t;if("number"==r?i(n)&&s(t,n.length):"string"==r&&t in n){var o=n[t];return e===e?e===o:o!==o}return!1}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&u>=e}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l=/^\d+$/,u=9007199254740991,c=n("length");e.exports=r},function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(i);return t=s(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=s(n.length-t,0),o=Array(r);++i<r;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Array(t+1);for(i=-1;++i<t;)a[i]=n[i];return a[t]=o,e.apply(this,a)}}var i="Expected a function",s=Math.max;e.exports=n},function(e,t,n){function i(e,t){return void 0===e?t:e}function s(e,t){return o(function(n){var i=n[0];return null==i?i:(n.push(t),e.apply(void 0,n))})}var r=n(1),o=n(13),a=s(r,i);e.exports=a},11,function(e,t,n){e.exports=n(15)},function(e,t,n){var i,s=n(16),r=n(17),o=n(45),a=n(49),l=n(46),u=n(48),c=n(50),d=n(118);e.exports=i=function(){},i.createAudioPlayer=function(e,t){var n;if(n=e.src.split(":")[0],("rtmp"===n||"rtmpt"===n||e.forceFlash)&&!e.forceHTML5)return new r(e,t);if(e.mimeType=i.getMimeType(e),e.mimeType===d.M3U8){if(s.isMSESupportMPEG()||s.isMSESupportMP4())return new c(e,t);if(s.isNativeHlsSupported()&&!e.forceCustomHLS)return s.isMobile()||e.forceSingle?new a(e,t):new o(e,t)}else{if(s.supportHTML5Audio()&&s.canPlayType(e.mimeType)||e.forceHTML5)return s.isMobile()||e.forceSingle?new u(e,t):new l(e,t);if(e.mimeType===d.MP3)return new r(e,t)}return null},i.getMimeType=function(e){if(e.mimeType)return e.mimeType;var t=e.src.split("?")[0];return t=t.substring(t.lastIndexOf(".")+1,t.length),d.getTypeByExtension(t)}},function(e,t){function n(){return!(!window.MediaSource&&!window.WebKitMediaSource)}e.exports={supportHTML5Audio:function(){var e;try{if(window.HTMLAudioElement&&"undefined"!=typeof Audio)return e=new Audio,!0}catch(t){return!1}},createAudioElement:function(){var e=document.createElement("audio");return e.setAttribute("msAudioCategory","BackgroundCapableMedia"),e.mozAudioChannelType="content",e},isMobile:function(e){var t=window.navigator.userAgent,n=["mobile","iPhone","iPad","iPod","Android","Skyfire"];return n.some(function(e){return e=new RegExp(e,"i"),e.test(t)})},isIE10Mobile:function(){return/IEmobile\/10\.0/gi.test(navigator.userAgent)},canPlayType:function(e){var t=document.createElement("audio");return t&&t.canPlayType&&t.canPlayType(e).match(/maybe|probably/i)?!0:!1},isNativeHlsSupported:function(){var e,t,n,i=navigator.userAgent,s=["iPhone","iPad","iPod"];return e=function(e){return e.test(i)},t=!e(/chrome/i)&&!e(/opera/i)&&e(/safari/i),n=s.some(function(t){return e(new RegExp(t,"i"))}),n||t},isMSESupported:n,isMSESupportMPEG:function(){return n()&&MediaSource.isTypeSupported("audio/mpeg")},isMSESupportMP4:function(){return n()&&MediaSource.isTypeSupported("audio/mp4")},isOnLine:function(){return window.navigator.onLine!==!1}}},function(e,t,n){function i(e,t){a.call(this,"FlashAudioProxy",e,t),i.players[e.id]=this,this._errorMessage=null,this._errorID=null,this._volume=1,this._muted=!1,i.creatingFlashAudio||(i.flashAudio?this._createFlashAudio():i.createFlashObject(t))}var s=n(1),r=n(18),o=n(29),a=n(35),l=n(39),u=n(43),c=n(38),d=n(44);e.exports=i,s(i.prototype,a.prototype),i.players={},i.createFlashObject=function(e){i.creatingFlashAudio=!0,i.containerElement=document.createElement("div"),i.containerElement.setAttribute("id",e.flashObjectID+"-container"),i.flashElementTarget=document.createElement("div"),i.flashElementTarget.setAttribute("id",e.flashObjectID+"-target"),i.containerElement.appendChild(i.flashElementTarget),document.body.appendChild(i.containerElement);var t=function(t){if(t.success)i.flashAudio=document.getElementById(e.flashObjectID),window.setTimeout(function(){if(i.flashAudio&&!("PercentLoaded"in i.flashAudio))for(var e in i.players)i.players.hasOwnProperty(e)&&(i.players[e]._errorID=u.FLASH_PROXY_FLASH_BLOCKED,i.players[e]._errorMessage="Flash object blocked",i.players[e]._setState(c.ERROR),i.players[e]._logger.type=i.players[e].getType(),i.players[e]._logger.log(i.players[e]._errorMessage))},e.flashLoadTimeout),i.flashAudio.triggerEvent=function(e,t){i.players[e]._triggerEvent(t)},i.flashAudio.onPositionChange=function(e,t,n,s){i.players[e]._onPositionChange(t,n,s)},i.flashAudio.onDebug=function(e,t,n){i.players[e]._logger.type=t,i.players[e]._logger.log(n)},i.flashAudio.onStateChange=function(e,t){i.players[e]._setState(t),t===c.DEAD&&delete i.players[e]},i.flashAudio.onInit=function(e){i.creatingFlashAudio=!1,r(o(i.players),"_createFlashAudio")};else for(var n in i.players)i.players.hasOwnProperty(n)&&(i.players[n]._errorID=u.FLASH_PROXY_CANT_LOAD_FLASH,i.players[n]._errorMessage="Cannot create flash object",i.players[n]._setState(c.ERROR))};document.getElementById(e.flashObjectID)||d.embedSWF(e.flashAudioPath,e.flashObjectID+"-target","1","1","9.0.24","",{json:encodeURIComponent(JSON.stringify(e))},{allowscriptaccess:"always"},{id:e.flashObjectID,tabIndex:"-1"},t)},i._ready=function(){return i.flashAudio&&!i.creatingFlashAudio},i.prototype._createFlashAudio=function(){i.flashAudio.createAudio(this.getDescriptor()),this._state=i.flashAudio.getState(this.getId()),this.setVolume(this._volume),this.setMute(this._muted)},i.prototype._triggerEvent=function(e){this._logger.log("Flash element triggered event: "+e),this.trigger(e,this)},i.prototype._setState=function(e){this._state!==e&&(this._state=e,this.trigger(l.STATE_CHANGE,e,this))},i.prototype._onPositionChange=function(e,t,n){this.trigger(l.POSITION_CHANGE,e,t,n,this)},i.prototype.getType=function(){return i._ready()?i.flashAudio.getType(this.getId()):this._type},i.prototype.getContainerElement=function(){return i.containerElement},i.prototype.play=function(e){if(i._ready()){if(this.getState()===c.PAUSED)return void this.resume();e=void 0===e?0:e,i.flashAudio.playAudio(this.getId(),e)}},i.prototype.pause=function(){i._ready()&&i.flashAudio.pauseAudio(this.getId())},i.prototype.seek=function(e){i._ready()&&i.flashAudio.seekAudio(this.getId(),e)},i.prototype.resume=function(){i._ready()&&i.flashAudio.resumeAudio(this.getId())},i.prototype.setVolume=function(e){this._volume=e,i._ready()&&i.flashAudio.setVolume(this.getId(),e)},i.prototype.getVolume=function(){return i._ready()?i.flashAudio.getVolume(this.getId()):this._volume},i.prototype.setMute=function(e){this._muted=e,i._ready()&&i.flashAudio.setMute(this.getId(),e)},i.prototype.getMute=function(){return i._ready()?i.flashAudio.getMute(this.getId()):this._muted},i.prototype.getState=function(){return this._state},i.prototype.getCurrentPosition=function(){return i._ready()?i.flashAudio.getCurrentPosition(this.getId()):0},i.prototype.getLoadedPosition=function(){return i._ready()?i.flashAudio.getLoadedPosition(this.getId()):0},i.prototype.getDuration=function(){return i._ready()?i.flashAudio.getDuration(this.getId()):0},i.prototype.kill=function(){return i._ready()?void i.flashAudio.killAudio(this.getId()):0},i.prototype.getErrorMessage=function(){return this._errorMessage?this._errorMessage:i.flashAudio.getErrorMessage(this.getId())},i.prototype.getErrorID=function(){return this._errorID?this._errorID:i.flashAudio.getErrorID(this.getId())},i.prototype.getLevelNum=function(){return i._ready()?i.flashAudio.getLevelNum(this.getId()):0},i.prototype.getLevel=function(){return i._ready()?i.flashAudio.getLevel(this.getId()):0},i.prototype.setLevel=function(e){return i._ready()?i.flashAudio.setLevel(this.getId(),e):0}},function(e,t,n){function i(e){return function(t){return null==t?void 0:t[e]}}function s(e){return null!=e&&o(m(e))}function r(e,t){var n=typeof e;if("string"==n&&f.test(e)||"number"==n)return!0;if(d(e))return!1;var i=!p.test(e);return i||null!=t&&e in a(t)}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&g>=e}function a(e){return l(e)?e:Object(e)}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var u=n(19),c=n(24),d=n(23),h=n(28),p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,f=/^\w*$/,g=9007199254740991,m=i("length"),v=h(function(e,t,n){var i=-1,o="function"==typeof t,a=r(t),l=s(e)?Array(e.length):[];return u(e,function(e){var s=o?t:a&&null!=e?e[t]:void 0;l[++i]=s?s.apply(e,n):c(e,t,n)}),l});e.exports=v},[121,20],[120,21,22,23],5,6,7,function(e,t,n){function i(e,t,n){null==e||s(t,e)||(t=c(t),e=1==t.length?e:l(e,u(t,0,-1)),t=o(t));var i=null==e?e:e[t];return null==i?void 0:i.apply(e,n)}function s(e,t){var n=typeof e;if("string"==n&&p.test(e)||"number"==n)return!0;if(d(e))return!1;var i=!h.test(e);return i||null!=t&&e in r(t)}function r(e){return a(e)?e:Object(e)}function o(e){var t=e?e.length:0;return t?e[t-1]:void 0}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l=n(25),u=n(26),c=n(27),d=n(23),h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,p=/^\w*$/;e.exports=i},function(e,t){function n(e,t,n){if(null!=e){void 0!==n&&n in i(e)&&(t=[n]);for(var s=0,r=t.length;null!=e&&r>s;)e=e[t[s++]];return s&&s==r?e:void 0}}function i(e){return s(e)?e:Object(e)}function s(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t){function n(e,t,n){var i=-1,s=e.length;t=null==t?0:+t||0,0>t&&(t=-t>s?0:s+t),n=void 0===n||n>s?s:+n||0,0>n&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(s);++i<s;)r[i]=e[i+t];return r}e.exports=n},function(e,t,n){function i(e){return null==e?"":e+""}function s(e){if(r(e))return e;var t=[];return i(e).replace(o,function(e,n,i,s){t.push(i?s.replace(a,"$1"):n||e)}),t}var r=n(23),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=/\\(\\)?/g;e.exports=s},11,function(e,t,n){function i(e){return s(e,r(e))}var s=n(30),r=n(31);e.exports=i},function(e,t){function n(e,t){for(var n=-1,i=t.length,s=Array(i);++n<i;)s[n]=e[t[n]];return s}e.exports=n},[120,32,33,34],5,6,7,function(e,t,n){function i(e,t,n,i){this._type=e,this._id=t.id,this._descriptor=t,this._settings=n,this._currentPosition=this._loadedPosition=this._duration=0,this._capabilities=s({},u.createDefaults(),i),this._logger=new l(this.getType(),this.getId(),t.title,n);try{u.validate(this.getCapabilities())}catch(r){return this.getLogger().log("Bad caps: "+r),void this.updateState(o.ERROR)}this.updateState(o.INITIALIZE)}var s=n(1),r=n(36),o=n(38),a=n(39),l=n(40),u=n(42);e.exports=i,s(i.prototype,r),i.prototype.canPlay=function(){return!1},i.prototype.getCapabilities=function(){return this._capabilities},i.prototype.getLogger=function(){return this._logger},i.prototype.getSettings=function(){return this._settings},i.prototype.getDescriptor=function(){return this._descriptor},i.prototype.getType=function(){return this._type},i.prototype.getId=function(){return this._id+""},i.prototype.beforeStateChange=function(e,t){return!0},i.prototype.notifyStateChange=function(e,t){return!0},i.prototype.afterStateChange=function(e,t){},i.prototype.updateState=function(e){var t=this._state;t!==e&&t!==o.DEAD&&this.beforeStateChange(t,e)&&(this._state=e,this._logger.log('state changed "'+this.getState()+'", position: '+this.getCurrentPosition()+", duration: "+this.getDuration()),this.notifyStateChange(t,e)&&this.trigger(a.STATE_CHANGE,e,this),this.afterStateChange(t,e))},i.prototype.getState=function(){return this._state},i.prototype._isInOneOfStates=function(){for(var e in arguments)if(arguments[e]===this.getState())return!0;return!1},i.prototype.getCurrentPosition=function(){return this._currentPosition},i.prototype.getLoadedPosition=function(){return this._loadedPosition},i.prototype.getDuration=function(){return this._duration},i.prototype._mediaHasProgressed=function(){var e=!1,t=Date.now();if(this._lastMediaClockCheck){var n=t-this._lastMediaClockCheck,i=this._currentPosition-this._lastMediaClockValue;if(.1*n>i){if(this.getState()===o.PLAYING&&0===i&&n<this._settings.bufferingDelay)return!0;e=!0}}return this._lastMediaClockValue=this._currentPosition,this._lastMediaClockCheck=t,!e}},function(e,t,n){e.exports=n(37)},function(e,t,n){!function(){function n(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");
var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++a+"";return e?e+t:t},has:function(e,t){return r.call(e,t)},each:function(e,t,n){if(null!=e)if(s&&e.forEach===s)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,r=e.length;r>i;i++)t.call(n,e[i],i,e);else for(var o in e)this.has(e,o)&&t.call(n,e[o],o,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}var i,s=Array.prototype.forEach,r=Object.prototype.hasOwnProperty,o=Array.prototype.slice,a=0,l=n();i={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var i=this,s=l.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,n)},off:function(e,t,n){var i,s,r,o,a,u,d,h;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(o=e?[e]:l.keys(this._events),a=0,u=o.length;u>a;a++)if(e=o[a],r=this._events[e]){if(this._events[e]=i=[],t||n)for(d=0,h=r.length;h>d;d++)s=r[d],(t&&t!==s.callback&&t!==s.callback._callback||n&&n!==s.context)&&i.push(s);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&d(n,t),i&&d(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var s=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var r in i)i[r].off(t,n,this),s&&delete this._listeners[r];return this}};var u=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var s in n)e[t].apply(e,[s,n[s]].concat(i));return!1}if(u.test(n)){for(var r=n.split(u),o=0,a=r.length;a>o;o++)e[t].apply(e,[r[o]].concat(i));return!1}return!0},d=function(e,t){var n,i=-1,s=e.length,r=t[0],o=t[1],a=t[2];switch(t.length){case 0:for(;++i<s;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r,o);return;case 3:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r,o,a);return;default:for(;++i<s;)(n=e[i]).callback.apply(n.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};l.each(h,function(e,t){i[t]=function(t,n,i){var s=this._listeners||(this._listeners={}),r=t._listenerId||(t._listenerId=l.uniqueId("l"));return s[r]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),i.bind=i.on,i.unbind=i.off,i.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return l.each(t,function(t){e[t]=this[t]},this),e},"undefined"!=typeof e&&e.exports&&(t=e.exports=i),t.BackboneEvents=i}(this)},function(e,t){e.exports={PLAYING:"playing",LOADING:"loading",SEEKING:"seeking",PAUSED:"paused",ERROR:"error",IDLE:"idle",INITIALIZE:"initialize",ENDED:"ended",DEAD:"dead"}},function(e,t){e.exports={POSITION_CHANGE:"position-change",STATE_CHANGE:"state-change",DATA:"data",NETWORK_TIMEOUT:"network-timeout",METADATA:"metadata"}},function(e,t,n){var i,s=n(41),r=null;e.exports=function(e,t,n,o){if(!i&&(i=s({enabled:!!o.debug,buffer:!0,label:"audiomanager"}),r)){var a=i;i=function(){a(r(arguments[0]+"%s",Array.prototype.slice.call(arguments,1)))}}return n=n&&n.length?" ["+n.replace(/\s/g,"").substr(0,6)+"]":"",{log:i.bind(null,"%s (%s)%s",e,t,n)}}},function(e,t){"use strict";function n(){function e(e,n){if(p){for(var i=arguments.length,s=Array(i>2?i-2:0),r=2;i>r;r++)s[r-2]=arguments[r];"string"==typeof n?n=" "+n:(s.unshift(n),n="");var o=[t()+" | "+A+(k?"%c":"")+n].concat(E,s);m?T.push({level:e,logArgs:o})>x&&T.shift():h[e].apply(h,o)}}function t(){var e=new Date,t=null===S?0:e-S,n=k?"%c":"";return S=+e,n+i(e)+(n+" ("+n)+s("+"+t+"ms"," ",8)+(n+")")}function n(e){return e.enable=function(){p=!0},e.disable=function(){p=!1},e.bufferOn=function(){m=!0},e.bufferOff=function(){m=!1,T.length=0},e.flush=u()?function(){T.forEach(function(e){var t=e.level,n=e.logArgs;h[t].apply(h,n)}),T.length=0}:function(){},e}var r=c.apply(void 0,arguments),o=r.enabled,p=void 0===o?!0:o,g=r.buffer,m=void 0===g?!1:g,v=r.label,_=void 0===v?"":v,y=r.plainOutput,b=void 0===y?!1:y,w=r.bufferSize,x=void 0===w?1e3:w;if(!u())return n(d.reduce(function(e,t){return e[t]=e},function(){}));h.CL||(h.CL={_cssCounter:0});var k=!b&&l(),S=null,T=[],A=a(_,k),E=k?["color: green","color: grey","color: blue","color: grey",f(_),""]:[],C=h.CL[_]=n(d.reduce(function(t,n){return t[n]=e.bind(null,n),t},e.bind(null,"log")));return C}function i(e){return r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+"."+s(e.getMilliseconds(),"0",3)}function s(e,t,n){return o(t,n-(""+e).length)+e}function r(e){return s(e,"0",2)}function o(e,t){return t>0?new Array(t+1).join(e):""}function a(e,t){return(t?"%c":"")+(e?e:"")}function l(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent;return/chrome|firefox|opr/i.test(e)&&!/msie|edge/i.test(e)}function u(){return h&&d.every(function(e){return"function"==typeof h[e]})}function c(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return"object"==typeof e&&e||{enabled:e,label:t}}e.exports=n;var d=["log","info","warn","error"],h="undefined"!=typeof console?console:null,p=["color:#fff","border-radius:3px","padding:2px 4px","font-family:sans-serif","text-transform:uppercase","font-size:9px"].join(";")+";",f=function(){var e=["#51613C","#447848","#486E5F","#787444","#6E664E"];return function(t){return t?"background:"+e[h.CL._cssCounter++%e.length]+";"+p:""}}()},function(e,t){function n(e){for(var t in s)if(s.hasOwnProperty(t)&&void 0===e[s[t]])throw new Error("Caps lack required field: "+t);if(!(e[s.PROTOCOLS]instanceof Array))throw new Error("Caps protocols must be an array");if(!(e[s.MIMETYPES]instanceof Array))throw new Error("Caps mimetypes must be an array");return!0}function i(){var e={};return e[s.MIMETYPES]=[],e[s.PROTOCOLS]=[],e[s.AUDIO_ONLY]=!0,e[s.CAN_SEEK_ALWAYS]=!0,e[s.NEEDS_URL_REFRESH]=!0,e}var s={MIMETYPES:"mimetypes",PROTOCOLS:"protocols",AUDIO_ONLY:"audioOnly",CAN_SEEK_ALWAYS:"canSeekAlways",NEEDS_URL_REFRESH:"needsUrlRefresh"},r={createDefaults:i,names:s,validate:n};e.exports=r},function(e,t){e.exports={FLASH_HLS_PLAYLIST_NOT_FOUND:"HLS_PLAYLIST_NOT_FOUND",FLASH_HLS_PLAYLIST_SECURITY_ERROR:"HLS_SECURITY_ERROR",FLASH_HLS_NOT_VALID_PLAYLIST:"HLS_NOT_VALID_PLAYLIST",FLASH_HLS_NO_TS_IN_PLAYLIST:"HLS_NO_TS_IN_PLAYLIST",FLASH_HLS_NO_PLAYLIST_IN_MANIFEST:"HLS_NO_PLAYLIST_IN_MANIFEST",FLASH_HLS_TS_IS_CORRUPT:"HLS_TS_IS_CORRUPT",FLASH_HLS_FLV_TAG_CORRUPT:"HLS_FLV_TAG_CORRUPT",FLASH_HTTP_FILE_NOT_FOUND:"HTTP_FILE_NOT_FOUND",FLASH_RTMP_CONNECT_FAILED:"RTMP_CONNECT_FAILED",FLASH_RTMP_CONNECT_CLOSED:"RTMP_CONNECT_CLOSED",FLASH_RTMP_CANNOT_PLAY_STREAM:"RTMP_CANNOT_PLAY_STREAM",FLASH_PROXY_CANT_LOAD_FLASH:"CANT_LOAD_FLASH",FLASH_PROXY_FLASH_BLOCKED:"FLASH_PROXY_FLASH_BLOCKED",GENERIC_AUDIO_ENDED_EARLY:"GENERIC_AUDIO_ENDED_EARLY",GENERIC_AUDIO_OVERRUN:"GENERIC_AUDIO_OVERRUN",HTML5_AUDIO_ABORTED:"HTML5_AUDIO_ABORTED",HTML5_AUDIO_NETWORK:"HTML5_AUDIO_NETWORK",HTML5_AUDIO_DECODE:"HTML5_AUDIO_DECODE",HTML5_AUDIO_SRC_NOT_SUPPORTED:"HTML5_AUDIO_SRC_NOT_SUPPORTED",MSE_BAD_OBJECT_STATE:"MSE_BAD_OBJECT_STATE",MSE_NOT_SUPPORTED:"MSE_NOT_SUPPORTED",MSE_MP3_NOT_SUPPORTED:"MSE_MP3_NOT_SUPPORTED",MSE_HLS_NOT_VALID_PLAYLIST:"MSE_HLS_NOT_VALID_PLAYLIST",MSE_HLS_PLAYLIST_NOT_FOUND:"MSE_HLS_PLAYLIST_NOT_FOUND",MSE_HLS_SEGMENT_NOT_FOUND:"MSE_HLS_SEGMENT_NOT_FOUND"}},function(e,t){function n(){if(!Y&&document.getElementsByTagName("body")[0]){try{var e,t=y("span");t.style.display="none",e=z.getElementsByTagName("body")[0].appendChild(t),e.parentNode.removeChild(e),e=null,t=null}catch(n){return}Y=!0;for(var i=V.length,s=0;i>s;s++)V[s]()}}function i(e){Y?e():V[V.length]=e}function s(e){if(typeof U.addEventListener!=L)U.addEventListener("load",e,!1);else if(typeof z.addEventListener!=L)z.addEventListener("load",e,!1);else if(typeof U.attachEvent!=L)w(U,"onload",e);else if("function"==typeof U.onload){var t=U.onload;U.onload=function(){t(),e()}}else U.onload=e}function r(){var e=z.getElementsByTagName("body")[0],t=y(F);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",R);var n=e.appendChild(t);if(n){var i=0;!function s(){if(typeof n.GetVariable!=L)try{var r=n.GetVariable("$version");r&&(r=r.split(" ")[1].split(","),Z.pv=[b(r[0]),b(r[1]),b(r[2])])}catch(a){Z.pv=[8,0,0]}else if(10>i)return i++,void window.setTimeout(s,10);e.removeChild(t),n=null,o()}()}else o()}function o(){var e=q.length;if(e>0)for(var t=0;e>t;t++){var n=q[t].id,i=q[t].callbackFn,s={success:!1,id:n};if(Z.pv[0]>0){var r=_(n);if(r)if(!x(q[t].swfVersion)||Z.wk&&Z.wk<312)if(q[t].expressInstall&&l()){var o={};o.data=q[t].expressInstall,o.width=r.getAttribute("width")||"0",o.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(o.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(o.align=r.getAttribute("align"));for(var d={},h=r.getElementsByTagName("param"),p=h.length,f=0;p>f;f++)"movie"!==h[f].getAttribute("name").toLowerCase()&&(d[h[f].getAttribute("name")]=h[f].getAttribute("value"));u(o,d,n,i)}else c(r),i&&i(s);else S(n,!0),i&&(s.success=!0,s.ref=a(n),s.id=n,i(s))}else if(S(n,!0),i){var g=a(n);g&&typeof g.SetVariable!=L&&(s.success=!0,s.ref=g,s.id=g.id),i(s)}}}function a(e){var t=null,n=_(e);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(t=typeof n.SetVariable!==L?n:n.getElementsByTagName(F)[0]||n),t}function l(){return!K&&x("6.0.65")&&(Z.win||Z.mac)&&!(Z.wk&&Z.wk<312)}function u(e,t,n,i){var s=_(n);if(n=v(n),K=!0,D=i||null,I={success:!1,id:n},s){"OBJECT"===s.nodeName.toUpperCase()?(E=d(s),C=null):(E=s,C=n),e.id=$,(typeof e.width==L||!/%$/.test(e.width)&&b(e.width)<310)&&(e.width="310"),(typeof e.height==L||!/%$/.test(e.height)&&b(e.height)<137)&&(e.height="137");var r=Z.ie?"ActiveX":"PlugIn",o="MMredirectURL="+encodeURIComponent(U.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+r+"&MMdoctitle="+encodeURIComponent(z.title.slice(0,47)+" - Flash Player Installation");if(typeof t.flashvars!=L?t.flashvars+="&"+o:t.flashvars=o,Z.ie&&4!==s.readyState){var a=y("div");n+="SWFObjectNew",a.setAttribute("id",n),s.parentNode.insertBefore(a,s),s.style.display="none",g(s)}p(e,t,n)}}function c(e){if(Z.ie&&4!==e.readyState){e.style.display="none";var t=y("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(d(e),t),g(e)}else e.parentNode.replaceChild(d(e),e)}function d(e){var t=y("div");if(Z.win&&Z.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(F)[0];if(n){var i=n.childNodes;if(i)for(var s=i.length,r=0;s>r;r++)1===i[r].nodeType&&"PARAM"===i[r].nodeName||8===i[r].nodeType||t.appendChild(i[r].cloneNode(!0))}}return t}function h(e,t){var n=y("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",n.firstChild}function p(e,t,n){var i,s=_(n);if(n=v(n),Z.wk&&Z.wk<312)return i;if(s){var r,o,a,l=y(Z.ie?"div":F);typeof e.id==L&&(e.id=n);for(a in t)t.hasOwnProperty(a)&&"movie"!==a.toLowerCase()&&f(l,a,t[a]);Z.ie&&(l=h(e.data,l.innerHTML));for(r in e)e.hasOwnProperty(r)&&(o=r.toLowerCase(),"styleclass"===o?l.setAttribute("class",e[r]):"classid"!==o&&"data"!==o&&l.setAttribute(r,e[r]));Z.ie?W[W.length]=e.id:(l.setAttribute("type",R),l.setAttribute("data",e.data)),s.parentNode.replaceChild(l,s),i=l}return i}function f(e,t,n){var i=y("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function g(e){var t=_(e);t&&"OBJECT"===t.nodeName.toUpperCase()&&(Z.ie?(t.style.display="none",function n(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode.removeChild(t)}else window.setTimeout(n,10)}()):t.parentNode.removeChild(t))}function m(e){return e&&e.nodeType&&1===e.nodeType}function v(e){return m(e)?e.id:e}function _(e){if(m(e))return e;var t=null;try{t=z.getElementById(e)}catch(n){}return t}function y(e){return z.createElement(e)}function b(e){return parseInt(e,10)}function w(e,t,n){e.attachEvent(t,n),G[G.length]=[e,t,n]}function x(e){e+="";var t=Z.pv,n=e.split(".");return n[0]=b(n[0]),n[1]=b(n[1])||0,n[2]=b(n[2])||0,t[0]>n[0]||t[0]===n[0]&&t[1]>n[1]||t[0]===n[0]&&t[1]===n[1]&&t[2]>=n[2]?!0:!1}function k(e,t,n,i){var s=z.getElementsByTagName("head")[0];if(s){var r="string"==typeof n?n:"screen";if(i&&(M=null,P=null),!M||P!==r){var o=y("style");o.setAttribute("type","text/css"),o.setAttribute("media",r),M=s.appendChild(o),Z.ie&&typeof z.styleSheets!=L&&z.styleSheets.length>0&&(M=z.styleSheets[z.styleSheets.length-1]),P=r}M&&(typeof M.addRule!=L?M.addRule(e,t):typeof z.createTextNode!=L&&M.appendChild(z.createTextNode(e+" {"+t+"}")))}}function S(e,t){if(Q){var n=t?"visible":"hidden",i=_(e);Y&&i?i.style.visibility=n:"string"==typeof e&&k("#"+e,"visibility:"+n)}}function T(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=L?encodeURIComponent(e):e}/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
		    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
		*/
var A,E,C,D,I,M,P,L="undefined",F="object",N="Shockwave Flash",O="ShockwaveFlash.ShockwaveFlash",R="application/x-shockwave-flash",$="SWFObjectExprInst",B="onreadystatechange",U=window,z=document,j=navigator,H=!1,V=[],q=[],W=[],G=[],Y=!1,K=!1,Q=!0,J=!1,Z=function(){var e=typeof z.getElementById!=L&&typeof z.getElementsByTagName!=L&&typeof z.createElement!=L,t=j.userAgent.toLowerCase(),n=j.platform.toLowerCase(),i=n?/win/.test(n):/win/.test(t),s=n?/mac/.test(n):/mac/.test(t),r=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,o="Microsoft Internet Explorer"===j.appName,a=[0,0,0],l=null;if(typeof j.plugins!=L&&typeof j.plugins[N]==F)l=j.plugins[N].description,l&&typeof j.mimeTypes!=L&&j.mimeTypes[R]&&j.mimeTypes[R].enabledPlugin&&(H=!0,o=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),a[0]=b(l.replace(/^(.*)\..*$/,"$1")),a[1]=b(l.replace(/^.*\.(.*)\s.*$/,"$1")),a[2]=/[a-zA-Z]/.test(l)?b(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof U.ActiveXObject!=L)try{var u=new ActiveXObject(O);u&&(l=u.GetVariable("$version"),l&&(o=!0,l=l.split(" ")[1].split(","),a=[b(l[0]),b(l[1]),b(l[2])]))}catch(c){}return{w3:e,pv:a,wk:r,ie:o,win:i,mac:s}}();(function(){Z.w3&&((typeof z.readyState!=L&&("complete"===z.readyState||"interactive"===z.readyState)||typeof z.readyState==L&&(z.getElementsByTagName("body")[0]||z.body))&&n(),Y||(typeof z.addEventListener!=L&&z.addEventListener("DOMContentLoaded",n,!1),Z.ie&&(z.attachEvent(B,function e(){"complete"===z.readyState&&(z.detachEvent(B,e),n())}),U===top&&!function t(){if(!Y){try{z.documentElement.doScroll("left")}catch(e){return void window.setTimeout(t,0)}n()}}()),Z.wk&&!function i(){return Y?void 0:/loaded|complete/.test(z.readyState)?void n():void window.setTimeout(i,0)}()))})();V[0]=function(){H?r():o()};(function(){Z.ie&&window.attachEvent("onunload",function(){for(var e=G.length,t=0;e>t;t++)G[t][0].detachEvent(G[t][1],G[t][2]);for(var n=W.length,i=0;n>i;i++)g(W[i]);for(var s in Z)Z[s]=null;Z=null;for(var r in A)A[r]=null;A=null})})();e.exports=A={registerObject:function(e,t,n,i){if(Z.w3&&e&&t){var s={};s.id=e,s.swfVersion=t,s.expressInstall=n,s.callbackFn=i,q[q.length]=s,S(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return Z.w3?a(e):void 0},embedSWF:function(e,t,n,s,r,o,a,c,d,h){var f=v(t),g={success:!1,id:f};Z.w3&&!(Z.wk&&Z.wk<312)&&e&&t&&n&&s&&r?(S(f,!1),i(function(){n+="",s+="";var i={};if(d&&typeof d===F)for(var m in d)i[m]=d[m];i.data=e,i.width=n,i.height=s;var v={};if(c&&typeof c===F)for(var _ in c)v[_]=c[_];if(a&&typeof a===F)for(var y in a)if(a.hasOwnProperty(y)){var b=J?encodeURIComponent(y):y,w=J?encodeURIComponent(a[y]):a[y];typeof v.flashvars!=L?v.flashvars+="&"+b+"="+w:v.flashvars=b+"="+w}if(x(r)){var k=p(i,v,t);i.id===f&&S(f,!0),g.success=!0,g.ref=k,g.id=k.id}else{if(o&&l())return i.data=o,void u(i,v,t,h);S(f,!0)}h&&h(g)})):h&&h(g)},switchOffAutoHideShow:function(){Q=!1},enableUriEncoding:function(e){J=typeof e===L?!0:e},ua:Z,getFlashPlayerVersion:function(){return{major:Z.pv[0],minor:Z.pv[1],release:Z.pv[2]}},hasFlashPlayerVersion:x,createSWF:function(e,t,n){return Z.w3?p(e,t,n):void 0},showExpressInstall:function(e,t,n,i){Z.w3&&l()&&u(e,t,n,i)},removeSWF:function(e){Z.w3&&g(e)},createCSS:function(e,t,n,i){Z.w3&&k(e,t,n,i)},addDomLoadEvent:i,addLoadEvent:s,getQueryParamValue:function(e){var t=z.location.search||z.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return T(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))===e)return T(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(K){var e=_($);e&&E&&(e.parentNode.replaceChild(E,e),C&&(S(C,!0),Z.ie&&(E.style.display="block")),D&&D(I)),K=!1}},version:"2.3"}},function(e,t,n){function i(e,t,n,i){if(n!==o&&n!==r&&void 0!==n)throw new Error("Can not use the provided base class");this._baseclass=n||r,this._baseclass.call(this,e,t,i||"HLSAudioPlayer"),this._seekPosition=0}var s=n(1),r=n(46),o=n(48),a=n(38);e.exports=i,s(i.prototype,r.prototype),i.prototype.seek=function(e){this._baseclass.prototype.seek.apply(this,arguments),this._isInOneOfStates(a.LOADING,a.SEEKING)&&(this._seekPosition=e)},i.prototype.getCurrentPosition=function(){if(this._isInOneOfStates(a.LOADING)&&this._seekPosition>0)return this._seekPosition;if(this._isInOneOfStates(a.PLAYING,a.SEEKING)){if(this._seekPosition>=this._currentPosition)return this._seekPosition;this._seekPosition=0}return this._baseclass.prototype.getCurrentPosition.apply(this,arguments)}},function(e,t,n){function i(e,t,n){this._duration=0,this._currentPosition=0,this._loadedPosition=0,u.prototype.constructor.call(this,n||"HTML5AudioPlayer",e,t),this._isLoaded=!1,this._prevCurrentPosition=0,this._prevCheckTime=0,this._positionUpdateTimer=0,this._playRequested=!1,this._startFromPosition=0,this.getDescriptor().duration&&(this._duration=this.getDescriptor().duration),this._bindHandlers(),this._initMediaElement(),this.updateState(o.IDLE)}var s=n(1),r=n(47).bindAll,o=n(38),a=n(39),l=n(43),u=n(35),c=n(16);e.exports=i,s(i.prototype,u.prototype),i.MediaAPIEvents=["ended","play","playing","pause","seeking","waiting","seeked","error","loadeddata","loadedmetadata"],i.prototype.play=function(e){return this._isInOneOfStates(o.ERROR,o.DEAD)?void this._logger.log("play called but state is ERROR or DEAD"):(this._logger.log("play from "+e),this._startFromPosition=e||0,this._playRequested=!0,this._isInOneOfStates(o.PAUSED,o.ENDED)?void this.resume():(this.updateState(o.LOADING),this._html5Audio.readyState>0&&this._onLoadedMetadata(),this._html5Audio.readyState>1&&this._onLoaded(),void(this._isLoaded?this._playAfterLoaded():this.once(a.DATA,this._playAfterLoaded))))},i.prototype.pause=function(){this._isInOneOfStates(o.ERROR,o.DEAD)||(this._logger.log("pause"),this._playRequested=!1,this._html5Audio&&this._html5Audio.pause())},i.prototype.seek=function(e){var t,n=!1,i=e/1e3,s=this._html5Audio.seekable;if(!this._isInOneOfStates(o.ERROR,o.DEAD)){if(!this._isLoaded)return this.once(a.DATA,function(){this.seek(e)}),void this._logger.log("postponing seek for when loaded");if(c.isIE10Mobile)n=!0;else for(t=0;t<s.length;t++)if(i<=s.end(t)&&i>=s.start(t)){n=!0;break}if(!n)return void this._logger.log("can not seek");this._logger.log("seek"),this.updateState(o.SEEKING),this._html5Audio.currentTime=i,this._currentPosition=e,this._lastMediaClockCheck=null}},i.prototype.resume=function(){return this._isInOneOfStates(o.ERROR,o.DEAD)?void this._logger.log("resume called but state is ERROR or DEAD"):(this._logger.log("resume"),void(this.getState()===o.PAUSED?(this.updateState(o.PLAYING),this._html5Audio.play(this._html5Audio.currentTime)):this.getState()===o.ENDED&&this._html5Audio.play(0)))},i.prototype.setVolume=function(e){this._html5Audio&&(this._html5Audio.volume=e)},i.prototype.getVolume=function(){return this._html5Audio?this._html5Audio.volume:1},i.prototype.setMute=function(e){this._html5Audio&&(this._html5Audio.muted=e)},i.prototype.getMute=function(){return this._html5Audio?this._html5Audio.muted:!1},i.prototype.kill=function(){this._state!==o.DEAD&&(this._logger.log("killing ..."),this._resetPositionInterval(!1),this._playRequested=!1,this._toggleEventListeners(!1),this.pause(),delete this._html5Audio,this.updateState(o.DEAD),this._logger.log("dead"))},i.prototype.getErrorMessage=function(){return this._errorMessage},i.prototype.getErrorID=function(){return this._errorID},i.prototype._bindHandlers=function(){r(this,["_onPositionChange","_onHtml5MediaEvent","_onLoaded","_onLoadedMetadata"])},i.prototype._initMediaElement=function(){this._html5Audio=c.createAudioElement(),this._html5Audio.id=this.getSettings().audioObjectID+"_"+this.getId(),this._html5Audio.preload="auto",this._html5Audio.type=this.getDescriptor().mimeType,this._html5Audio.src=this.getDescriptor().src,this._html5Audio.load(),this._toggleEventListeners(!0)},i.prototype._playAfterLoaded=function(){this._playRequested&&(this._trySeekToStartPosition(),this._html5Audio.play())},i.prototype._isInOneOfStates=function(){for(var e in arguments)if(arguments[e]===this._state)return!0;return!1},i.prototype._toggleEventListeners=function(e){if(this._html5Audio){var t=e?"addEventListener":"removeEventListener";i.MediaAPIEvents.forEach(function(e){switch(e){case"loadeddata":this._html5Audio[t]("loadeddata",this._onLoaded);break;case"loadedmetadata":this._html5Audio[t]("loadedmetadata",this._onLoadedMetadata);break;default:this._html5Audio[t](e,this._onHtml5MediaEvent)}},this)}},i.prototype._trySeekToStartPosition=function(){var e;return this._startFromPosition<=0?!0:(this._logger.log("seek to start position: "+this._startFromPosition),e=this._startFromPosition/1e3,this._html5Audio.currentTime=e,this._html5Audio.currentTime===e?(this._lastMediaClockCheck=null,this._currentPosition=this._startFromPosition,this._startFromPosition=0,!0):!1)},i.prototype._onLoaded=function(){this._logger.log("HTML5 media loadeddata event"),this.trigger(a.DATA,this)},i.prototype._onLoadedMetadata=function(){this._logger.log("HTML5 media loadedmetadata event"),(void 0===this._duration||0===this._duration)&&(this._duration=1e3*this._html5Audio.duration),this._loadedPosition=this._duration,this._isLoaded=!0,this.trigger(a.METADATA,this)},i.prototype._resetPositionInterval=function(e){window.clearInterval(this._positionUpdateTimer),e&&(this._positionUpdateTimer=window.setInterval(this._onPositionChange,this.getSettings().updateInterval))},i.prototype._onPositionChange=function(){if(!this._isInOneOfStates(o.DEAD)){var e;if(this._currentPosition=1e3*this._html5Audio.currentTime,this.trigger(a.POSITION_CHANGE,this.getCurrentPosition(),this._loadedPosition,this._duration,this),!this._isInOneOfStates(o.PLAYING,o.LOADING))return void(this._state===o.SEEKING&&e>0&&this.updateState(o.PLAYING));if(0!==this._duration&&(this._currentPosition>this._duration||this._currentPosition>this._loadedPosition&&!c.isIE10Mobile))return void this._onHtml5MediaEvent({type:"ended"});var t=this._mediaHasProgressed();return this.getState()!==o.PLAYING||t?void(this.getState()===o.LOADING&&t&&this.updateState(o.PLAYING)):(this._logger.log("media clock check failed, playhead is not advancing anymore"),void this.updateState(o.LOADING))}},i.prototype._onHtml5MediaEvent=function(e){switch(this._logger.log("HTML5 media event: "+e.type),e.type){case"playing":if(!this._trySeekToStartPosition())break;this._onPositionChange(),this._resetPositionInterval(!0),this.updateState(o.PLAYING);break;case"pause":this._onPositionChange(),this._resetPositionInterval(!1),this.updateState(o.PAUSED);break;case"ended":this._currentPosition=this._loadedPosition=this._duration,this._resetPositionInterval(!1),this.updateState(o.ENDED);break;case"waiting":if(this.getState()===o.SEEKING)break;this.updateState(o.LOADING);break;case"seeking":this.updateState(o.SEEKING);break;case"seeked":this._startFromPosition=0,this._html5Audio.paused?this.updateState(o.PAUSED):this.updateState(o.PLAYING),this._onPositionChange(e);break;case"error":this._error(this._html5AudioErrorCodeToErrorId(),!0)}},i.prototype._html5AudioErrorCodeToErrorId=function(){return{1:l.HTML5_AUDIO_ABORTED,2:l.HTML5_AUDIO_NETWORK,3:l.HTML5_AUDIO_DECODE,4:l.HTML5_AUDIO_SRC_NOT_SUPPORTED}[this._html5Audio.error.code]},i.prototype._error=function(e,t){var n="error: ";t&&(n="error (native): "),this._errorID=e,this._errorMessage=this._getErrorMessage(this._errorID),this._logger.log(n+this._errorID+" "+this._errorMessage),this.updateState(o.ERROR),this._toggleEventListeners(!1)},i.prototype._getErrorMessage=function(e){var t={};return t[l.HTML5_AUDIO_ABORTED]="The fetching process for the media resource was aborted by the user agent at the user's request.",t[l.HTML5_AUDIO_NETWORK]="A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.",t[l.HTML5_AUDIO_DECODE]="An error of some description occurred while decoding the media resource, after the resource was established to be usable.",t[l.HTML5_AUDIO_SRC_NOT_SUPPORTED]="The media resource indicated by the src attribute was not suitable.",t[e]}},function(e,t){function n(e,t){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n}function i(e){for(var t=[],n=0;n<e.length;n++)t.push({start:1e3*e.start(n),end:1e3*e.end(n)});return t}e.exports={bindAll:function(e,t){t.forEach(function(t){e[t]=e[t].bind(e)})},concatBuffersToUint8Array:n,timeRangesToFlatMap:i}},function(e,t,n){function i(e,t,n){l.prototype.constructor.call(this,e,t,n||"HTML5SingleAudioPlayer")}var s,r=n(1),o=n(16),a=n(39),l=n(46),u=n(38),c={};e.exports=i,r(i.prototype,l.prototype),i._onLoaded=function(e){i._pauseOthersAndForwardEvent("_onLoaded",e)},i._onLoadedMetadata=function(e){i._pauseOthersAndForwardEvent("_onLoadedMetadata",e)},i._onHtml5MediaEvent=function(e){i._pauseOthersAndForwardEvent("_onHtml5MediaEvent",e)},i._pauseOthersAndForwardEvent=function(e,t){Object.keys(c).forEach(function(n){var i=c[n];n===s?i[e](t):i.pause()})},i.prototype._initMediaElement=function(){i._html5Audio||(i._html5Audio=o.createAudioElement(),i._html5Audio.id=this.getSettings().audioObjectID+"_Single",l.prototype._toggleEventListeners.call(i,!0)),this._toggleEventListeners(!0),this._html5Audio=i._html5Audio,this._logger.log("initialized player for use with: "+this.getDescriptor().src)},i.prototype._toggleEventListeners=function(e){e?c[this.getId()]=this:delete c[this.getId()]},i.prototype.play=function(e){this._logger.log("singleton play at: "+e),(0===this._html5Audio.readyState||this.getDescriptor().src!==this._html5Audio.src)&&(this._logger.log("setting up audio element for use with: "+this.getDescriptor().src),s=this.getId(),this._isInOneOfStates(u.PAUSED)&&(this._logger.log("state was paused"),e=this._currentPosition||0),this._toggleEventListeners(!0),this._html5Audio.preload="auto",this._html5Audio.type=this.getDescriptor().mimeType,this._html5Audio.src=this.getDescriptor().src,this._html5Audio.load()),l.prototype.play.call(this,e)},i.prototype.resume=function(){return this._isInOneOfStates(u.ERROR,u.DEAD)?void 0:s!==this.getId()?void this.play(this._currentPosition):void l.prototype.resume.apply(this,arguments)},i.prototype.pause=function(){this._isInOneOfStates(u.ERROR,u.DEAD)||(this._logger.log("singleton pause"),s===this.getId()?l.prototype.pause.apply(this,arguments):(this._toggleEventListeners(!1),this._isInOneOfStates(u.PAUSED)||this.updateState(u.PAUSED),this._resetPositionInterval(!1)))},i.prototype.seek=function(e){return s!==this.getId()?(this._currentPosition=e,void this.trigger(a.POSITION_CHANGE,this._currentPosition,this._loadedPosition,this._duration,this)):void l.prototype.seek.apply(this,arguments)}},function(e,t,n){function i(e,t){r.call(this,e,t,o,"HLSSingleAudioPlayer")}var s=n(1),r=n(45),o=n(48);e.exports=i,s(i.prototype,o.prototype,r.prototype)},function(e,t,n){function i(e,t){return l.prototype.constructor.call(this,"HLSMSEPlayer",e,t,A()),r(this,["_onPositionChange","_onPlaylistLoaded","_onPlaylistFailed","_onSegmentLoaded","_onSegmentProgress","_onSegmentFailed","_onHtml5MediaEvent","_onLoadedData","_onLoadedMetadata","_onMediaSourceAppend","_onMediaSourceReady","_onMediaSourceDestroy","_onMediaSourceError"]),this._streamUrlProvider=this.getSettings().streamUrlProvider||null,this._maxBufferLength=parseInt(this.getSettings().maxBufferTime,10),this._streamUrlRetryTimer=null,this._streamUrlTimesFailed=0,this._playlistRetryTimer=null,this._playlistTimesFailed=0,this._playlistRefreshInProgress=!1,this._isPlaylistLoaded=!1,this._loadOnInit=!1,this._schedulingSegmentIndex=-1,this._segmentsDownloading=[],this._nextSchedulingTimeout=null,this._networkErrors=0,this._mimeType=E(),this._mimeType?(this._mseToolkit=new d(this._logger,this._mimeType),this._mseToolkit.on(d.Events.SEGMENT_APPENDED,this._onMediaSourceAppend),this._mseToolkit.on(d.Events.SOURCE_READY,this._onMediaSourceReady),this._mseToolkit.on(d.Events.SOURCE_DESTROY,this._onMediaSourceDestroy),this._mseToolkit.on(d.Events.SOURCE_ERROR,this._onMediaSourceError),this._hlsToolkit=new c(this._logger,this.getDescriptor().src),this._hlsToolkit.on(c.Events.SEGMENT_LOADED,this._onSegmentLoaded),this._hlsToolkit.on(c.Events.SEGMENT_PROGRESS,this._onSegmentProgress),this._hlsToolkit.on(c.Events.SEGMENT_FAILED,this._onSegmentFailed),this._hlsToolkit.on(c.Events.PLAYLIST_LOADED,this._onPlaylistLoaded),this._hlsToolkit.on(c.Events.PLAYLIST_FAILED,this._onPlaylistFailed),this._hlsToolkit.on(c.Events.PLAYLIST_PARSE_ERROR,this._onPlaylistFailed),this._html5Audio=this._mseToolkit.media(),void this._toggleEventListeners(!0)):void this._error(a.MSE_NOT_SUPPORTED)}var s=n(1),r=n(47).bindAll,o=n(39),a=n(43),l=n(35),u=n(46),c=n(51),d=n(66),h=n(67),p=n(38),f=n(42),g=n(117),m=n(118),v=n(16),_=n(47),y=200,b=500,w=3,x=1e4,k=1500,S=3,T=function(e){var t=e/w,n=b*(Math.pow(Math.E,t)/Math.E);return n+=Math.random()*y,n>x&&(n=x),n},A=function(){var e={};return e[f.names.PROTOCOLS]=[g.HLS],e[f.names.MIMETYPES]=[m.HLS,m.M3U8,m.MP3],e[f.names.NEEDS_URL_REFRESH]=!1,e},E=function(){return v.isMSESupportMPEG()&&!v.isNativeHlsSupported()?"audio/mpeg":v.isMSESupportMP4()?"audio/mp4":null};e.exports=i,s(i.prototype,l.prototype),i.prototype._onLoadedData=function(){this._logger.log("loadeddata event handler"),this._triggerDataEvent()},i.prototype._triggerDataEvent=function(){this.trigger(o.DATA,_.timeRangesToFlatMap(this._html5Audio.buffered))},i.prototype._onLoadedMetadata=function(){this._logger.log("loadedmetadata event handler")},i.prototype._onPositionChange=function(){if(this._html5Audio&&this.getState()!==p.SEEKING){this._currentPosition=1e3*this._html5Audio.currentTime;var e=this._mediaHasProgressed();return this.getState()!==p.PLAYING||e?(this.getState()===p.LOADING&&e&&this.updateState(p.PLAYING),this._triggerPositionEvent(),this._currentPosition>=this._duration?void this.updateState(p.ENDED):void 0):(this._logger.log("media clock check failed, playhead is not advancing anymore"),void this.updateState(p.LOADING))}},i.prototype._onMediaSourceReady=function(){this.getDescriptor().duration&&(this._setDuration(this.getDescriptor().duration),this._logger.log("duration set from descriptor to "+this._duration)),this.updateState(p.IDLE),this._loadOnInit&&this._loadInitialPlaylist()},i.prototype._onMediaSourceDestroy=function(){this._logger.log("MediaSource destroyed"),this.kill()},i.prototype._onMediaSourceError=function(e){this._logger.log("MediaSource API error: "+e.message),this._error(a.MSE_BAD_OBJECT_STATE),this.kill()},i.prototype._onMediaSourceAppend=function(e){this._logger.log("segment appended: "+e.index),this._triggerDataEvent(),this._loadedPosition=e.endPosition,this._playRequested&&(this._logger.log("triggering playback after appending enough segments"),this._html5Audio.play(this._currentPosition))},i.prototype._notifyNetworkTimeout=function(){this._networkErrors++,this.trigger(o.NETWORK_TIMEOUT)},i.prototype._onSegmentProgress=function(e){var t=Math.round(e.loaded/e.total*100);this._logger.log("segment "+e.index+" loaded "+e.loaded+" of "+e.total+" bytes ("+t+"%)"),this._loadedPosition=e.endPosition-e.duration*(e.loaded/e.total)},i.prototype._onSegmentLoaded=function(e,t){return t||(this._networkErrors=0),this._mseToolkit.sourceIsReady()?void this._appendSegments():void this._logger.log("we have been disposed while loading a segment, noop")},i.prototype._onSegmentFailed=function(e){switch(this._logger.log("segment loading failed handler: "+e.status),e.status){case c.Status.NOT_FOUND:case c.Status.FORBIDDEN:this._networkErrors=0,this._cancelNextScheduling(),this._cancelAllInFlightRequests(),this._refreshPlaylist();break;case c.Status.TIMEOUT:(0===this._networkErrors||v.isOnLine())&&this._refreshPlaylist(),this._notifyNetworkTimeout();case c.Status.SERVER_ERROR:if(e.aborted){this._logger.log("aborted segment has been prevented from being retried");break}e.scheduleRetry(T(e.timesFailed),this._hlsToolkit.loadSegment,this._hlsToolkit,S);break;case c.Status.FAILED:this._logger.log("WARNING: segment loading failed for unknown reason!");break;default:throw new Error("Invalid status on failed segment: "+e.status)}},i.prototype._onPlaylistLoaded=function(){return this._logger.log("playlist loaded handler"),this._mseToolkit.sourceIsReady()?(this._networkErrors=0,this._playlistTimesFailed=0,this._isPlaylistLoaded=!0,this._playlistRefreshInProgress&&(this._playlistRefreshInProgress=!1,this._cancelAllInFlightRequests(),this._cancelNextScheduling(),this._runScheduling()),this._inspectEncryptionData(),this._setDuration(this._hlsToolkit.getDuration()),this._logger.log("duration set from playlist info to "+this._duration),void this.trigger(o.METADATA)):void this._logger.log("we have been disposed while loading the playlist, noop")},i.prototype._onPlaylistFailed=function(e){return this._logger.log("playlist loading failed handler. HTTP status code is "+e),this._mseToolkit.sourceIsReady()?(this._logger.log("Playlist loading failed  "+this._playlistTimesFailed+" times before"),this._playlistTimesFailed++,this._playlistRetryTimer=window.setTimeout(function(){this.hasStreamUrlProvider()?this._refreshPlaylist():this._hlsToolkit.updatePlaylist(!0)}.bind(this),T(this._playlistTimesFailed)),void(0===e?this._notifyNetworkTimeout():this._networkErrors=0)):void this._logger.log("we have been disposed while loading the playlist, noop")},i.prototype.afterStateChange=function(e,t){switch(t){case p.PLAYING:this._runScheduling();break;case p.PAUSED:this._cancelNextScheduling(),e===p.PLAYING&&this._cancelAllInFlightRequests()}},i.prototype._onHtml5MediaEvent=function(e){switch(this._logger.log('HTML5 media event "'+e.type+'"'),this._waitingToPause=!1,e.type){case"playing":this._playRequested=!1,this._triggerPositionEvent(),this._resetPositionTimer(!0),this.updateState(p.PLAYING);break;case"pause":this._triggerPositionEvent(),this._resetPositionTimer(!1),this.updateState(p.PAUSED);break;case"ended":this._currentPosition=this._loadedPosition=this._duration,this._triggerPositionEvent(),this._resetPositionTimer(!1),this.updateState(p.ENDED);break;case"waiting":if(this.getState()===p.SEEKING)break;this.updateState(p.LOADING);break;case"seeking":this._triggerPositionEvent(),this.updateState(p.SEEKING);break;case"seeked":this._html5Audio.paused?this.updateState(p.PAUSED):this.updateState(p.PLAYING),this._triggerPositionEvent();break;case"error":this._error(this._html5AudioErrorCodeToErrorId(),!0)}},i.prototype._toggleEventListeners=function(e){if(this._html5Audio){var t=e?"addEventListener":"removeEventListener";u.MediaAPIEvents.forEach(function(e){switch(e){case"loadeddata":this._html5Audio[t]("loadeddata",this._onLoadedData);break;case"loadedmetadata":this._html5Audio[t]("loadedmetadata",this._onLoadedMetadata);break;case"timeupdate":default:this._html5Audio[t](e,this._onHtml5MediaEvent)}},this)}},i.prototype._loadInitialPlaylist=function(){this.updateState(p.LOADING),this._hlsToolkit.updatePlaylist(!0)},i.prototype._refreshPlaylist=function(){return this._playlistRefreshInProgress?void 0:(this._playlistRefreshInProgress=!0,this.hasStreamUrlProvider()?void this._streamUrlProvider().done(function(e){this._logger.log("got new M3u8 URL: "+e),this._streamUrlTimesFailed=0,this._hlsToolkit.setUri(e),this._hlsToolkit.updatePlaylist(!1)}.bind(this)).fail(function(){this._logger.log("failed to retrieve stream URL :("),this._streamUrlRetryTimer=window.setTimeout(function(){this._playlistRefreshInProgress=!1,this._refreshPlaylist()}.bind(this),T(++this._streamUrlTimesFailed))}.bind(this)):(this._logger.log("can't update playlist, got no stream URL provider"),void(this._playlistRefreshInProgress=!1)))},i.prototype._setDuration=function(e){this._duration=e;try{this._mseToolkit.duration(this._duration)}catch(t){this._onMediaSourceError(t)}},i.prototype._resetPositionTimer=function(e){window.clearInterval(this._positionUpdateTimer),e&&(this._positionUpdateTimer=window.setInterval(this._onPositionChange,this.getSettings().updateInterval))},i.prototype._triggerPositionEvent=function(){this.trigger(o.POSITION_CHANGE,this._currentPosition,this._loadedPosition,this._duration,this)},i.prototype._initTransmuxerOnce=function(e,t){if(!this._transmuxer){var n=this._mimeType!==e.mimeType?h.Configs.MP3_TO_FMP4:h.Configs.VOID;this._transmuxer=new h(n),this._transmuxer.on("segment",function(e){this._logger.log("transmuxed data ready, "+e.data.length+" bytes for segment "+e.index),t(e)}.bind(this))}},i.prototype._transmuxSegment=function(e,t){this._logger.log("transmuxing segment "+e.index),this._initTransmuxerOnce(e,t),this._transmuxer.process(e)},i.prototype._appendSegments=function(){var e=!0;this._segmentsDownloading.slice().forEach(function(t){t.isComplete()&&e?(this._decryptSegment(t),this._transmuxSegment(t,function(e){this._mseToolkit.append(e)}.bind(this)),this._segmentsDownloading.shift()):e=!1},this)},i.prototype._cancelNextScheduling=function(){this._logger.log("cancelling next scheduling"),window.clearTimeout(this._nextSchedulingTimeout),this._nextSchedulingTimeout=null},i.prototype._getBufferUntilTime=function(){return this._currentPosition+this._maxBufferLength},i.prototype._isTimeBuffered=function(e){if(!this._html5Audio)return!1;for(var t=this._html5Audio.buffered,n=e/1e3,i=0;i<t.length;i++)if(n>=t.start(i)&&n<=t.end(i))return!0;return!1},i.prototype._getCurrentSegment=function(){return this._schedulingSegmentIndex>0?this._hlsToolkit.getSegment(this._schedulingSegmentIndex):this._hlsToolkit.getSegmentForTime(this._currentPosition)},i.prototype._runScheduling=function(){function e(){var t=!1,n=this._getBufferUntilTime(),i=this._getCurrentSegment(),s=i?i.duration:Math.Infinity;if(this._logger.log("scheduling next requests, current buffer-until time: "+n+" ms"),!i)return void this._logger.log("no segment to schedule, closing loop");for(this._logger.log("current segment index: "+i.index);i.endPosition<=n;){if(this._logger.log("scheduling loop at "+this._currentPosition+" ms, current segment "+i.index),this._requestSegment(i),i.isLast){t=!0,this._logger.log("end of playlist reached");break}this._schedulingSegmentIndex=i.index+1,i=this._hlsToolkit.getSegment(this._schedulingSegmentIndex)}this._isInOneOfStates(p.DEAD,p.PAUSED)||t?(this._logger.log("not re-scheduling"),this._nextSchedulingTimeout=null):(this._logger.log("timing next check for more data in "+s+" ms"),this._nextSchedulingTimeout=window.setTimeout(e.bind(this),s))}this._nextSchedulingTimeout||this._playlistRefreshInProgress||e.call(this)},i.prototype._cancelAllInFlightRequests=function(){this._schedulingSegmentIndex=-1,this._segmentsDownloading.forEach(function(e){e.isComplete()||e.cancel()}),this._segmentsDownloading=[]},i.prototype._requestSegment=function(e){return this._segmentsDownloading.push(e),e.isComplete()?(this._logger.log("requested data is already loaded from segment "+e.index),void this._onSegmentLoaded(e,!0)):e.hasBeenRequested()||e.hasFailed()?void this._logger.log("segment already in flight or failed (will retry): "+e.timesFailed+" times"):void this._hlsToolkit.loadSegment(e,S)},i.prototype._decryptSegment=function(e){this._hlsToolkit.isAES128Encrypted()&&this._hlsToolkit.decryptSegmentAES128(e)},i.prototype._inspectEncryptionData=function(){this._hlsToolkit.isAES128Encrypted()&&(this._logger.log("got key of byte length "+this._hlsToolkit.getEncryptionKey().byteLength),this._hlsToolkit.getEncryptionIv()?this._logger.log("got IV of byte length "+this._hlsToolkit.getEncryptionIv().byteLength):this._logger.log("no IV found in header, will use per-segment-index IV"))},i.prototype._html5AudioErrorCodeToErrorId=function(){return{1:a.HTML5_AUDIO_ABORTED,2:a.HTML5_AUDIO_NETWORK,3:a.HTML5_AUDIO_DECODE,4:a.HTML5_AUDIO_SRC_NOT_SUPPORTED}[this._html5Audio.error.code]},i.prototype._error=function(e,t){this._errorID=e,this._errorMessage=this._getErrorMessage(this._errorID),t&&this._html5Audio.error&&(this._errorMessage+=" (native message: "+this._html5Audio.error.message+")"),this._logger.log(this._errorID+" "+this._errorMessage),this.updateState(p.ERROR),this._toggleEventListeners(!1)},i.prototype._getErrorMessage=function(e){var t={};return t[a.MSE_NOT_SUPPORTED]="The browser does not support MediaSource API",t[a.MSE_BAD_OBJECT_STATE]="MediaSource API has thrown an exception",t[e]?"Error: "+e+" ("+t[e]+")":"Error: "+e},i.prototype.setVolume=function(e){this._html5Audio&&(this._html5Audio.volume=e)},i.prototype.getVolume=function(){return this._html5Audio?this._html5Audio.volume:1},i.prototype.setMute=function(e){this._html5Audio&&(this._html5Audio.muted=e)},i.prototype.getMute=function(){return this._html5Audio?this._html5Audio.muted:!1},i.prototype.getErrorID=function(){return this._errorID},i.prototype.play=function(e){return this._isInOneOfStates(p.ERROR,p.DEAD)?void this._logger.log("play called but state is ERROR or DEAD"):this._isInOneOfStates(p.IDLE,p.INITIALIZE)?(e=e||0,this._logger.log("play from "+e),this._playRequested=!0,this.seek(e),this.getState()===p.INITIALIZE?void(this._loadOnInit=!0):void this._loadInitialPlaylist()):void this.resume()},i.prototype.pause=function(){this._html5Audio&&(this._playRequested=!1,this._html5Audio.pause())},i.prototype.seek=function(e){if(!this._isInOneOfStates(p.ERROR,p.DEAD)){if(e=parseInt(e,10),!this._isPlaylistLoaded)return void this.once(o.METADATA,function(){this.seek(e)}.bind(this));if(e>this._duration)return void this._logger.log("can not seek to position over duration");this._logger.log("seek to "+e+" ms"),this.updateState(p.SEEKING),this._lastMediaClockCheck=null,!this._isTimeBuffered(e)&&this._isTimeBuffered(e+k)&&(e+=k,this._logger.log("detected smart seeking opportunity, adjusting target to: "+e)),this._currentPosition=e;try{this._html5Audio.currentTime=e/1e3}catch(t){this._logger.log("error seeking: "+t.message)}this._cancelAllInFlightRequests(),this._cancelNextScheduling(),this._runScheduling()}},i.prototype.resume=function(){this._html5Audio&&(this._logger.log("resume from "+this._currentPosition),this._html5Audio.play(1e3*this._currentPosition))},i.prototype.kill=function(){this.getState()!==p.DEAD&&(this._logger.log("kill"),this._resetPositionTimer(!1),this._cancelNextScheduling(),this._cancelAllInFlightRequests(),window.clearTimeout(this._playlistRetryTimer),window.clearTimeout(this._streamUrlRetryTimer),this._playRequested=!1,this._toggleEventListeners(!1),this._html5Audio.pause(),this.updateState(p.DEAD))},i.prototype.getErrorMessage=function(){return this._errorMessage},i.prototype.hasStreamUrlProvider=function(){return!!this._streamUrlProvider}},function(e,t,n){var i,s=n(1),r=n(52),o=n(58),a=null,l=n(36),u={NEW:"new",QUEUED:"queued",REQUESTED:"requested",COMPLETE:"complete",TIMEOUT:"timeout",FORBIDDEN:"forbidden",NOT_FOUND:"not-found",SERVER_ERROR:"server-error",FAILED:"failed"},c={FIRST:"#EXTM3U",PLAYLIST:"#EXT-X-STREAM-INF:",SEGMENT:"#EXTINF:",END_TAG:"#EXT-X-ENDLIST",ENCRYPTION:"#EXT-X-KEY:"};e.exports=i=function(e,t){this._logger=e,this._duration=0,this._segments=[],this.setUri(t)},i.Events={PLAYLIST_LOADED:"playlist-loaded",PLAYLIST_PARSE_ERROR:"playlist-parse-error",PLAYLIST_FAILED:"playlist-failed",SEGMENT_LOADED:"segment-loaded",SEGMENT_PROGRESS:"segment-progress",SEGMENT_FAILED:"segment-failed",SEGMENT_CANCELED:"segment-canceled"},i.Status=u,s(i.prototype,l),i.Segment=function(e,t,n,i,r){s(this,{toolkit:e,uri:t,startPosition:n,endPosition:n+i,duration:i,index:r,data:null,status:u.NEW,isLast:!1,timesFailed:0,loaded:0,total:-1,aborted:!1,xhr:null,mimeType:"audio/mpeg"}),this._logger=e._logger},i.Segment.prototype.containsTime=function(e){return e>=this.startPosition&&e<=this.endPosition},i.Segment.prototype.isComplete=function(){return this.status===u.COMPLETE},i.Segment.prototype.hasFailed=function(){return this.status===u.TIMEOUT||this.status===u.FORBIDDEN||this.status===u.NOT_FOUND||this.status===u.SERVER_ERROR||this.status===u.FAILED},i.Segment.prototype.isNew=function(){
return this.status===u.NEW},i.Segment.prototype.hasBeenRequested=function(){return this.status===u.REQUESTED},i.Segment.prototype.scheduleRetry=function(e,t,n,i){var s=this;this._retryTimer=window.setTimeout(function(){t.call(n,s,i)},e)},i.Segment.prototype.cancel=function(){this._logger.log("segment cancelled, clearing timeout: "+this.index),window.clearTimeout(this._retryTimer),this.xhr&&(this._logger.log("will abort & reset segment: "+this.index),this.status=u.NEW,this.aborted=!0,this.data=null,this.timesFailed=0,this.xhr.abort(),this.xhr=null,this.toolkit.trigger(i.Events.SEGMENT_CANCELED,this))},i.prototype.setUri=function(e){var t=this._uri=e;t.indexOf("?")>-1&&(t=t.substr(0,t.indexOf("?"))),this._baseURI=t.substr(0,t.lastIndexOf("/")+1)},i.prototype.updatePlaylist=function(e){var t=!1,n=new XMLHttpRequest;n.open("GET",this._uri,!0),n.responseType="text",this._logger.log("downloading playlist from: "+this._uri);var s=function(e){t||(t=!0,this.trigger(i.Events.PLAYLIST_FAILED,n.status))}.bind(this);n.onload=function(t){return 200!==n.status?void s():(e&&(this._segments=[],this._duration=0),this._parsePlaylist(n.responseText,e)?(this.getLastSegment().isLast=!0,this._logger.log("playlist download complete"),void this._retrieveEncryptionKey(function(){this.trigger(i.Events.PLAYLIST_LOADED)})):(this._logger.log("error parsing playlist"),void this.trigger(i.Events.PLAYLIST_PARSE_ERROR)))}.bind(this),n.onerror=function(e){s(e)}.bind(this),n.send()},i.prototype._parsePlaylist=function(e,t){for(var n,s,r,o=e.split("\n"),a=0,l=!1,u=0,d=0;u<o.length;)n=o[u++],0===n.indexOf(c.SEGMENT)?(r=1e3*Number(n.substr(8,n.indexOf(",")-8)),s=this._createSegmentURL(o[u]),t||!this._segments[a]?this._addSegment(new i.Segment(this,s,this._duration,r,d++)):this._segments[a].uri=s,a++,u++):0===n.indexOf(c.ENCRYPTION)?this._parsePlaylistEncryptionHeader(n):0===n.indexOf(c.END_TAG)&&(l=!0);return 0!==this.getNumSegments()&&l?!0:!1},i.prototype._addSegment=function(e){this._segments.push(e),this._duration+=e.duration},i.prototype._parsePlaylistEncryptionHeader=function(e){var t,n,i,s=e.substr(c.ENCRYPTION.length).split(",");if(o(s,function(e){e.indexOf("METHOD")>=0?n=e.split("=")[1]:e.indexOf("URI")>=0?t=e.split("=")[1]:e.indexOf("IV")>=0&&(i=e.split("=")[1])}),!(n&&t&&n.length&&t.length))throw new Error("Failed to parse M3U8 encryption header");n=n.trim(),t=t.trim().replace(/"/g,""),this._encryptionMethod=n,this._encryptionKeyUri=t,i&&i.length?(this._encryptionIvHexString=i.trim(),this._parseEncryptionIvHexString()):this._encryptionIv=null},i.prototype._parseEncryptionIvHexString=function(){var e,t=this._encryptionIvHexString.replace("0x",""),n=new Uint16Array(8),i=0;if(t.length%4!==0)throw new Error("Failed to parse M3U8 encryption IV (length is not multiple of 4)");for(;i<t.length;i+=4){if(e=parseInt(t.substr(i,4),16),isNaN(e))throw new Error("Failed to parse hex number in IV string");n[i/4]=e}this._encryptionIv=n},i.prototype._encryptionIvForSegment=function(e){var t=new DataView(new ArrayBuffer(16));return t.setUint32(0,e.index,!0),t.buffer},i.prototype._retrieveEncryptionKey=function(e){if(e){if(!this._encryptionKeyUri)return void e.call(this);var t=this._encryptionKeyUri,n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=r(function(i){200===n.status?this._encryptionKey=new Uint8Array(n.response):this._logger.log("Failed to retrieve encryption key from "+t+", returned status "+n.status),e.call(this)},this),n.send(),this._logger.log("Downloading encryption key from "+t)}},i.prototype._removeEncryptionPaddingBytes=function(e){var t=e.data[e.data.byteLength-1];t?(this._logger.log("Detected PKCS7 padding length of "+t+" bytes, slicing segment."),e.data=e.data.subarray(0,e.data.byteLength-t)):this._logger.log("No padding detected (last byte is zero)")},i.prototype.decryptSegmentAES128=function(e){if(this._logger.log("Decrypting AES-128 cyphered segment ..."),!a)throw new Error("AES decryption not built-in");var t=a.cipher.createDecipher("AES-CBC",a.util.createBuffer(this._encryptionKey)),n=0,i=e.data.byteLength,s=this._encryptionIv||this._encryptionIvForSegment(e);for(this._logger.log("Using IV ->"),t.start({iv:a.util.createBuffer(s)}),t.update(a.util.createBuffer(e.data)),t.finish(),e.data=new Uint8Array(i);i>n;n++)e.data[n]=t.output.getByte();this._removeEncryptionPaddingBytes(e)},i.prototype.isAES128Encrypted=function(){return"AES-128"===this._encryptionMethod},i.prototype.getEncryptionKeyUri=function(){return this._encryptionKeyUri},i.prototype.getEncryptionIv=function(){return this._encryptionIv},i.prototype.getEncryptionKey=function(){return this._encryptionKey},i.prototype._createSegmentURL=function(e){return"http://"===e.substr(0,7)||"https://"===e.substr(0,8)||"/"===e.substr(0,1)?e:this._baseURI+e},i.prototype._handleLoadSegmentFailure=function(e,t,n){e.aborted||(this._logger.log("segment aborted: "+e.aborted),this._logger.log("segment loading failure: HTTP response status: "+t.status),0===t.status?e.status=u.TIMEOUT:403===t.status?e.status=u.FORBIDDEN:404===t.status?e.status=u.NOT_FOUND:t.status>=500?e.status=u.SERVER_ERROR:e.status=u.FAILED,e.timesFailed++,this.trigger(i.Events.SEGMENT_FAILED,e))},i.prototype.getNumberOfSegmentsRequested=function(){var e=0;return this._segments.forEach(function(t){t.status===u.REQUESTED&&e++}),e},i.prototype._loadSegmentsQueued=function(e){this._segments.forEach(function(t){t.status===u.QUEUED&&(this._logger.log("attempt to load queue segment "+t.index),this.loadSegment(t,e))}.bind(this))},i.prototype._doRequest=function(e,t){var n=!1,s=new XMLHttpRequest,r=e.uri,o=function(i){n||(n=!0,this._handleLoadSegmentFailure(e,s,i),this._loadSegmentsQueued(t))}.bind(this);(e.hasBeenRequested()||e.isComplete())&&this._logger.log("segment cant be loaded, requested: ",!!e.hasBeenRequested()," complete: ",e.isComplete()),s.open("GET",r,!0),s.responseType="arraybuffer",s.onload=function(){if(!e.aborted){if(200!==s.status)return void o();this._logger.log("download of segment "+e.index+" complete"),e.status=u.COMPLETE,e.data=new Uint8Array(s.response),e.downloadTime=Date.now()-e.downloadStartTime,this.trigger(i.Events.SEGMENT_LOADED,e),this._loadSegmentsQueued(t)}}.bind(this),s.onprogress=function(t){e.aborted||t.loaded&&t.total&&(e.loaded=t.loaded,e.total=t.total,this.trigger(i.Events.SEGMENT_PROGRESS,e))}.bind(this),s.onerror=function(e){o(e)}.bind(this),this._logger.log("requesting segment "+e.index+" from "+r),e.xhr=s,e.aborted=!1,e.downloadStartTime=Date.now(),e.status=u.REQUESTED,s.send()},i.prototype.loadSegment=function(e,t){return!isNaN(t)&&this.getNumberOfSegmentsRequested()>t?(this._logger.log("setting segment "+e.index+" queued"),void(e.status=u.QUEUED)):void this._doRequest(e,t)},i.prototype.getSegment=function(e){return this._segments[e]?this._segments[e]:null},i.prototype.getSegmentIndexForTime=function(e){var t,n;if(e>this._duration||0>e||0===this._segments.length)return-1;for(t=Math.floor(this._segments.length*(e/this._duration)),n=this._segments[t];!(n.startPosition<=e&&n.startPosition+n.duration>e);)n.startPosition+n.duration>=e?t--:t++,n=this._segments[t];return t},i.prototype.getSegmentForTime=function(e){var t=this.getSegmentIndexForTime(e);return t>=0?this._segments[t]:null},i.prototype.getDuration=function(){return this._duration},i.prototype.getNumSegments=function(){return this._segments.length},i.prototype.getLastSegment=function(){return this._segments.length?this._segments[this._segments.length-1]:null}},function(e,t,n){var i=n(53),s=n(56),r=n(57),o=1,a=32,l=r(function(e,t,n){var r=o;if(n.length){var u=s(n,l.placeholder);r|=a}return i(e,r,t,n,u)});l.placeholder={},e.exports=l},function(e,t,n){(function(t){function i(e,t,n){for(var i=n.length,s=-1,r=A(e.length-i,0),o=-1,a=t.length,l=Array(a+r);++o<a;)l[o]=t[o];for(;++s<i;)l[n[s]]=e[s];for(;r--;)l[o++]=e[s++];return l}function s(e,t,n){for(var i=-1,s=n.length,r=-1,o=A(e.length-s,0),a=-1,l=t.length,u=Array(o+l);++r<o;)u[r]=e[r];for(var c=r;++a<l;)u[c+a]=t[a];for(;++i<s;)u[c+n[i]]=e[r++];return u}function r(e,n){function i(){var r=this&&this!==t&&this instanceof i?s:e;return r.apply(n,arguments)}var s=o(e);return i}function o(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=f(e.prototype),i=e.apply(n,t);return h(i)?i:n}}function a(e,n,r,l,u,c,h,f,S,T){function E(){for(var _=arguments.length,y=_,b=Array(_);y--;)b[y]=arguments[y];if(l&&(b=i(b,l,u)),c&&(b=s(b,c,h)),M||L){var k=E.placeholder,N=g(b,k);if(_-=N.length,T>_){var O=f?p(f):void 0,R=A(T-_,0),$=M?N:void 0,B=M?void 0:N,U=M?b:void 0,z=M?void 0:b;n|=M?w:x,n&=~(M?x:w),P||(n&=~(m|v));var j=a(e,n,r,U,$,z,B,O,S,R);return j.placeholder=k,j}}var H=D?r:this,V=I?H[e]:e;return f&&(b=d(b,f)),C&&S<b.length&&(b.length=S),this&&this!==t&&this instanceof E&&(V=F||o(e)),V.apply(H,b)}var C=n&k,D=n&m,I=n&v,M=n&y,P=n&_,L=n&b,F=I?void 0:o(e);return E}function l(e,n,i,s){function r(){for(var n=-1,o=arguments.length,u=-1,c=s.length,d=Array(c+o);++u<c;)d[u]=s[u];for(;o--;)d[u++]=arguments[++n];var h=this&&this!==t&&this instanceof r?l:e;return h.apply(a?i:this,d)}var a=n&m,l=o(e);return r}function u(e,t,n,i,s,o,u,c){var d=t&v;if(!d&&"function"!=typeof e)throw new TypeError(S);var h=i?i.length:0;if(h||(t&=~(w|x),i=s=void 0),h-=s?s.length:0,t&x){var p=i,f=s;i=s=void 0}var g=[e,t,n,i,s,p,f,o,u,c];if(g[9]=null==c?d?0:e.length:A(c-h,0)||0,t==m)var _=r(g[0],g[2]);else _=t!=w&&t!=(m|w)||g[4].length?a.apply(void 0,g):l.apply(void 0,g);return _}function c(e,t){return e="number"==typeof e||T.test(e)?+e:-1,t=null==t?C:t,e>-1&&e%1==0&&t>e}function d(e,t){for(var n=e.length,i=E(t.length,n),s=p(e);i--;){var r=t[i];e[i]=c(r,n)?s[r]:void 0}return e}function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var p=n(54),f=n(55),g=n(56),m=1,v=2,_=4,y=8,b=16,w=32,x=64,k=128,S="Expected a function",T=/^\d+$/,A=Math.max,E=Math.min,C=9007199254740991;e.exports=u}).call(t,function(){return this}())},function(e,t){function n(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}e.exports=n},function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var i=function(){function e(){}return function(t){if(n(t)){e.prototype=t;var i=new e;e.prototype=void 0}return i||{}}}();e.exports=i},function(e,t){function n(e,t){for(var n=-1,s=e.length,r=-1,o=[];++n<s;)e[n]===t&&(e[n]=i,o[++r]=n);return o}var i="__lodash_placeholder__";e.exports=n},11,function(e,t,n){function i(e,t){return function(n,i,s){return"function"==typeof i&&void 0===s&&a(n)?e(n,i):t(n,o(i,s,3))}}var s=n(59),r=n(60),o=n(65),a=n(64),l=i(s,r);e.exports=l},function(e,t){function n(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}e.exports=n},[121,61],[120,62,63,64],5,6,7,9,function(e,t,n){var i,s=n(36),r=n(16),o=n(47).bindAll,a=n(1);e.exports=i=function(e,t){o(this,["_onMSEInit","_onMSEDispose","_onSourceBufferUpdate"]),this.mimeType=t,this._logger=e,this._isBufferPrepared=!1,this._sourceBufferPtsOffset=0,this._segmentsAwaitingAppendance=[],this._isNotReady=!0,this._sourceBuffer=null,this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this._onMSEInit,!1),this._mediaSource.addEventListener("sourceclose",this._onMSEDispose,!1),this._mediaElem=r.createAudioElement(),this._mediaElem.src=window.URL.createObjectURL(this._mediaSource)},i.Events={SOURCE_READY:"source-ready",SOURCE_DESTROYED:"source-destroy",SOURCE_ERROR:"source-error",SEGMENT_APPENDED:"segment-appended"},a(i.prototype,s),a(i.prototype,{_onMSEInit:function(){this._logger.log("source open handler"),this._isNotReady=!1,this._mediaSource.removeEventListener("sourceopen",this._onMSEInit,!1),this._sourceBuffer=this._mediaSource.addSourceBuffer(this.mimeType),this._sourceBuffer.addEventListener("update",this._onSourceBufferUpdate),this.trigger(i.Events.SOURCE_READY)},_onMSEDispose:function(){this._isNotReady=!0,this._logger.log("source dispose handler"),this._mediaSource.removeEventListener("sourceclose",this._onMSEDispose,!1)},_appendNextSegment:function(e){try{if(this._sourceBuffer.updating)return this._logger.log("source buffer is busy updating already, enqueuing data for later appending"),void this._segmentsAwaitingAppendance.unshift(e);e.isLast&&this._logger.log("about to append last segment"),this._currentSegmentAppending=e,this._sourceBuffer.timestampOffset=e.startPosition/1e3,this._sourceBuffer.appendBuffer(e.data),this._logger.log("appending segment "+e.index)}catch(t){this._logger.log("error while appending to SourceBuffer: "+t.message+")"),this.trigger(i.Events.SOURCE_ERROR,t)}},_tryAppendEos:function(){this._logger.log("attempting to finalize stream");try{"open"!==this._mediaSource.readyState||this._sourceBuffer.updating?this._logger.log("couldn't call endOfStream because SourceBuffer is still updating, we'll call it once its done"):(this._mediaSource.endOfStream(),this._logger.log("called endOfStream"))}catch(e){this._logger.log("SourceBuffer endOfStream() call failed with error: "+e.message),this.trigger(i.Events.SOURCE_ERROR,e)}},_onSourceBufferUpdate:function(){(this._currentSegmentAppending||this._sourceBuffer.updating)&&(this._logger.log("done updating SourceBuffer with segment "+this._currentSegmentAppending.index),this.trigger(i.Events.SEGMENT_APPENDED,this._currentSegmentAppending),this._currentSegmentAppending.isLast&&(this._logger.log("was last segment, setting on EOS on SourceBuffer"),this._tryAppendEos()),this._segmentsAwaitingAppendance.length&&!this._sourceBuffer.updating&&this._appendNextSegment(this._segmentsAwaitingAppendance.pop()))},append:function(e){if(!this.sourceIsReady())throw new Error("MediaSource is not ready yet");this._appendNextSegment(e)},media:function(){return this._mediaElem},sourceIsReady:function(){return!this._isNotReady},duration:function(e){return this._mediaSource.duration=e/1e3,1e3*this._mediaSource.duration}})},function(e,t,n){var i,s=n(47).concatBuffersToUint8Array,r=n(1),o=n(36),a=n(68);e.exports=i=function(e){this.config=e,this.reset(),this.segments=[],this.pushedInitData=!1},r(i.prototype,o),i.prototype.process=function(e){switch(this.segments.push(e),this.config){case i.Configs.VOID:this.trigger("segment",e);break;case i.Configs.MP3_TO_FMP4:this.src.enqueue(new a.Unit.Transfer(e.data,"binary")),this.src.enqueue(a.Unit.Transfer.Flush());break;default:throw new Error("Config "+this.config+" not supported")}},i.prototype.dequeue=function(){return this.segments.shift()},i.prototype.reset=function(){switch(this.config){case i.Configs.VOID:break;case i.Configs.MP3_TO_FMP4:this.gotInitData=!1,this.src=new a.Unit.BasePushSrc,this.parser=new a.Units.MP3Parser,this.muxer=new a.Units.MP4Mux(a.Units.MP4Mux.Profiles.MP3_AUDIO_ONLY),this.sink=new a.Unit.BaseSink,this.sink._onData=function(){var e,t=this.sink.dequeue().data;return this.gotInitData?(e=this.dequeue(),e.mimeType="audio/mp4",this.gotInitData&&!this.pushedInitData?(e.data=s(this.initData,t),this.pushedInitData=!0):e.data=t,this.trigger("segment",e),void this.reset()):(this.gotInitData=!0,void(this.initData=t))}.bind(this),a.Unit.link(this.src,this.parser,this.muxer,this.sink);break;default:throw new Error("Config "+this.config+" not supported")}},i.Configs={VOID:"VOID",MP3_TO_FMP4:"MP3_TO_FMP4"}},function(e,t,n){var i,s=n(69),r=n(104),o=n(107),a=n(110),l=n(113),u=n(114);e.exports=i={Unit:s,Units:{File:u,MP4Mux:r,MP3Parser:o,MSESink:a,XHR:l}}},function(e,t,n){(function(t){var i,s,r,o,a,l,u,c,d,h,p=n(74),f=n(76),g=n(1),m=n(85),v=n(86);e.exports=i=function(){m.call(this),this.inputs||(this.inputs=[]),this.outputs||(this.outputs=[])},i.create=function(e){return f(i.prototype,e)},i.createBaseSrc=function(e){return f(l.prototype,e)},i.createBasePushSrc=function(e){return f(u.prototype,e)},i.createBaseSink=function(e){return f(c.prototype,e)},i.createBaseTransform=function(e){return f(a.prototype,e)},i.createBaseParser=function(e){return f(d.prototype,e)},i.link=function(e,t){if(arguments.length>2)return i.linkArray(arguments);for(var n=0;n<Math.min(e.numberOfOuts(),t.numberOfIns());n++)e.out(n).pipe(t["in"](n));return t},i.linkArray=function(e){var t,n,s;for(s=0;s<e.length;s++)t=e[s],e.length>s+1&&(n=e[s+1],i.link(t,n));return n};var _=i.Event={CHAIN:"chain",NEED_DATA:"need-data",FINISH:"finish",PIPE:"pipe",UNPIPE:"unpipe",ERROR:"error",END:"end",OPEN:"open",CLOSE:"close"};i.prototype=f(m.prototype,{constructor:i,"in":function(e){return this.inputs[e]},out:function(e){return this.outputs[e]},numberOfIns:function(){return this.inputs.length},numberOfOuts:function(){return this.outputs.length},add:function(e){return e instanceof s?this.addInput(e):e instanceof r&&this.addOutput(e),this},remove:function(e){e instanceof s?this.removeInput(e):e instanceof r&&this.removeOutput(e)},addInput:function(e){this._installEventForwarder(e,_.FINISH),this._installEventForwarder(e,_.OPEN),this._installEventForwarder(e,_.PIPE),this._installEventForwarder(e,_.UNPIPE),this._installEventForwarder(e,_.ERROR),this._installEventForwarder(e,_.CHAIN),this.inputs.push(e)},addOutput:function(e){this._installEventForwarder(e,_.END),this._installEventForwarder(e,_.OPEN),this._installEventForwarder(e,_.CLOSE),this._installEventForwarder(e,_.ERROR),this._installEventForwarder(e,_.NEED_DATA),this.outputs.push(e)},removeInput:function(e){removePut(this.inputs,e)},removeOutput:function(e){removePut(this.outputs,e)},removePut:function(e,t){e.slice().forEach(function(n,i){n==t&&e.splice(i,1)})},_installEventForwarder:function(e,t){e.on(t,function(n){this.emit(t,e,n)}.bind(this))}}),i.Transfer=o=function(e,n,i){n||(n=e instanceof t?"buffer":e instanceof String?"utf8":"object"),this.resolved=!1,this.data=e,this.encoding=n,this.doneCallback=i},o.prototype=f(Object.prototype,{constructor:o,resolve:function(){this.doneCallback&&!this.resolved&&(this.doneCallback(),this.resolved=!0)},setFlushing:function(e){return this.data.flush=e,this},setEmpty:function(e){return this.data.empty=e,this}}),o.Flush=function(){return new o({},"binary").setFlushing(!0).setEmpty(!0)},o.EOS=function(){return new o(null,"binary")},i.Input=s=function(e,t){v.Writable.prototype.constructor.call(this,{objectMode:!0,decodeStrings:!1})},s.prototype=f(v.Writable.prototype,{constructor:s,_write:function(e,t,n){p("_write: "+t),this.emit(i.Event.CHAIN,new o(e,t,n))}}),i.Output=r=function(e){v.Readable.prototype.constructor.call(this,{objectMode:!0}),this._dataRequested=0,this._shouldPushMore=!0},r.eos=function(e){e.push(null,"null")},r.prototype=f(v.Readable.prototype,{constructor:r,_read:function(e){this._dataRequested++,this.emit(_.NEED_DATA,this)},push:function(e,t){return this._dataRequested--,this._shouldPushMore=v.Readable.prototype.push.call(this,e,t),this._shouldPushMore},isPulling:function(){return this._dataRequested>0},eos:function(){v.Readable.prototype.push.call(this,null,"null")}}),i.BaseTransform=a=function(){i.prototype.constructor.apply(this,arguments),this.add(new s).add(new r),this.on(_.CHAIN,this._onChain.bind(this)),this.on(_.FINISH,this._onFinish.bind(this))},a.prototype=f(i.prototype,{constructor:a,_onChain:function(e,t){this._transform(t),this.out(0).push(t.data,t.encoding),t.resolve()},_onFinish:function(e){r.eos(this.out(0))},_transform:function(e){}}),i.BaseSrc=l=function(){i.prototype.constructor.apply(this,arguments),this.add(new r),this.on(_.NEED_DATA,this.squeeze.bind(this))},l.prototype=f(i.prototype,{constructor:l,squeeze:function(){p("squeeze");var e=this._source();e&&(this.out(0).push(e.data,e.encoding),e.resolve())},_source:function(){}}),i.BasePushSrc=u=function(){l.prototype.constructor.apply(this,arguments),this._bufferOut=[]},u.prototype=f(l.prototype,{constructor:u,_source:function(){return this._bufferOut.length?this._bufferOut.shift():null},enqueue:function(e){this._bufferOut.push(e),this.out(0).isPulling&&this.out(0).isPulling()&&this.squeeze()}}),i.BaseSink=c=function(){i.prototype.constructor.apply(this,arguments),this.add(new s),this.on(_.CHAIN,this._onChain.bind(this)),this._bufferIn=[]},c.prototype=f(i.prototype,{constructor:c,_onChain:function(e,t){p("BaseSink._onChain: "+t.encoding),this._bufferIn.push(t),this._onData(),t.resolve()},_onData:function(){},dequeue:function(){return this._bufferIn.length?this._bufferIn.shift():null}}),i.BaseParser=d=function(){u.prototype.constructor.apply(this,arguments),c.prototype.constructor.apply(this,arguments),this.on("finish",this._onFinish.bind(this))},g(d.prototype,i.prototype,m.prototype,l.prototype,u.prototype,c.prototype,{constructor:d,_onData:function(){this._parse(this.dequeue())},_onFinish:function(){p("BaseParser._onFinish"),r.eos(this.out(0))},_parse:function(e){}}),i.InputSelector=h=function(e){for(a.prototype.constructor.apply(this,arguments),e=(e||1)-1;e-->0;)this.add(new s);this.selectedInputIndex=0},g(h.prototype,a.prototype,{constructor:h,_onChain:function(e,t){var n=this["in"](this.selectedInputIndex);return e!==n?void t.resolve():(this._transform(t),this.out(0).push(t.data,t.encoding),void t.resolve())},_onFinish:function(e){var t=this["in"](this.selectedInputIndex);e===t&&r.eos(this.out(0))}})}).call(t,n(70).Buffer)},function(e,t,n){(function(e,i){function s(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function r(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(this.length=0,this.parent=void 0,"number"==typeof t?o(this,t):"string"==typeof t?a(this,t,arguments.length>1?arguments[1]:"utf8"):l(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function o(t,n){if(t=g(t,0>n?0:0|m(n)),!e.TYPED_ARRAY_SUPPORT)for(var i=0;n>i;i++)t[i]=0;return t}function a(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var i=0|_(t,n);return e=g(e,i),e.write(t,n),e}function l(t,n){if(e.isBuffer(n))return u(t,n);if(Q(n))return c(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return d(t,n);if(n instanceof ArrayBuffer)return h(t,n)}return n.length?p(t,n):f(t,n)}function u(e,t){var n=0|m(t.length);return e=g(e,n),t.copy(e,0,0,n),e}function c(e,t){var n=0|m(t.length);e=g(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function d(e,t){var n=0|m(t.length);e=g(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function h(t,n){return e.TYPED_ARRAY_SUPPORT?(n.byteLength,t=e._augment(new Uint8Array(n))):t=d(t,new Uint8Array(n)),t}function p(e,t){var n=0|m(t.length);e=g(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function f(e,t){var n,i=0;"Buffer"===t.type&&Q(t.data)&&(n=t.data,i=0|m(n.length)),e=g(e,i);for(var s=0;i>s;s+=1)e[s]=255&n[s];return e}function g(t,n){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(n)),t.__proto__=e.prototype):(t.length=n,t._isBuffer=!0);var i=0!==n&&n<=e.poolSize>>>1;return i&&(t.parent=J),t}function m(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function v(t,n){if(!(this instanceof v))return new v(t,n);var i=new e(t,n);return delete i.parent,i}function _(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(i)return H(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){var i=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return D(this,t,n);case"binary":return I(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function b(e,t,n,i){n=Number(n)||0;var s=e.length-n;i?(i=Number(i),i>s&&(i=s)):i=s;var r=t.length;if(r%2!==0)throw new Error("Invalid hex string");i>r/2&&(i=r/2);for(var o=0;i>o;o++){var a=parseInt(t.substr(2*o,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[n+o]=a}return o}function w(e,t,n,i){return G(H(t,e.length-n),e,n,i)}function x(e,t,n,i){return G(V(t),e,n,i)}function k(e,t,n,i){return x(e,t,n,i)}function S(e,t,n,i){return G(W(t),e,n,i)}function T(e,t,n,i){return G(q(t,e.length-n),e,n,i)}function A(e,t,n){return 0===t&&n===e.length?Y.fromByteArray(e):Y.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var i=[],s=t;n>s;){var r=e[s],o=null,a=r>239?4:r>223?3:r>191?2:1;if(n>=s+a){var l,u,c,d;switch(a){case 1:128>r&&(o=r);break;case 2:l=e[s+1],128===(192&l)&&(d=(31&r)<<6|63&l,d>127&&(o=d));break;case 3:l=e[s+1],u=e[s+2],128===(192&l)&&128===(192&u)&&(d=(15&r)<<12|(63&l)<<6|63&u,d>2047&&(55296>d||d>57343)&&(o=d));break;case 4:l=e[s+1],u=e[s+2],c=e[s+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(d=(15&r)<<18|(63&l)<<12|(63&u)<<6|63&c,d>65535&&1114112>d&&(o=d))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),s+=a}return C(i)}function C(e){var t=e.length;if(Z>=t)return String.fromCharCode.apply(String,e);for(var n="",i=0;t>i;)n+=String.fromCharCode.apply(String,e.slice(i,i+=Z));return n}function D(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;n>s;s++)i+=String.fromCharCode(127&e[s]);return i}function I(e,t,n){var i="";n=Math.min(e.length,n);for(var s=t;n>s;s++)i+=String.fromCharCode(e[s]);return i}function M(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var s="",r=t;n>r;r++)s+=j(e[r]);return s}function P(e,t,n){for(var i=e.slice(t,n),s="",r=0;r<i.length;r+=2)s+=String.fromCharCode(i[r]+256*i[r+1]);return s}function L(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function F(t,n,i,s,r,o){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>r||o>n)throw new RangeError("value is out of bounds");if(i+s>t.length)throw new RangeError("index out of range")}function N(e,t,n,i){0>t&&(t=65535+t+1);for(var s=0,r=Math.min(e.length-n,2);r>s;s++)e[n+s]=(t&255<<8*(i?s:1-s))>>>8*(i?s:1-s)}function O(e,t,n,i){0>t&&(t=4294967295+t+1);for(var s=0,r=Math.min(e.length-n,4);r>s;s++)e[n+s]=t>>>8*(i?s:3-s)&255}function R(e,t,n,i,s,r){if(t>s||r>t)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function $(e,t,n,i,s){return s||R(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,i,23,4),n+4}function B(e,t,n,i,s){return s||R(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,i,52,8),n+8}function U(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function j(e){return 16>e?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var n,i=e.length,s=null,r=[],o=0;i>o;o++){if(n=e.charCodeAt(o),n>55295&&57344>n){if(!s){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(o+1===i){(t-=3)>-1&&r.push(239,191,189);continue}s=n;continue}if(56320>n){(t-=3)>-1&&r.push(239,191,189),s=n;continue}n=s-55296<<10|n-56320|65536}else s&&(t-=3)>-1&&r.push(239,191,189);if(s=null,128>n){if((t-=1)<0)break;r.push(n)}else if(2048>n){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function V(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function q(e,t){for(var n,i,s,r=[],o=0;o<e.length&&!((t-=2)<0);o++)n=e.charCodeAt(o),i=n>>8,s=n%256,r.push(s),r.push(i);return r}function W(e){return Y.toByteArray(U(e))}function G(e,t,n,i){for(var s=0;i>s&&!(s+n>=t.length||s>=e.length);s++)t[s+n]=e[s];return s}/*!
		 * The buffer module from node.js, for the browser.
		 *
		 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
		 * @license  MIT
		 */
var Y=n(71),K=n(72),Q=n(73);t.Buffer=e,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var J={};e.TYPED_ARRAY_SUPPORT=void 0!==i.TYPED_ARRAY_SUPPORT?i.TYPED_ARRAY_SUPPORT:s(),e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var i=t.length,s=n.length,r=0,o=Math.min(i,s);o>r&&t[r]===n[r];)++r;return r!==o&&(i=t[r],s=n[r]),s>i?-1:i>s?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Q(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;i++)n+=t[i].length;var s=new e(n),r=0;for(i=0;i<t.length;i++){var o=t[i];o.copy(s,r),r+=o.length}return s},e.byteLength=_,e.prototype.length=void 0,e.prototype.parent=void 0,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):y.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function i(e,t,n){for(var i=-1,s=0;n+s<e.length;s++)if(e[n+s]===t[-1===i?0:s-i]){if(-1===i&&(i=s),s-i+1===t.length)return n+i}else i=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return i(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):i(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var s=i;i=t,t=0|n,n=s}var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"binary":return k(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;e.prototype.slice=function(t,n){var i=this.length;t=~~t,n=void 0===n?i:~~n,0>t?(t+=i,0>t&&(t=0)):t>i&&(t=i),0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),t>n&&(n=t);var s;if(e.TYPED_ARRAY_SUPPORT)s=e._augment(this.subarray(t,n));else{var r=n-t;s=new e(r,void 0);for(var o=0;r>o;o++)s[o]=this[o+t]}return s.length&&(s.parent=this.parent||this),s},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var i=this[e],s=1,r=0;++r<t&&(s*=256);)i+=this[e+r]*s;return i},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var i=this[e+--t],s=1;t>0&&(s*=256);)i+=this[e+--t]*s;return i},e.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var i=this[e],s=1,r=0;++r<t&&(s*=256);)i+=this[e+r]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||L(e,t,this.length);for(var i=t,s=1,r=this[e+--i];i>0&&(s*=256);)r+=this[e+--i]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*t)),r},e.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),K.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),K.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),K.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),K.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||F(this,e,t,n,Math.pow(2,8*n),0);var s=1,r=0;for(this[t]=255&e;++r<n&&(s*=256);)this[t+r]=e/s&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||F(this,e,t,n,Math.pow(2,8*n),0);var s=n-1,r=1;for(this[t+s]=255&e;--s>=0&&(r*=256);)this[t+s]=e/r&255;return t+n},e.prototype.writeUInt8=function(t,n,i){return t=+t,n=0|n,i||F(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,i){return t=+t,n=0|n,i||F(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):N(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,i){return t=+t,n=0|n,i||F(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):N(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,i){return t=+t,n=0|n,i||F(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):O(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,i){return t=+t,n=0|n,i||F(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):O(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=0|t,!i){var s=Math.pow(2,8*n-1);F(this,e,t,n,s-1,-s)}var r=0,o=1,a=0>e?1:0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=(e/o>>0)-a&255;return t+n},e.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=0|t,!i){var s=Math.pow(2,8*n-1);F(this,e,t,n,s-1,-s)}var r=n-1,o=1,a=0>e?1:0;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=(e/o>>0)-a&255;return t+n},e.prototype.writeInt8=function(t,n,i){return t=+t,n=0|n,i||F(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,i){return t=+t,n=0|n,i||F(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):N(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,i){return t=+t,n=0|n,i||F(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):N(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,i){return t=+t,n=0|n,i||F(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):O(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,i){return t=+t,n=0|n,i||F(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):O(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return $(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return $(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},e.prototype.copy=function(t,n,i,s){if(i||(i=0),s||0===s||(s=this.length),n>=t.length&&(n=t.length),n||(n=0),s>0&&i>s&&(s=i),s===i)return 0;if(0===t.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>s)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-n<s-i&&(s=t.length-n+i);var r,o=s-i;if(this===t&&n>i&&s>n)for(r=o-1;r>=0;r--)t[r+n]=this[r+i];else if(1e3>o||!e.TYPED_ARRAY_SUPPORT)for(r=0;o>r;r++)t[r+n]=this[r+i];else t._set(this.subarray(i,i+o),n);return o},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof e)for(i=t;n>i;i++)this[i]=e;else{var s=H(e.toString()),r=s.length;for(i=t;n>i;i++)this[i]=s[i%r]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,i=t.length;i>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var X=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=X.get,t.set=X.set,t.write=X.write,t.toString=X.toString,t.toLocaleString=X.toString,t.toJSON=X.toJSON,t.equals=X.equals,t.compare=X.compare,t.indexOf=X.indexOf,t.copy=X.copy,t.slice=X.slice,t.readUIntLE=X.readUIntLE,t.readUIntBE=X.readUIntBE,t.readUInt8=X.readUInt8,t.readUInt16LE=X.readUInt16LE,t.readUInt16BE=X.readUInt16BE,t.readUInt32LE=X.readUInt32LE,t.readUInt32BE=X.readUInt32BE,t.readIntLE=X.readIntLE,t.readIntBE=X.readIntBE,t.readInt8=X.readInt8,t.readInt16LE=X.readInt16LE,t.readInt16BE=X.readInt16BE,t.readInt32LE=X.readInt32LE,t.readInt32BE=X.readInt32BE,t.readFloatLE=X.readFloatLE,t.readFloatBE=X.readFloatBE,t.readDoubleLE=X.readDoubleLE,t.readDoubleBE=X.readDoubleBE,t.writeUInt8=X.writeUInt8,t.writeUIntLE=X.writeUIntLE,t.writeUIntBE=X.writeUIntBE,t.writeUInt16LE=X.writeUInt16LE,t.writeUInt16BE=X.writeUInt16BE,t.writeUInt32LE=X.writeUInt32LE,t.writeUInt32BE=X.writeUInt32BE,t.writeIntLE=X.writeIntLE,t.writeIntBE=X.writeIntBE,t.writeInt8=X.writeInt8,t.writeInt16LE=X.writeInt16LE,t.writeInt16BE=X.writeInt16BE,t.writeInt32LE=X.writeInt32LE,t.writeInt32BE=X.writeInt32BE,t.writeFloatLE=X.writeFloatLE,t.writeFloatBE=X.writeFloatBE,t.writeDoubleLE=X.writeDoubleLE,t.writeDoubleBE=X.writeDoubleBE,t.fill=X.fill,t.inspect=X.inspect,t.toArrayBuffer=X.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(70).Buffer,function(){return this}())},function(e,t,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===o||t===d?62:t===a||t===h?63:l>t?-1:l+10>t?t-l+26+26:c+26>t?t-c:u+26>t?t-u+26:void 0}function n(e){function n(e){u[d++]=e}var i,s,o,a,l,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;l="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,u=new r(3*e.length/4-l),o=l>0?e.length-4:e.length;var d=0;for(i=0,s=0;o>i;i+=4,s+=3)a=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===l?(a=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4,n(255&a)):1===l&&(a=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2,n(a>>8&255),n(255&a)),u}function s(e){function t(e){return i.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var s,r,o,a=e.length%3,l="";for(s=0,o=e.length-a;o>s;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],l+=n(r);switch(a){case 1:r=e[e.length-1],l+=t(r>>2),l+=t(r<<4&63),l+="==";break;case 2:r=(e[e.length-2]<<8)+e[e.length-1],l+=t(r>>10),l+=t(r>>4&63),l+=t(r<<2&63),l+="="}return l}var r="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),a="/".charCodeAt(0),l="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0),d="-".charCodeAt(0),h="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=s}(t)},function(e,t){t.read=function(e,t,n,i,s){var r,o,a=8*s-i-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?s-1:0,h=n?-1:1,p=e[t+d];for(d+=h,r=p&(1<<-c)-1,p>>=-c,c+=a;c>0;r=256*r+e[t+d],d+=h,c-=8);for(o=r&(1<<-c)-1,r>>=-c,c+=i;c>0;o=256*o+e[t+d],d+=h,c-=8);if(0===r)r=1-u;else{if(r===l)return o?NaN:(p?-1:1)*(1/0);o+=Math.pow(2,i),r-=u}return(p?-1:1)*o*Math.pow(2,r-i)},t.write=function(e,t,n,i,s,r){var o,a,l,u=8*r-s-1,c=(1<<u)-1,d=c>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,f=i?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+d>=1?h/l:h*Math.pow(2,1-d),t*l>=2&&(o++,l/=2),o+d>=c?(a=0,o=c):o+d>=1?(a=(t*l-1)*Math.pow(2,s),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;e[n+p]=255&a,p+=f,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;e[n+p]=255&o,p+=f,o/=256,u-=8);e[n+p-f]|=128*g}},function(e,t){var n=Array.isArray,i=Object.prototype.toString;e.exports=n||function(e){return!!e&&"[object Array]"==i.call(e)}},function(e,t,n){var i=n(75);e.exports=function(){i.loggingEnabled()&&console.log.apply(console,arguments)}},function(e,t){var n=!1;e.exports={loggingEnabled:function(e){return void 0!==e&&(n=e),n}}},function(e,t,n){function i(e,t,n){var i=r(e);return n&&o(e,t,n)&&(t=void 0),t?s(i,t):i}var s=n(77),r=n(83),o=n(84);e.exports=i},[119,78,79],3,[120,80,81,82],5,function(e,t){(function(t){function n(e){return function(t){return null==t?void 0:t[e]}}function i(e){return r(e)&&g.call(e,"callee")&&(!v.call(e,"callee")||m.call(e)==d)}function s(e){return null!=e&&!("function"==typeof e&&o(e))&&a(_(e))}function r(e){return u(e)&&s(e)}function o(e){var t=l(e)?m.call(e):"";return t==h||t==p}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){return!!e&&"object"==typeof e}var c=9007199254740991,d="[object Arguments]",h="[object Function]",p="[object GeneratorFunction]",f=t.Object.prototype,g=f.hasOwnProperty,m=f.toString,v=f.propertyIsEnumerable,_=n("length");e.exports=i}).call(t,function(){return this}())},7,55,10,function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function s(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!s(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,s,a,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],o(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(r(n))for(a=Array.prototype.slice.call(arguments,1),u=n.slice(),s=u.length,l=0;s>l;l++)u[l].apply(this,a);return!0},n.prototype.addListener=function(e,t){var s;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(s=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,s,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,s=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(n)){for(a=o;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){s=a;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){function i(){s.call(this)}e.exports=i;var s=n(85).EventEmitter,r=n(87);r(i,s),i.Readable=n(88),i.Writable=n(100),i.Duplex=n(101),i.Transform=n(102),i.PassThrough=n(103),i.Stream=i,i.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function i(){u.readable&&u.resume&&u.resume()}function r(){c||(c=!0,e.end())}function o(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(l(),0===s.listenerCount(this,"error"))throw e}function l(){u.removeListener("data",n),e.removeListener("drain",i),u.removeListener("end",r),u.removeListener("close",o),u.removeListener("error",a),e.removeListener("error",a),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}var u=this;u.on("data",n),e.on("drain",i),e._isStdio||t&&t.end===!1||(u.on("end",r),u.on("close",o));var c=!1;return u.on("error",a),e.on("error",a),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){t=e.exports=n(89),t.Stream=n(86),t.Readable=t,t.Writable=n(96),t.Duplex=n(95),t.Transform=n(98),t.PassThrough=n(99)},function(e,t,n){(function(t){function i(e,t){var i=n(95);e=e||{};var s=e.highWaterMark,r=e.objectMode?16:16384;this.highWaterMark=s||0===s?s:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(C||(C=n(97).StringDecoder),this.decoder=new C(e.encoding),this.encoding=e.encoding)}function s(e){n(95);return this instanceof s?(this._readableState=new i(e,this),this.readable=!0,void A.call(this)):new s(e)}function r(e,t,n,i,s){var r=u(t,n);if(r)e.emit("error",r);else if(E.isNullOrUndefined(n))t.reading=!1,t.ended||c(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!s){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&s){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||s||i||(n=t.decoder.write(n)),s||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,s?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&d(e)),p(e,t);else s||(t.reading=!1);return o(t)}function o(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=I)e=I;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||E.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function u(e,t){var n=null;return E.isBuffer(t)||E.isString(t)||E.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function c(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,d(e)}function d(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(D("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?t.nextTick(function(){h(e)}):h(e))}function h(e){D("emit readable"),e.emit("readable"),_(e)}function p(e,n){n.readingMore||(n.readingMore=!0,t.nextTick(function(){f(e,n)}))}function f(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(D("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;D("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&T.listenerCount(e,"data")&&(t.flowing=!0,_(e))}}function m(e,n){n.resumeScheduled||(n.resumeScheduled=!0,t.nextTick(function(){v(e,n)}))}function v(e,t){t.resumeScheduled=!1,e.emit("resume"),_(e),t.flowing&&!t.reading&&e.read(0)}function _(e){var t=e._readableState;if(D("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function y(e,t){var n,i=t.buffer,s=t.length,r=!!t.decoder,o=!!t.objectMode;if(0===i.length)return null;if(0===s)n=null;else if(o)n=i.shift();else if(!e||e>=s)n=r?i.join(""):S.concat(i,s),i.length=0;else if(e<i[0].length){var a=i[0];n=a.slice(0,e),i[0]=a.slice(e)}else if(e===i[0].length)n=i.shift();else{n=r?"":new S(e);for(var l=0,u=0,c=i.length;c>u&&e>l;u++){var a=i[0],d=Math.min(e-l,a.length);r?n+=a.slice(0,d):a.copy(n,l,0,d),d<a.length?i[0]=a.slice(d):i.shift(),l+=d}}return n}function b(e){var n=e._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");n.endEmitted||(n.ended=!0,t.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function w(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n)}function x(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}e.exports=s;var k=n(91),S=n(70).Buffer;s.ReadableState=i;var T=n(85).EventEmitter;T.listenerCount||(T.listenerCount=function(e,t){return e.listeners(t).length});var A=n(86),E=n(92);E.inherits=n(93);var C,D=n(94);D=D&&D.debuglog?D.debuglog("stream"):function(){},E.inherits(s,A),s.prototype.push=function(e,t){var n=this._readableState;return E.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),r(this,n,e,t,!1)},s.prototype.unshift=function(e){var t=this._readableState;return r(this,t,e,"",!0)},s.prototype.setEncoding=function(e){return C||(C=n(97).StringDecoder),this._readableState.decoder=new C(e),this._readableState.encoding=e,this};var I=8388608;s.prototype.read=function(e){D("read",e);var t=this._readableState,n=e;if((!E.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return D("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?b(this):d(this),null;if(e=l(e,t),0===e&&t.ended)return 0===t.length&&b(this),null;var i=t.needReadable;D("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,D("length less than watermark",i)),(t.ended||t.reading)&&(i=!1,D("reading or ended",i)),i&&(D("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=l(n,t));var s;return s=e>0?y(e,t):null,E.isNull(s)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&b(this),E.isNull(s)||this.emit("data",s),s},s.prototype._read=function(e){this.emit("error",new Error("not implemented"))},s.prototype.pipe=function(e,n){function i(e){D("onunpipe"),e===d&&r()}function s(){D("onend"),e.end()}function r(){D("cleanup"),e.removeListener("close",l),e.removeListener("finish",u),e.removeListener("drain",m),e.removeListener("error",a),e.removeListener("unpipe",i),d.removeListener("end",s),d.removeListener("end",r),d.removeListener("data",o),!h.awaitDrain||e._writableState&&!e._writableState.needDrain||m()}function o(t){D("ondata");var n=e.write(t);!1===n&&(D("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,d.pause())}function a(t){D("onerror",t),c(),e.removeListener("error",a),0===T.listenerCount(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",u),c()}function u(){D("onfinish"),e.removeListener("close",l),c()}function c(){D("unpipe"),d.unpipe(e)}var d=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,D("pipe count=%d opts=%j",h.pipesCount,n);var p=(!n||n.end!==!1)&&e!==t.stdout&&e!==t.stderr,f=p?s:r;h.endEmitted?t.nextTick(f):d.once("end",f),e.on("unpipe",i);var m=g(d);return e.on("drain",m),d.on("data",o),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",l),e.once("finish",u),e.emit("pipe",d),h.flowing||(D("pipe resume"),d.resume()),e},s.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;i>s;s++)n[s].emit("unpipe",this);return this}var s=x(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},s.prototype.on=function(e,n){var i=A.prototype.on.call(this,e,n);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var s=this._readableState;if(!s.readableListening)if(s.readableListening=!0,s.emittedReadable=!1,s.needReadable=!0,s.reading)s.length&&d(this,s);else{var r=this;t.nextTick(function(){D("readable nexttick read 0"),r.read(0)})}}return i},s.prototype.addListener=s.prototype.on,s.prototype.resume=function(){var e=this._readableState;return e.flowing||(D("resume"),e.flowing=!0,e.reading||(D("resume read 0"),this.read(0)),m(this,e)),this},s.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this},s.prototype.wrap=function(e){var t=this._readableState,n=!1,i=this;e.on("end",function(){if(D("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&i.push(e)}i.push(null)}),e.on("data",function(s){if(D("wrapped data"),t.decoder&&(s=t.decoder.write(s)),s&&(t.objectMode||s.length)){var r=i.push(s);r||(n=!0,e.pause())}});for(var s in e)E.isFunction(e[s])&&E.isUndefined(this[s])&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));var r=["error","close","destroy","pause","resume"];return w(r,function(t){e.on(t,i.emit.bind(i,t))}),i._read=function(t){D("wrapped _read",t),n&&(n=!1,e.resume())},i},s._fromList=y}).call(t,n(90))},function(e,t){function n(){u=!1,o.length?l=o.concat(l):c=-1,l.length&&i()}function i(){if(!u){var e=setTimeout(n);u=!0;for(var t=l.length;t;){for(o=l,l=[];++c<t;)o&&o[c].run();c=-1,t=l.length}o=null,u=!1,clearTimeout(e)}}function s(e,t){this.fun=e,this.array=t}function r(){}var o,a=e.exports={},l=[],u=!1,c=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new s(e,t)),1!==l.length||u||setTimeout(i,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=r,a.addListener=r,a.once=r,a.off=r,a.removeListener=r,a.removeAllListeners=r,a.emit=r,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){(function(e){function n(e){return Array.isArray(e)}function i(e){return"boolean"==typeof e}function s(e){return null===e}function r(e){return null==e}function o(e){return"number"==typeof e}function a(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function u(e){return void 0===e}function c(e){return d(e)&&"[object RegExp]"===v(e)}function d(e){return"object"==typeof e&&null!==e}function h(e){return d(e)&&"[object Date]"===v(e)}function p(e){return d(e)&&("[object Error]"===v(e)||e instanceof Error)}function f(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function m(t){return e.isBuffer(t)}function v(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=i,t.isNull=s,t.isNullOrUndefined=r,t.isNumber=o,t.isString=a,t.isSymbol=l,t.isUndefined=u,t.isRegExp=c,t.isObject=d,t.isDate=h,t.isError=p,t.isFunction=f,t.isPrimitive=g,t.isBuffer=m}).call(t,n(70).Buffer)},87,function(e,t){},function(e,t,n){(function(t){function i(e){return this instanceof i?(l.call(this,e),u.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",s)):new i(e)}function s(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}function r(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n)}e.exports=i;var o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=n(92);a.inherits=n(93);var l=n(89),u=n(96);a.inherits(i,l),r(o(u.prototype),function(e){i.prototype[e]||(i.prototype[e]=u.prototype[e])})}).call(t,n(90))},function(e,t,n){(function(t){function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function s(e,t){var i=n(95);e=e||{};var s=e.highWaterMark,r=e.objectMode?16:16384;this.highWaterMark=s||0===s?s:r,this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),
this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=e.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){p(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function r(e){var t=n(95);return this instanceof r||this instanceof t?(this._writableState=new s(e,this),this.writable=!0,void k.call(this)):new r(e)}function o(e,n,i){var s=new Error("write after end");e.emit("error",s),t.nextTick(function(){i(s)})}function a(e,n,i,s){var r=!0;if(!(x.isBuffer(i)||x.isString(i)||x.isNullOrUndefined(i)||n.objectMode)){var o=new TypeError("Invalid non-string/buffer chunk");e.emit("error",o),t.nextTick(function(){s(o)}),r=!1}return r}function l(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&x.isString(t)&&(t=new w(t,n)),t}function u(e,t,n,s,r){n=l(t,n,s),x.isBuffer(n)&&(s="buffer");var o=t.objectMode?1:n.length;t.length+=o;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new i(n,s,r)):c(e,t,!1,o,n,s,r),a}function c(e,t,n,i,s,r,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(s,t.onwrite):e._write(s,r,t.onwrite),t.sync=!1}function d(e,n,i,s,r){i?t.nextTick(function(){n.pendingcb--,r(s)}):(n.pendingcb--,r(s)),e._writableState.errorEmitted=!0,e.emit("error",s)}function h(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function p(e,n){var i=e._writableState,s=i.sync,r=i.writecb;if(h(i),n)d(e,i,s,n,r);else{var o=v(e,i);o||i.corked||i.bufferProcessing||!i.buffer.length||m(e,i),s?t.nextTick(function(){f(e,i,o,r)}):f(e,i,o,r)}}function f(e,t,n,i){n||g(e,t),t.pendingcb--,i(),y(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],i=0;i<t.buffer.length;i++)n.push(t.buffer[i].callback);t.pendingcb++,c(e,t,!0,t.length,t.buffer,"",function(e){for(var i=0;i<n.length;i++)t.pendingcb--,n[i](e)}),t.buffer=[]}else{for(var i=0;i<t.buffer.length;i++){var s=t.buffer[i],r=s.chunk,o=s.encoding,a=s.callback,l=t.objectMode?1:r.length;if(c(e,t,!1,l,r,o,a),t.writing){i++;break}}i<t.buffer.length?t.buffer=t.buffer.slice(i):t.buffer.length=0}t.bufferProcessing=!1}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function _(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var n=v(e,t);return n&&(0===t.pendingcb?(_(e,t),t.finished=!0,e.emit("finish")):_(e,t)),n}function b(e,n,i){n.ending=!0,y(e,n),i&&(n.finished?t.nextTick(i):e.once("finish",i)),n.ended=!0}e.exports=r;var w=n(70).Buffer;r.WritableState=s;var x=n(92);x.inherits=n(93);var k=n(86);x.inherits(r,k),r.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},r.prototype.write=function(e,t,n){var i=this._writableState,s=!1;return x.isFunction(t)&&(n=t,t=null),x.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),x.isFunction(n)||(n=function(){}),i.ended?o(this,i,n):a(this,i,e,n)&&(i.pendingcb++,s=u(this,i,e,t,n)),s},r.prototype.cork=function(){var e=this._writableState;e.corked++},r.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||m(this,e))},r.prototype._write=function(e,t,n){n(new Error("not implemented"))},r.prototype._writev=null,r.prototype.end=function(e,t,n){var i=this._writableState;x.isFunction(e)?(n=e,e=null,t=null):x.isFunction(t)&&(n=t,t=null),x.isNullOrUndefined(e)||this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||b(this,i,n)}}).call(t,n(90))},function(e,t,n){function i(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function s(e){return e.toString(this.encoding)}function r(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function o(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=n(70).Buffer,l=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),i(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=r;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=s)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(!(i>=55296&&56319>=i)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var s=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,s),s-=this.charReceived),t+=e.toString(this.encoding,0,s);var s=t.length-1,i=t.charCodeAt(s);if(i>=55296&&56319>=i){var r=this.surrogateSize;return this.charLength+=r,this.charReceived+=r,this.charBuffer.copy(this.charBuffer,r,0,r),e.copy(this.charBuffer,0,0,r),t.substring(0,s)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}this.charReceived=t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,i=this.charBuffer,s=this.encoding;t+=i.slice(0,n).toString(s)}return t}},function(e,t,n){function i(e,t){this.afterTransform=function(e,n){return s(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function s(e,t,n){var i=e._transformState;i.transforming=!1;var s=i.writecb;if(!s)return e.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,l.isNullOrUndefined(n)||e.push(n),s&&s(t);var r=e._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&e._read(r.highWaterMark)}function r(e){if(!(this instanceof r))return new r(e);a.call(this,e),this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){l.isFunction(this._flush)?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=r;var a=n(95),l=n(92);l.inherits=n(93),l.inherits(r,a),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,n){throw new Error("not implemented")},r.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var s=this._readableState;(i.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}},r.prototype._read=function(e){var t=this._transformState;l.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t,n){function i(e){return this instanceof i?void s.call(this,e):new i(e)}e.exports=i;var s=n(98),r=n(92);r.inherits=n(93),r.inherits(i,s),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(96)},function(e,t,n){e.exports=n(95)},function(e,t,n){e.exports=n(98)},function(e,t,n){e.exports=n(99)},function(e,t,n){(function(t){var i,s=n(74),r=n(69),o=(r.BaseTransform,r.BaseParser),a=n(105);e.exports=i=function(e,t){r.BaseParser.prototype.constructor.apply(this,arguments),e||(e={audioTrackId:-1,videoTrackId:-1,tracks:[]}),this.muxer=new a(e),this.muxer.ondata=this._onMp4Data.bind(this),this.muxer.oncodecinfo=this._onCodecInfo.bind(this),this._codecInfo=null,this._timestamp=0,t&&(this.worker="undefined"!=typeof Worker?new Worker("/dist/mp4-mux-worker-bundle.js"):null),this.worker&&(this.worker.onmessage=function(e){this._onMp4Data(e.data)}.bind(this),this.worker.postMessage({mp4MuxProfile:e}))},i.Profiles=a.Profiles,i.prototype=r.createBaseParser({constructor:i,_onMp4Data:function(e){s("_onMp4Data"),this.enqueue(new r.Transfer(new t(e),"buffer"))},_onCodecInfo:function(e){s("Codec info: "+e),this._codecInfo=e},_onFinish:function(e){s("MP4Mux._onFinish"),this.worker?this.worker.postMessage({eos:!0}):this.muxer&&this.muxer.flush(),o.prototype._onFinish.call(this,e)},_parse:function(e){var t;e.data&&(t=this._timestamp=e.data.timestamp),e.data.flush&&(this._needFlush=!0),s("UnitMP4Mux Timestamp: "+this._timestamp),s("UnitMP4Mux._parse: Payload type: "+typeof e.data),this.worker?(e.data.empty||this.worker.postMessage({data:e.data,meta:e.data.meta,timestamp:t,packetType:a.TYPE_AUDIO_PACKET}),this._needFlush&&(this.worker.postMessage({eos:!0}),this._needFlush=!1)):this.muxer&&(e.data.empty||this.muxer.pushPacket(a.TYPE_AUDIO_PACKET,new Uint8Array(e.data),t,e.data.meta),this._needFlush&&(this.muxer.flush(),this._needFlush=!1))}})}).call(t,n(70).Buffer)},function(e,t,n){function i(e){for(var t=e.length>>1,n=new Uint8Array(t),i=0;t>i;i++)n[i]=parseInt(e.substr(2*i,2),16);return n}function s(e,t){var n,i=0,s=o.RAW;switch(t.codecId){case d:var r=e[i++];s=r,n=1024;break;case c:var l=e[i+1]>>3&3,h=e[i+1]>>1&3;n=1===h?3===l?1152:576:3===h?384:1152}return info={codecDescription:u[t.codecId],codecId:t.codecId,data:e.subarray(i),rate:t.sampleRate,size:t.sampleSize,channels:t.channels,samples:n,packetType:s},a("parsed audio packet with %d samples",n),info}function r(e){var t=0,n=e[t]>>4,i=15&e[t];t++;var s={frameType:n,codecId:i,codecDescription:p[i]};switch(i){case g:var r=e[t++];s.packetType=r,s.compositionTime=(e[t]<<24|e[t+1]<<16|e[t+2]<<8)>>8,t+=3;break;case f:s.packetType=m.NALU,s.horizontalOffset=e[t]>>4&15,s.verticalOffset=15&e[t],s.compositionTime=0,t++}return s.data=e.subarray(t),s}var o,a=n(74),l=n(106),u=["PCM","ADPCM","MP3","PCM le","Nellymouser16","Nellymouser8","Nellymouser","G.711 A-law","G.711 mu-law",null,"AAC","Speex","MP3 8khz"],c=2,d=10;!function(e){e[e.HEADER=0]="HEADER",e[e.RAW=1]="RAW"}(o||(o={}));var h,p=[null,"JPEG","Sorenson","Screen","VP6","VP6 alpha","Screen2","AVC"],f=4,g=7;!function(e){e[e.KEY=1]="KEY",e[e.INNER=2]="INNER",e[e.DISPOSABLE=3]="DISPOSABLE",e[e.GENERATED=4]="GENERATED",e[e.INFO=5]="INFO"}(h||(h={}));var m;!function(e){e[e.HEADER=0]="HEADER",e[e.NALU=1]="NALU",e[e.END=2]="END"}(m||(m={}));var v,_=8,y=9,b=!0;!function(e){e[e.CAN_GENERATE_HEADER=0]="CAN_GENERATE_HEADER",e[e.NEED_HEADER_DATA=1]="NEED_HEADER_DATA",e[e.MAIN_PACKETS=2]="MAIN_PACKETS"}(v||(v={}));var w=function(){function e(e){var t=this;this.oncodecinfo=function(e){throw new Error("MP4Mux.oncodecinfo is not set")},this.ondata=function(e){throw new Error("MP4Mux.ondata is not set")},this.metadata=e,this.trackStates=this.metadata.tracks.map(function(e,n){var i={trackId:n+1,trackInfo:e,cachedDuration:0,samplesProcessed:0,initializationData:[]};return t.metadata.audioTrackId===n&&(t.audioTrackState=i),t.metadata.videoTrackId===n&&(t.videoTrackState=i),i},this),this._checkIfNeedHeaderData(),this.filePos=0,this.cachedPackets=[],this.chunkIndex=0}return e.prototype.pushPacket=function(e,t,n,i){switch(this.state===v.CAN_GENERATE_HEADER&&this._tryGenerateHeader(),e){case _:var a=this.audioTrackState,l=s(t,i);if(!a||a.trackInfo.codecId!==l.codecId)throw new Error("Unexpected audio packet codec: "+l.codecDescription);switch(l.codecId){default:throw new Error("Unsupported audio codec: "+l.codecDescription);case c:break;case d:if(l.packetType===o.HEADER)return void a.initializationData.push(l.data)}this.cachedPackets.push({packet:l,timestamp:n,trackId:a.trackId});break;case y:var u=this.videoTrackState,h=r(t);if(!u||u.trackInfo.codecId!==h.codecId)throw new Error("Unexpected video packet codec: "+h.codecDescription);switch(h.codecId){default:throw new Error("unsupported video codec: "+h.codecDescription);case f:break;case g:if(h.packetType===m.HEADER)return void u.initializationData.push(h.data)}this.cachedPackets.push({packet:h,timestamp:n,trackId:u.trackId});break;default:throw new Error("unknown packet type: "+e)}this.state===v.NEED_HEADER_DATA&&this._tryGenerateHeader()},e.prototype.flush=function(){this.cachedPackets.length>0&&this._chunk()},e.prototype._checkIfNeedHeaderData=function(){this.trackStates.some(function(e){return e.trackInfo.codecId===d||e.trackInfo.codecId===g})?this.state=v.NEED_HEADER_DATA:this.state=v.CAN_GENERATE_HEADER},e.prototype._tryGenerateHeader=function(){var e=this.trackStates.every(function(e){switch(e.trackInfo.codecId){case d:case g:return e.initializationData.length>0;default:return!0}});if(e){for(var t=["isom"],n=1,s=1,r=[],o=0;o<this.trackStates.length;o++){var a,u=this.trackStates[o],h=u.trackInfo;switch(h.codecId){case d:var p=u.initializationData[0];a=new l.AudioSampleEntry("mp4a",n,h.channels,h.samplesize,h.samplerate);var m=new Uint8Array(41+p.length);m.set(i("0000000003808080"),0),m[8]=32+p.length,m.set(i("00020004808080"),9),m[16]=18+p.length,m.set(i("40150000000000FA000000000005808080"),17),m[34]=p.length,m.set(p,35),m.set(i("068080800102"),35+p.length),a.otherBoxes=[new l.RawTag("esds",m)];var _=p[0]>>3;u.mimeTypeCodec="mp4a.40."+_;break;case c:a=new l.AudioSampleEntry(".mp3",n,h.channels,h.samplesize,h.samplerate),u.mimeTypeCodec="mp3";break;case g:var y=u.initializationData[0];a=new l.VideoSampleEntry("avc1",s,h.width,h.height),a.otherBoxes=[new l.RawTag("avcC",y)];var b=y[1]<<16|y[2]<<8|y[3];u.mimeTypeCodec="avc1."+(16777216|b).toString(16).substr(1),t.push("iso2","avc1","mp41");break;case f:a=new l.VideoSampleEntry("VP6F",s,h.width,h.height),a.otherBoxes=[new l.RawTag("glbl",i("00"))],u.mimeTypeCodec="avc1.42001E";break;default:throw new Error("not supported track type")}var w,x=l.TrackHeaderFlags.TRACK_ENABLED|l.TrackHeaderFlags.TRACK_IN_MOVIE;u===this.audioTrackState?w=new l.TrackBox(new l.TrackHeaderBox(x,u.trackId,-1,0,0,1,o),new l.MediaBox(new l.MediaHeaderBox(h.timescale,-1,h.language),new l.HandlerBox("soun","SoundHandler"),new l.MediaInformationBox(new l.SoundMediaHeaderBox,new l.DataInformationBox(new l.DataReferenceBox([new l.DataEntryUrlBox(l.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new l.SampleTableBox(new l.SampleDescriptionBox([a]),new l.RawTag("stts",i("0000000000000000")),new l.RawTag("stsc",i("0000000000000000")),new l.RawTag("stsz",i("000000000000000000000000")),new l.RawTag("stco",i("0000000000000000")))))):u===this.videoTrackState&&(w=new l.TrackBox(new l.TrackHeaderBox(x,u.trackId,-1,h.width,h.height,0,o),new l.MediaBox(new l.MediaHeaderBox(h.timescale,-1,h.language),new l.HandlerBox("vide","VideoHandler"),new l.MediaInformationBox(new l.VideoMediaHeaderBox,new l.DataInformationBox(new l.DataReferenceBox([new l.DataEntryUrlBox(l.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new l.SampleTableBox(new l.SampleDescriptionBox([a]),new l.RawTag("stts",i("0000000000000000")),new l.RawTag("stsc",i("0000000000000000")),new l.RawTag("stsz",i("000000000000000000000000")),new l.RawTag("stco",i("0000000000000000"))))))),r.push(w)}var k=new l.MovieExtendsBox(null,[new l.TrackExtendsBox(1,1,0,0,0),new l.TrackExtendsBox(2,1,0,0,0)],null),S=new l.BoxContainerBox("udat",[new l.MetaBox(new l.RawTag("hdlr",i("00000000000000006D6469726170706C000000000000000000")),[new l.RawTag("ilst",i("00000025A9746F6F0000001D6461746100000001000000004C61766635342E36332E313034"))])]),T=new l.MovieHeaderBox(1e3,0,this.trackStates.length+1),A=new l.MovieBox(T,r,k,S),E=new l.FileTypeBox("isom",512,t),C=E.layout(0),D=A.layout(C),I=new Uint8Array(C+D);E.write(I),A.write(I),this.oncodecinfo(this.trackStates.map(function(e){return e.mimeTypeCodec})),this.ondata(I),this.filePos+=I.length,this.state=v.MAIN_PACKETS}},e.prototype._chunk=function(){var e=this.cachedPackets;if(b&&this.videoTrackState){for(var t=e.length-1,n=this.videoTrackState.trackId;t>0&&(e[t].trackId!==n||e[t].packet.frameType!==h.KEY);)t--;t>0&&(e=e.slice(0,t))}if(0!==e.length){for(var i=[],s=0,r=[],o=[],a=0;a<this.trackStates.length;a++){var u=this.trackStates[a],p=u.trackInfo,m=u.trackId,v=e.filter(function(e){return e.trackId===m});if(0!==v.length){var _,y,w,x=new l.TrackFragmentBaseMediaDecodeTimeBox(u.cachedDuration);switch(o.push(s),p.codecId){case d:case c:w=[];for(var t=0;t<v.length;t++){var k=v[t].packet,S=Math.round(k.samples*p.timescale/p.samplerate);i.push(k.data),s+=k.data.length,w.push({duration:S,size:k.data.length}),u.samplesProcessed+=k.samples}var T=l.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;_=new l.TrackFragmentHeaderBox(T,m,0,0,0,0,l.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var A=l.TrackRunFlags.DATA_OFFSET_PRESENT|l.TrackRunFlags.SAMPLE_DURATION_PRESENT|l.TrackRunFlags.SAMPLE_SIZE_PRESENT;y=new l.TrackRunBox(A,w,0,0),u.cachedDuration=Math.round(u.samplesProcessed*p.timescale/p.samplerate);break;case g:case f:w=[];for(var E=u.samplesProcessed,C=E*p.timescale/p.framerate,D=Math.round(C),t=0;t<v.length;t++){var I=v[t].packet;E++;var M=Math.round(E*p.timescale/p.framerate),P=M-D;D=M;var L=Math.round(E*p.timescale/p.framerate+I.compositionTime*p.timescale/1e3);i.push(I.data),s+=I.data.length;var F=I.frameType===h.KEY?l.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS:l.SampleFlags.SAMPLE_DEPENDS_ON_OTHER|l.SampleFlags.SAMPLE_IS_NOT_SYNC;w.push({duration:P,size:I.data.length,flags:F,compositionTimeOffset:L-M})}var T=l.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;_=new l.TrackFragmentHeaderBox(T,m,0,0,0,0,l.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var A=l.TrackRunFlags.DATA_OFFSET_PRESENT|l.TrackRunFlags.SAMPLE_DURATION_PRESENT|l.TrackRunFlags.SAMPLE_SIZE_PRESENT|l.TrackRunFlags.SAMPLE_FLAGS_PRESENT|l.TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET;y=new l.TrackRunBox(A,w,0,0),u.cachedDuration=D,u.samplesProcessed=E;break;default:throw new Error("Un codec")}var N=new l.TrackFragmentBox(_,x,y);r.push(N)}}this.cachedPackets.splice(0,e.length);for(var O=new l.MovieFragmentHeaderBox(++this.chunkIndex),R=new l.MovieFragmentBox(O,r),$=R.layout(0),B=new l.MediaDataBox(i),U=B.layout($),z=$+8,a=0;a<r.length;a++)r[a].run.dataOffset=z+o[a];var j=new Uint8Array($+U);R.write(j),B.write(j),this.ondata(j),this.filePos+=j.length}},e}();e.exports=w,w.MP3_SOUND_CODEC_ID=c,w.AAC_SOUND_CODEC_ID=d,w.TYPE_AUDIO_PACKET=_,w.TYPE_VIDEO_PACKET=y,w.Profiles={MP3_AUDIO_ONLY:{audioTrackId:0,videoTrackId:-1,tracks:[{codecId:w.MP3_SOUND_CODEC_ID,channels:2,samplerate:44100,samplesize:16,timescale:44100}]}}},function(e,t){function n(e){for(var t=new Uint8Array(4*e.length),n=0,i=0,s=e.length;s>i;i++){var r=e.charCodeAt(i);if(127>=r)t[n++]=r;else{if(r>=55296&&56319>=r){var o=e.charCodeAt(i+1);o>=56320&&57343>=o&&(r=((1023&r)<<10)+(1023&o)+65536,++i)}0!==(4292870144&r)?(t[n++]=248|r>>>24&3,t[n++]=128|r>>>18&63,t[n++]=128|r>>>12&63,t[n++]=128|r>>>6&63,t[n++]=128|63&r):0!==(4294901760&r)?(t[n++]=240|r>>>18&7,t[n++]=128|r>>>12&63,t[n++]=128|r>>>6&63,t[n++]=128|63&r):0!==(4294965248&r)?(t[n++]=224|r>>>12&15,t[n++]=128|r>>>6&63,t[n++]=128|63&r):(t[n++]=192|r>>>6&31,t[n++]=128|63&r)}}return t.subarray(0,n)}function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Array.prototype.concat.apply(e,t)}function s(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function r(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}function o(e){return(e-p)/1e3|0}function a(e){return 65536*e|0}function l(e){return 1073741824*e|0}function u(e){return 256*e|0}function c(e){return(31&e.charCodeAt(0))<<10|(31&e.charCodeAt(1))<<5|31&e.charCodeAt(2)}var d,h=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};e.exports=d={};var p=-20828448e5,f=[1,0,0,0,1,0,0,0,1],g=[0,0,0],m=function(){function e(e,t){this.boxtype=e,"uuid"===e&&(this.userType=t)}return e.prototype.layout=function(e){this.offset=e;var t=8;return this.userType&&(t+=16),this.size=t,t},e.prototype.write=function(e){return s(e,this.offset,this.size),s(e,this.offset+4,r(this.boxtype)),this.userType?(e.set(this.userType,this.offset+8),24):8},e.prototype.toUint8Array=function(){var e=this.layout(0),t=new Uint8Array(e);return this.write(t),t},e}();d.Box=m;var v=function(e){function t(t,n,i){void 0===n&&(n=0),void 0===i&&(i=0),e.call(this,t),this.version=n,this.flags=i}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,this.version<<24|this.flags),n+4},t}(m);d.FullBox=v;var _=function(e){function t(t,n,i){e.call(this,"ftype"),this.majorBrand=t,this.minorVersion=n,this.compatibleBrands=i}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4*(2+this.compatibleBrands.length),this.size},t.prototype.write=function(t){var n=this,i=e.prototype.write.call(this,t);return s(t,this.offset+i,r(this.majorBrand)),s(t,this.offset+i+4,this.minorVersion),i+=8,this.compatibleBrands.forEach(function(e){s(t,n.offset+i,r(e)),i+=4},this),i},t}(m);d.FileTypeBox=_;var y=function(e){function t(t,n){e.call(this,t),this.children=n}return h(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.children.forEach(function(e){e&&(n+=e.layout(t+n))}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return this.children.forEach(function(e){e&&(n+=e.write(t))}),n},t}(m);d.BoxContainerBox=y;var b=function(e){function t(t,n,s,r){e.call(this,"moov",i([t],n,[s,r])),this.header=t,this.tracks=n,this.extendsBox=s,this.userData=r}return h(t,e),t}(y);d.MovieBox=b;var w=function(e){function t(t,n,i,s,r,o,a,l){void 0===s&&(s=1),void 0===r&&(r=1),void 0===o&&(o=f),void 0===a&&(a=p),void 0===l&&(l=p),e.call(this,"mvhd",0,0),this.timescale=t,this.duration=n,this.nextTrackId=i,this.rate=s,this.volume=r,this.matrix=o,this.creationTime=a,this.modificationTime=l}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4+2+2+8+36+24+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,o(this.creationTime)),s(t,this.offset+n+4,o(this.modificationTime)),s(t,this.offset+n+8,this.timescale),s(t,this.offset+n+12,this.duration),n+=16,s(t,this.offset+n,a(this.rate)),s(t,this.offset+n+4,u(this.volume)<<16),s(t,this.offset+n+8,0),s(t,this.offset+n+12,0),n+=16,s(t,this.offset+n,a(this.matrix[0])),s(t,this.offset+n+4,a(this.matrix[1])),s(t,this.offset+n+8,a(this.matrix[2])),s(t,this.offset+n+12,a(this.matrix[3])),s(t,this.offset+n+16,a(this.matrix[4])),s(t,this.offset+n+20,a(this.matrix[5])),s(t,this.offset+n+24,l(this.matrix[6])),s(t,this.offset+n+28,l(this.matrix[7])),s(t,this.offset+n+32,l(this.matrix[8])),n+=36,s(t,this.offset+n,0),s(t,this.offset+n+4,0),s(t,this.offset+n+8,0),s(t,this.offset+n+12,0),s(t,this.offset+n+16,0),s(t,this.offset+n+20,0),n+=24,s(t,this.offset+n,this.nextTrackId),n+=4},t}(v);d.MovieHeaderBox=w,function(e){e[e.TRACK_ENABLED=1]="TRACK_ENABLED",e[e.TRACK_IN_MOVIE=2]="TRACK_IN_MOVIE",e[e.TRACK_IN_PREVIEW=4]="TRACK_IN_PREVIEW"}(d.TrackHeaderFlags||(d.TrackHeaderFlags={}));var x=(d.TrackHeaderFlags,function(e){function t(t,n,i,s,r,o,a,l,u,c,d){void 0===a&&(a=0),void 0===l&&(l=0),void 0===u&&(u=f),void 0===c&&(c=p),void 0===d&&(d=p),e.call(this,"tkhd",0,t),this.trackId=n,this.duration=i,this.width=s,this.height=r,this.volume=o,this.alternateGroup=a,this.layer=l,this.matrix=u,this.creationTime=c,this.modificationTime=d}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20+8+6+2+36+8,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,o(this.creationTime)),s(t,this.offset+n+4,o(this.modificationTime)),s(t,this.offset+n+8,this.trackId),s(t,this.offset+n+12,0),s(t,this.offset+n+16,this.duration),n+=20,s(t,this.offset+n,0),s(t,this.offset+n+4,0),s(t,this.offset+n+8,this.layer<<16|this.alternateGroup),s(t,this.offset+n+12,u(this.volume)<<16),n+=16,s(t,this.offset+n,a(this.matrix[0])),s(t,this.offset+n+4,a(this.matrix[1])),s(t,this.offset+n+8,a(this.matrix[2])),s(t,this.offset+n+12,a(this.matrix[3])),s(t,this.offset+n+16,a(this.matrix[4])),s(t,this.offset+n+20,a(this.matrix[5])),s(t,this.offset+n+24,l(this.matrix[6])),s(t,this.offset+n+28,l(this.matrix[7])),s(t,this.offset+n+32,l(this.matrix[8])),n+=36,s(t,this.offset+n,a(this.width)),s(t,this.offset+n+4,a(this.height)),n+=8},t}(v));d.TrackHeaderBox=x;var k=function(e){function t(t,n,i,s,r){void 0===i&&(i="unk"),void 0===s&&(s=p),void 0===r&&(r=p),e.call(this,"mdhd",0,0),this.timescale=t,this.duration=n,this.language=i,this.creationTime=s,this.modificationTime=r}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,o(this.creationTime)),s(t,this.offset+n+4,o(this.modificationTime)),s(t,this.offset+n+8,this.timescale),s(t,this.offset+n+12,this.duration),s(t,this.offset+n+16,c(this.language)<<16),n+20},t}(v);d.MediaHeaderBox=k;var S=function(e){function t(t,i){e.call(this,"hdlr",0,0),this.handlerType=t,this.name=i,this._encodedName=n(this.name)}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8+12+(this._encodedName.length+1),this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,0),s(t,this.offset+n+4,r(this.handlerType)),s(t,this.offset+n+8,0),s(t,this.offset+n+12,0),s(t,this.offset+n+16,0),n+=20,t.set(this._encodedName,this.offset+n),t[this.offset+n+this._encodedName.length]=0,n+=this._encodedName.length+1},t}(v);d.HandlerBox=S;var T=function(e){function t(t){void 0===t&&(t=0),e.call(this,"smhd",0,0),this.balance=t}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,u(this.balance)<<16),n+4},t}(v);d.SoundMediaHeaderBox=T;var A=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=g),e.call(this,"vmhd",0,0),this.graphicsMode=t,this.opColor=n}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,this.graphicsMode<<16|this.opColor[0]),s(t,this.offset+n+4,this.opColor[1]<<16|this.opColor[2]),n+8},t}(v);d.VideoMediaHeaderBox=A,d.SELF_CONTAINED_DATA_REFERENCE_FLAG=1;var E=function(e){function t(t,i){void 0===i&&(i=null),e.call(this,"url ",0,t),this.location=i,t&d.SELF_CONTAINED_DATA_REFERENCE_FLAG||(this._encodedLocation=n(i))}return h(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this._encodedLocation&&(n+=this._encodedLocation.length+1),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return this._encodedLocation&&(t.set(this._encodedLocation,this.offset+n),t[this.offset+n+this._encodedLocation.length]=0,n+=this._encodedLocation.length),n},t}(v);d.DataEntryUrlBox=E;var C=function(e){function t(t){e.call(this,"dref",0,0),this.entries=t}return h(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4;return this.entries.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,this.entries.length),this.entries.forEach(function(e){n+=e.write(t)}),n},t}(v);d.DataReferenceBox=C;var D=function(e){function t(t){e.call(this,"dinf",[t]),this.dataReference=t}return h(t,e),t}(y);d.DataInformationBox=D;var I=function(e){function t(t){e.call(this,"stsd",0,0),this.entries=t}return h(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return n+=4,this.entries.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,this.entries.length),n+=4,this.entries.forEach(function(e){n+=e.write(t)}),n},t}(v);d.SampleDescriptionBox=I;var M=function(e){function t(t,n,i,s,r){e.call(this,"stbl",[t,n,i,s,r]),this.sampleDescriptions=t,this.timeToSample=n,this.sampleToChunk=i,this.sampleSizes=s,this.chunkOffset=r}return h(t,e),t}(y);d.SampleTableBox=M;var P=function(e){function t(t,n,i){e.call(this,"minf",[t,n,i]),this.header=t,this.info=n,this.sampleTable=i}return h(t,e),t}(y);d.MediaInformationBox=P;var L=function(e){function t(t,n,i){e.call(this,"mdia",[t,n,i]),this.header=t,this.handler=n,this.info=i}return h(t,e),t}(y);d.MediaBox=L;var F=function(e){function t(t,n){e.call(this,"trak",[t,n]),this.header=t,this.media=n}return h(t,e),t}(y);d.TrackBox=F;var N=function(e){function t(t,n,i,s,r){e.call(this,"trex",0,0),this.trackId=t,this.defaultSampleDescriptionIndex=n,this.defaultSampleDuration=i,this.defaultSampleSize=s,this.defaultSampleFlags=r}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,this.trackId),s(t,this.offset+n+4,this.defaultSampleDescriptionIndex),s(t,this.offset+n+8,this.defaultSampleDuration),s(t,this.offset+n+12,this.defaultSampleSize),s(t,this.offset+n+16,this.defaultSampleFlags),n+20},t}(v);d.TrackExtendsBox=N;var O=function(e){function t(t,n,s){e.call(this,"mvex",i([t],n,[s])),this.header=t,this.tracDefaults=n,this.levels=s}return h(t,e),t}(y);d.MovieExtendsBox=O;var R=function(e){function t(t,n){e.call(this,"meta",0,0),this.handler=t,this.otherBoxes=n}return h(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return n+=this.handler.layout(t+n),this.otherBoxes.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return n+=this.handler.write(t),this.otherBoxes.forEach(function(e){n+=e.write(t)}),n},t}(v);d.MetaBox=R;var $=function(e){function t(t){e.call(this,"mfhd",0,0),this.sequenceNumber=t}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,this.sequenceNumber),n+4},t}(v);d.MovieFragmentHeaderBox=$,function(e){e[e.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",e[e.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",e[e.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",e[e.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",e[e.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT"}(d.TrackFragmentFlags||(d.TrackFragmentFlags={}));var B=d.TrackFragmentFlags,U=function(e){function t(t,n,i,s,r,o,a){e.call(this,"tfhd",0,t),this.trackId=n,this.baseDataOffset=i,this.sampleDescriptionIndex=s,this.defaultSampleDuration=r,this.defaultSampleSize=o,this.defaultSampleFlags=a}return h(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4,i=this.flags;return i&B.BASE_DATA_OFFSET_PRESENT&&(n+=8),i&B.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(n+=4),i&B.DEFAULT_SAMPLE_DURATION_PRESENT&&(n+=4),i&B.DEFAULT_SAMPLE_SIZE_PRESENT&&(n+=4),i&B.DEFAULT_SAMPLE_FLAGS_PRESENT&&(n+=4),
this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t),i=this.flags;return s(t,this.offset+n,this.trackId),n+=4,i&B.BASE_DATA_OFFSET_PRESENT&&(s(t,this.offset+n,0),s(t,this.offset+n+4,this.baseDataOffset),n+=8),i&B.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(s(t,this.offset+n,this.sampleDescriptionIndex),n+=4),i&B.DEFAULT_SAMPLE_DURATION_PRESENT&&(s(t,this.offset+n,this.defaultSampleDuration),n+=4),i&B.DEFAULT_SAMPLE_SIZE_PRESENT&&(s(t,this.offset+n,this.defaultSampleSize),n+=4),i&B.DEFAULT_SAMPLE_FLAGS_PRESENT&&(s(t,this.offset+n,this.defaultSampleFlags),n+=4),n},t}(v);d.TrackFragmentHeaderBox=U;var z=function(e){function t(t){e.call(this,"tfdt",0,0),this.baseMediaDecodeTime=t}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,this.baseMediaDecodeTime),n+4},t}(v);d.TrackFragmentBaseMediaDecodeTimeBox=z;var j=function(e){function t(t,n,i){e.call(this,"traf",[t,n,i]),this.header=t,this.decodeTime=n,this.run=i}return h(t,e),t}(y);d.TrackFragmentBox=j,function(e){e[e.IS_LEADING_MASK=201326592]="IS_LEADING_MASK",e[e.SAMPLE_DEPENDS_ON_MASK=50331648]="SAMPLE_DEPENDS_ON_MASK",e[e.SAMPLE_DEPENDS_ON_OTHER=16777216]="SAMPLE_DEPENDS_ON_OTHER",e[e.SAMPLE_DEPENDS_ON_NO_OTHERS=33554432]="SAMPLE_DEPENDS_ON_NO_OTHERS",e[e.SAMPLE_IS_DEPENDED_ON_MASK=12582912]="SAMPLE_IS_DEPENDED_ON_MASK",e[e.SAMPLE_HAS_REDUNDANCY_MASK=3145728]="SAMPLE_HAS_REDUNDANCY_MASK",e[e.SAMPLE_PADDING_VALUE_MASK=917504]="SAMPLE_PADDING_VALUE_MASK",e[e.SAMPLE_IS_NOT_SYNC=65536]="SAMPLE_IS_NOT_SYNC",e[e.SAMPLE_DEGRADATION_PRIORITY_MASK=65535]="SAMPLE_DEGRADATION_PRIORITY_MASK"}(d.SampleFlags||(d.SampleFlags={}));d.SampleFlags;!function(e){e[e.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",e[e.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",e[e.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",e[e.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_COMPOSITION_TIME_OFFSET=2048]="SAMPLE_COMPOSITION_TIME_OFFSET"}(d.TrackRunFlags||(d.TrackRunFlags={}));var H=d.TrackRunFlags,V=function(e){function t(t,n,i,s){e.call(this,"trun",1,t),this.samples=n,this.dataOffset=i,this.firstSampleFlags=s}return h(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4,i=this.samples.length,s=this.flags;return s&H.DATA_OFFSET_PRESENT&&(n+=4),s&H.FIRST_SAMPLE_FLAGS_PRESENT&&(n+=4),s&H.SAMPLE_DURATION_PRESENT&&(n+=4*i),s&H.SAMPLE_SIZE_PRESENT&&(n+=4*i),s&H.SAMPLE_FLAGS_PRESENT&&(n+=4*i),s&H.SAMPLE_COMPOSITION_TIME_OFFSET&&(n+=4*i),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t),i=this.samples.length,r=this.flags;s(t,this.offset+n,i),n+=4,r&H.DATA_OFFSET_PRESENT&&(s(t,this.offset+n,this.dataOffset),n+=4),r&H.FIRST_SAMPLE_FLAGS_PRESENT&&(s(t,this.offset+n,this.firstSampleFlags),n+=4);for(var o=0;i>o;o++){var a=this.samples[o];r&H.SAMPLE_DURATION_PRESENT&&(s(t,this.offset+n,a.duration),n+=4),r&H.SAMPLE_SIZE_PRESENT&&(s(t,this.offset+n,a.size),n+=4),r&H.SAMPLE_FLAGS_PRESENT&&(s(t,this.offset+n,a.flags),n+=4),r&H.SAMPLE_COMPOSITION_TIME_OFFSET&&(s(t,this.offset+n,a.compositionTimeOffset),n+=4)}return n},t}(v);d.TrackRunBox=V;var q=function(e){function t(t,n){e.call(this,"moof",i([t],n)),this.header=t,this.trafs=n}return h(t,e),t}(y);d.MovieFragmentBox=q;var W=function(e){function t(t){e.call(this,"mdat"),this.chunks=t}return h(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.chunks.forEach(function(e){n+=e.length}),this.size=n},t.prototype.write=function(t){var n=this,i=e.prototype.write.call(this,t);return this.chunks.forEach(function(e){t.set(e,n.offset+i),i+=e.length},this),i},t}(m);d.MediaDataBox=W;var G=function(e){function t(t,n){e.call(this,t),this.dataReferenceIndex=n}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,0),s(t,this.offset+n+4,this.dataReferenceIndex),n+8},t}(m);d.SampleEntry=G;var Y=function(e){function t(t,n,i,s,r,o){void 0===i&&(i=2),void 0===s&&(s=16),void 0===r&&(r=44100),void 0===o&&(o=null),e.call(this,t,n),this.channelCount=i,this.sampleSize=s,this.sampleRate=r,this.otherBoxes=o}return h(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+20;return this.otherBoxes&&this.otherBoxes.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return s(t,this.offset+n,0),s(t,this.offset+n+4,0),s(t,this.offset+n+8,this.channelCount<<16|this.sampleSize),s(t,this.offset+n+12,0),s(t,this.offset+n+16,this.sampleRate<<16),n+=20,this.otherBoxes&&this.otherBoxes.forEach(function(e){n+=e.write(t)}),n},t}(G);d.AudioSampleEntry=Y,d.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH=24;var K=function(e){function t(t,n,i,s,r,o,a,l,u,c){if(void 0===r&&(r=""),void 0===o&&(o=72),void 0===a&&(a=72),void 0===l&&(l=1),void 0===u&&(u=d.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH),void 0===c&&(c=null),e.call(this,t,n),this.width=i,this.height=s,this.compressorName=r,this.horizResolution=o,this.vertResolution=a,this.frameCount=l,this.depth=u,this.otherBoxes=c,r.length>31)throw new Error("invalid compressor name")}return h(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+16+12+4+2+32+2+2;return this.otherBoxes&&this.otherBoxes.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);s(t,this.offset+n,0),s(t,this.offset+n+4,0),s(t,this.offset+n+8,0),s(t,this.offset+n+12,0),n+=16,s(t,this.offset+n,this.width<<16|this.height),s(t,this.offset+n+4,a(this.horizResolution)),s(t,this.offset+n+8,a(this.vertResolution)),n+=12,s(t,this.offset+n,0),s(t,this.offset+n+4,this.frameCount<<16),n+=6,t[this.offset+n]=this.compressorName.length;for(var i=0;31>i;i++)t[this.offset+n+i+1]=i<this.compressorName.length?127&this.compressorName.charCodeAt(i):0;return n+=32,s(t,this.offset+n,this.depth<<16|65535),n+=4,this.otherBoxes&&this.otherBoxes.forEach(function(e){n+=e.write(t)}),n},t}(G);d.VideoSampleEntry=K;var Q=function(e){function t(t,n){e.call(this,t),this.data=n}return h(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+this.data.length,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return t.set(this.data,this.offset+n),n+this.data.length},t}(m);d.RawTag=Q},function(e,t,n){(function(t){var i,s=n(74),r=n(69),o=(r.BaseTransform,n(108));n(109);e.exports=i=function(){r.BaseParser.prototype.constructor.apply(this,arguments),this.parser=new o,this.parser.onFrame=this._onMp3Frame.bind(this),this.parser.onNoise=this._onNoise.bind(this),this.parser.onClose=this._onClose.bind(this),this._sampleRate=0,this._bitRate=0,this._timestamp=0},i.prototype=r.createBaseParser({constructor:i,_onMp3Frame:function(e,n,i){s("Found frame length "+e.length+" bitRate="+n+", sampleRate="+i);var o=new t(e),a=1152;o.meta={mimeType:"audio/mpeg",codecId:2,channels:2,bitRate:n,sampleRate:i,sampleSize:16},o.duration=a,o.timestamp=this._timestamp,this.enqueue(new r.Transfer(o,"buffer")),this._bitRate=n,this._timestamp+=a},_onNoise:function(){s("mp3 has noise")},_onClose:function(){s("parser closed")},_parse:function(e){return s("parse called"),e.data.empty?(s("empty transfer"),void this.enqueue(e)):void this.parser.push(new Uint8Array(e.data))}})}).call(t,n(70).Buffer)},function(e,t,n){var i=n(74),s=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],r=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],o=function(){function e(){this.buffer=null,this.bufferSize=0}return e.prototype.push=function(e){var t;if(this.bufferSize>0){var n=e.length+this.bufferSize;if(!this.buffer||this.buffer.length<n){var s=new Uint8Array(n);this.bufferSize>0&&s.set(this.buffer.subarray(0,this.bufferSize)),this.buffer=s}this.buffer.set(e,this.bufferSize),this.bufferSize=n,e=this.buffer,t=n}else t=e.length;i("push "+t);for(var r,o=0;t>o&&(r=this._parse(e,o,t))>0;)o+=r;var a=t-o;a>0&&(!this.buffer||this.buffer.length<a?this.buffer=new Uint8Array(e.subarray(o,t)):this.buffer.set(e.subarray(o,t))),this.bufferSize=a},e.prototype._parse=function(e,t,n){if(i("_parse"),t+2>n)return-1;if(255===e[t]||224===(224&e[t+1])){if(t+24>n)return-1;var o=e[t+1]>>3&3,a=e[t+1]>>1&3,l=e[t+2]>>4&15,u=e[t+2]>>2&3,c=!!(2&e[t+2]);if(1!==o&&0!==l&&15!==l&&3!==u){var d=3===o?3-a:3===a?3:4,h=1e3*s[14*d+l-1],p=3===o?0:2===o?1:2,f=r[3*p+u],g=c?1:0,m=3===a?(3===o?12:6)*h/f+g<<2:(3===o?144:72)*h/f+g|0;return t+m>n?-1:(this.onFrame&&(i("onFrame"),this.onFrame(e.subarray(t,t+m),h,f)),m)}}for(var v=t+2;n>v;){if(255===e[v-1]&&224===(224&e[v]))return this.onNoise&&this.onNoise(e.subarray(t,v-1)),v-t-1;v++}return-1},e.prototype.close=function(){this.bufferSize>0&&this.onNoise&&this.onNoise(this.buffer.subarray(0,this.bufferSize)),this.buffer=null,this.bufferSize=0,this.onClose&&this.onClose()},e}();e.exports=o},function(e,t){var n=1e9;e.exports={TIMESCALE_SECONDS:n}},function(e,t,n){var i,s=n(111),r=n(69),o=r.BaseSink,a=n(112);e.exports=i=function(e){if(o.prototype.constructor.call(this),!s.haveMediaSourceSupportMimeType(e))throw new Error("Local MediaSource doesn't support provided MIME type: "+e);var t;t=arguments.length>1?Array.prototype.slice.call(arguments):e instanceof Array?e:[e],this.mimeTypes=t,this.mediaSource=new MediaSource,this.mseWriter=new a(this.mediaSource),this.dataSources=[],this.selectedDataSourceIndex=0,this.mimeTypes.forEach(function(e){var t={mimeType:e};this.mseWriter.listen(t),this.dataSources.push(t)}.bind(this))},i.prototype=r.createBaseSink({constructor:i,_onData:function(){var e=this.dataSources[this.selectedDataSourceIndex];if(!e||!e.onData)throw new Error("DataSource is not existing or has no onData function defined");var t=this.dequeue();t&&e.onData(t.data)},getMediaSourceUrl:function(){return URL.createObjectURL(this.mediaSource)}})},function(e,t){var n;e.exports=n={haveGlobalWindow:function(){return"undefined"!=typeof window},haveMediaSourceExtensions:function(){return n.haveGlobalWindow()&&window.MediaSource},haveMediaSourceSupportMimeType:function(e){return n.haveMediaSourceExtensions()&&window.MediaSource.isTypeSupported(e)}}},function(e,t){var n=function(){function e(e,t){this.mediaSource=e,this.dataSource=t,this.dataSource.onData=this.pushData.bind(this),this.updateEnabled=!1,this.buffer=[],this.sourceBuffer=null,this.sourceBufferUpdatedBound=null}return e.prototype.allowWriting=function(){this.updateEnabled=!0,this.update()},e.prototype.pushData=function(e){this.buffer.push(e),this.update()},e.prototype.update=function(){if(this.updateEnabled&&0!==this.buffer.length){this.sourceBuffer||(this.sourceBuffer=this.mediaSource.addSourceBuffer(this.dataSource.mimeType),this.sourceBufferUpdatedBound=this._sourceBufferUpdated.bind(this),this.sourceBuffer.addEventListener("update",this.sourceBufferUpdatedBound)),this.updateEnabled=!1;var e=this.buffer.shift();if(null===e)return void this.sourceBuffer.removeEventListener("update",this.sourceBufferUpdatedBound);e.timestamp&&(this.sourceBuffer.timestampOffset=e.timestamp/1e9),this.sourceBuffer.appendBuffer(e)}},e.prototype._sourceBufferUpdated=function(e){this.updateEnabled=!0,this.update()},e.prototype.finish=function(){this.buffer.push(null),this.update()},e}(),i=function(){function e(e){this.bufferWriters=[],this.mediaSource=e,this.mediaSourceOpened=!1,this.mediaSource.addEventListener("sourceopen",function(e){this.mediaSourceOpened=!0,this.bufferWriters.forEach(function(e){e.allowWriting()})}.bind(this)),this.mediaSource.addEventListener("sourceend",function(e){this.mediaSourceOpened=!1}.bind(this))}return e.prototype.listen=function(e){var t=new n(this.mediaSource,e);this.bufferWriters.push(t),this.mediaSourceOpened&&t.allowWriting()},e}();e.exports=i},function(e,t,n){var i,s,r=n(69);s=function(e){r.BasePushSrc.prototype.constructor.call(this);var t=this.req=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(e){this.enqueue(new r.Transfer(new Uint8Array(t.response),"binary")),this.enqueue(new r.Transfer(null,"binary"))}.bind(this),t.send()},s.prototype=r.createBasePushSrc({constructor:s}),e.exports=i={Src:s}},function(e,t,n){var i,s,r,o=n(69),a=n(115);n(76);s=function(e,t){o.prototype.constructor.call(this);var n=a.createReadStream(e,t);this.on("end",function(){n.close()}),this.addOutput(n)},s.prototype=o.create({constructor:s}),r=function(e,t){o.prototype.constructor.call(this);var n=a.createWriteStream(e,t);this.on("finish",function(){n.close()}),this.addInput(n)},r.prototype=o.create({constructor:r}),e.exports=i={Src:s,Sink:r}},function(e,t,n){var i=n(111);e.exports=i.haveGlobalWindow()?new(n(116)):n(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}())},function(e,t,n){!function(t){e.exports=t()}(function(){function e(){return!1}function t(e){return!(!(e&&e.data instanceof Object)||n(e))}function n(e){return!!(e&&e.data instanceof ArrayBuffer)}function i(e,n){var i,s=e.length,r=n;for(i=0;s>i;++i){if(!t(r))throw new Error("ENOENT");r=r.data[e[i]]}return r}String.prototype.trim||!function(){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}();var s={utf8:"utf-8",utf16le:"utf-16le",utf16be:"utf-16be"},r=function(e){var t=Date.now();this.root={mtime:t,ctime:t,atime:t,data:{}},this.fnDone=function(){var t=arguments;"function"==typeof e&&setTimeout(function(){e.apply(null,t)},0)}};return r.prototype.arrayBufferToString=function(e,t){return"undefined"==typeof TextDecoder?String.fromCharCode.apply(null,new Uint16Array(e)):(t=s[t]||"utf8",new TextDecoder(t).decode(new DataView(e)))},r.prototype.stringToArrayBuffer=function(e,t){var n;if(t=s[t]||"utf8","undefined"==typeof TextEncoder){n=new ArrayBuffer(2*e.length);for(var i=new Uint16Array(n),r=0,o=e.length;o>r;++r)i[r]=e.charCodeAt(r)}else n=new TextEncoder(t).encode(e).buffer;return n},r.prototype.getNode=function(e){return i(this.parsePath(e),this.root)},r.prototype.joinPath=function(){var e=[],t=arguments||[];return e=this.parsePath(Array.prototype.slice.call(t).join("/")),("/"===t[0][0]?"/":"")+e.join("/")},r.prototype.parsePath=function(e){var t=[];return e=e||"/",e.split(/\/+/).forEach(function(e){e=e.trim(),e.length&&"."!==e&&(".."===e?t.pop():t.push(e))}),t},r.prototype.normalizePath=function(e){return"/"+this.parsePath(e).join("/")},r.prototype.dirname=function(e){var t=this.parsePath(e);return t=t.slice(0,t.length-1),"/"+t.join("/")},r.prototype.basename=function(e){var t=this.parsePath(e);return t.length?t.pop():""},r.prototype.fileSizeSI=function(e,t,n,i,s){return(t=Math,n=t.log,i=1e3,s=n(e)/n(i)|0,e/t.pow(i,s)).toFixed(s?2:0)+" "+(s?"kMGTPEZY"[--s]+"B":"Bytes")},r.prototype.fileSizeIEC=function(e,t,n,i,s){return(t=Math,n=t.log,i=1024,s=n(e)/n(i)|0,e/t.pow(i,s)).toFixed(s?2:0)+" "+(s?"KMGTPEZY"[--s]+"iB":"Bytes")},r.prototype.statSync=function(n){var s=this.parsePath(n),r=i(s,this.root),o=t(r);if(!r||!r.data)throw new Error("ENOENT");return this.fnDone("stat",n),{size:o?Object.keys(r.data).length:r.data.byteLength,ctime:new Date(r.ctime),mtime:new Date(r.mtime),atime:new Date(r.atime),isFile:function(){return!o},isDirectory:function(){return o},isBlockDevice:e,isCharacterDevice:e,isSymbolicLink:e,isFIFO:e,isSocket:e}},r.prototype.existsSync=function(e){var n,i=this.parsePath(e),s=i.length,r=this.root;for(n=0;s>n;++n){if(!t(r))return this.fnDone("exists",e),!1;r=r.data[i[n]]}return this.fnDone("exists",e),!!r},r.prototype.mkdirSync=function(e){var n=this.parsePath(e),s=i(n.slice(0,n.length-1),this.root),r=Date.now();if(!n.length||!t(s))throw new Error("ENODIR");return s.data[n[n.length-1]]={data:{},ctime:r,mtime:r,atime:r},s.mtime=r,this.fnDone("mkdir",e),this},r.prototype.mkdirpSync=function(e){var s,r,o,a=this.parsePath(e),l=a.length;if(!a.length)throw new Error("ENODIR");for(r=0;l>r;++r){if(s=a.slice(0,r+1),o=i(s,this.root),n(o))throw new Error("ENODIR");t(o)||this.mkdirSync(s.join("/"))}return this.fnDone("mkdirp",e),this},r.prototype.readdirSync=function(e){var n=this.parsePath(e),s=i(n,this.root);if(!t(s))throw new Error("ENODIR");return s.atime=Date.now(),this.fnDone("readdir",e),Object.keys(s.data)},r.prototype.rmdirSync=function(e){var n=this.parsePath(e),s=i(n,this.root),r=n.pop(),o=i(n,this.root);if(!t(s))throw new Error("ENODIR");if(Object.keys(s.data).length)throw new Error("ENOTEMPTY");return delete o.data[r],o.mtime=Date.now(),this.fnDone("rmdir",e),this},r.prototype.unlinkSync=function(e){var t=this.dirname(e),n=this.basename(e),s=i(this.parsePath(t),this.root);return delete s.data[n],s.mtime=Date.now(),this.fnDone("unlink",e),this},r.prototype.rmrfSync=function(e){var n=this.parsePath(e),s=n.pop(),r=i(n,this.root);if(!t(r))throw new Error("ENODIR");return s?delete r.data[s]:r.data={},r.mtime=Date.now(),this.fnDone("rmrf",e),this},r.prototype.writeFileSync=function(e,n,s){var r,o,a=this.parsePath(e),l=a.pop(),u=this.existsSync(e),c=i(a,this.root);if(!t(c))throw new Error("ENODIR");if(!l)throw new Error("EINVALIDPATH");return"string"==typeof s&&(s={encoding:s}),s=s||{encoding:null},r="string"==typeof n?this.stringToArrayBuffer(n,s.encoding):n,o=Date.now(),u?(c.data[l].data=r,c.data[l].atime=o,c.data[l].mtime=o):(c.data[l]={data:r,ctime:o,mtime:o,atime:o},c.mtime=o),c.atime=o,this.fnDone("writeFile",e),this},r.prototype.readFileSync=function(e,t){var s=this.parsePath(e),r=i(s,this.root);if("string"==typeof t&&(t={encoding:t}),t=t||{encoding:null},!n(r))throw new Error("ENOENT");return r.atime=Date.now(),this.fnDone("readFile",e),t.encoding?this.arrayBufferToString(r.data,t.encoding):r.data},r.prototype.renameSync=function(e,n){var s=this.parsePath(e),r=i(s,this.root),o=i(s.slice(0,s.length-1),this.root),a=s[s.length-1],l=this.parsePath(n),u=i(l,this.root),c=i(l.slice(0,l.length-1),this.root),d=l[l.length-1],h=Date.now();if(!s.length||!l.length)throw new Error("ENOENT");if(!t(o||!t(c)))throw new Error("ENODIR");if(u)throw new Error("EEXISTS");return c.data[d]=u=r,u.ctime=h,c.mtime=h,delete o.data[a],o.mtime=h,this.fnDone("rename",{oldPath:e,newPath:n}),this},["stat","exists","readdir","mkdirp","mkdir","rmdir","rmrf","unlink"].forEach(function(e){r.prototype[e]=function(t,n){var i;try{i=this[e+"Sync"](t)}catch(s){return n(s)}return n(null,i)}}),["writeFile","readFile"].forEach(function(e){r.prototype[e]=function(t,n,i){var s;i||(i=n,n=void 0);try{s=this[e+"Sync"](t,n)}catch(r){return i(r)}return i(null,s)}}),["rename"].forEach(function(e){r.prototype[e]=function(t,n,i){var s;try{s=this[e+"Sync"](t,n)}catch(r){return i(r)}return i(null,s)}}),r})},function(e,t){var n={HTTP:"http",RTMP:"rtmp",HLS:"hls"};e.exports=n},function(e,t){e.exports={AAC:"audio/aac",M3U8:"application/x-mpegURL",HLS:"application/vnd.apple.mpegurl",MP4A:"audio/mp4",MP3:"audio/mpeg",OGG:"audio/ogg",WAV:"audio/wav",WEBMA:"audio/webm",getTypeByExtension:function(e){var t={mp3:this.MP3,aac:this.AAC,mp4:this.MP4A,mp4a:this.MP4A,ogg:this.OGG,oga:this.OGG,opus:this.OGG,webm:this.WEBM,wav:this.WAV,m3u8:this.M3U8};return t[e]||null}}},function(e,t,n,i,s){function r(e,t){return null==t?e:o(t,a(t),e)}var o=n(i),a=n(s);e.exports=r},function(e,t,n,i,s,r){function o(e){return function(t){return null==t?void 0:t[e]}}function a(e){return null!=e&&u(w(e))}function l(e,t){return e="number"==typeof e||m.test(e)?+e:-1,t=null==t?b:t,e>-1&&e%1==0&&t>e}function u(e){return"number"==typeof e&&e>-1&&e%1==0&&b>=e}function c(e){for(var t=h(e),n=t.length,i=n&&e.length,s=!!i&&u(i)&&(g(e)||f(e)),r=-1,o=[];++r<n;){var a=t[r];(s&&l(a,i)||_.call(e,a))&&o.push(a)}return o}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function h(e){if(null==e)return[];d(e)||(e=Object(e));var t=e.length;t=t&&u(t)&&(g(e)||f(e))&&t||0;for(var n=e.constructor,i=-1,s="function"==typeof n&&n.prototype===e,r=Array(t),o=t>0;++i<t;)r[i]=i+"";for(var a in e)o&&l(a,t)||"constructor"==a&&(s||!_.call(e,a))||r.push(a);return r}var p=n(i),f=n(s),g=n(r),m=/^\d+$/,v=Object.prototype,_=v.hasOwnProperty,y=p(Object,"keys"),b=9007199254740991,w=o("length"),x=y?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&a(e)?c(e):d(e)?y(e):[]}:c;e.exports=x},function(e,t,n,i){function s(e,t){return f(e,t,d)}function r(e){return function(t){return null==t?void 0:t[e]}}function o(e,t){return function(n,i){var s=n?g(n):0;if(!l(s))return e(n,i);for(var r=t?s:-1,o=u(n);(t?r--:++r<s)&&i(o[r],r,o)!==!1;);return n}}function a(e){return function(t,n,i){for(var s=u(t),r=i(t),o=r.length,a=e?o:-1;e?a--:++a<o;){var l=r[a];if(n(s[l],l,s)===!1)break}return t}}function l(e){return"number"==typeof e&&e>-1&&e%1==0&&h>=e}function u(e){return c(e)?e:Object(e)}function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var d=n(i),h=9007199254740991,p=o(s),f=a(),g=r("length");e.exports=p}]))},function(e,t,n){function i(e,t,n){function i(){M()?(ue("Init in single connection mode",le),ae&&D(),h.off(),X()?(ue("Attaching to already existing connection",Z()),N()):(ue("Becoming connection owner"),Y(),O())):(ue("Init in plain mode"),O())}function o(){A(!0),S=null}function c(){A(!1),i()}function A(e){ue("Disposing instance: unregistering window events & clearing timeouts"),U(),g.clearTimeout(de),P()?(ue("Closing connection"),ce.dispose(),ce=null,M()&&(ue("Clearing single connection lock if it is mine"),K(),e&&(ue("Broadcasting dispose event"),G(b,null)))):h.off()}function C(){ae&&fe.on(y,function(e){e===f.actions.HEARTBEAT&&D()})}function D(){g.clearTimeout(de),de=g.setTimeout(I,ae)}function I(){ue("Heartbeat timed out. Will cleanup lock & re-init..."),Q(),c()}function M(){return!pe}function P(){return!!ce}function L(){return P()&&M()}function F(){return!P()&&M()}function N(){h.on(_,function(e){fe.trigger(_,e)}).on(y,function(e){fe.trigger(y,e)}).on(b,function(){window.setTimeout(i,200*Math.random())})}function O(){if(ce)throw new Error("Can't initialize client twice");ce=new l({eventUrl:t,withCredentials:te,log:ue,json:ne}),ce.on(v,R).on(_,q).on(m,$),B(),M()&&h.on(w,function(e){j(e)}).on(x,function(e){H(e)})}function R(e){ue("Handling SSE open (first bit of event stream received)"),W(v,ce.getEventSourceReadyState())}function $(e){ue.error("Handling SSE error"),W(m,e)}function B(){g.onbeforeunload&&(he=g.onbeforeunload),g.onbeforeunload=z,se&&(g.SCBananaBus=fe)}function U(){g.onbeforeunload=he,he=null,se&&delete g.SCBananaBus}function z(){he&&he(),o()}function j(t){if("object"!=typeof t)throw new Error("BananaBus: can only publish Object-payload");F()?G(w,t):J()?(ue("Sending payload to publish endpoint:",t),s(e,t,re)):(ue.warn("Attempting to publish when not parent. Owner is %s. Giving up SSE connection.",Z()),c())}function H(e){F()?G(x,e):j(V(e))}function V(e){return E(e)?f.createMessage(oe):void ue("Can not generate payload for unknown event type:",e)}function q(e){if(!J())return ue.warn("Received SSE event while not owner. Owner is %s. Giving up SSE connection.",Z()),void c();var t=f.parseAction(e);ue("Handling SSE message"),W(_,e),t&&W(y,t)}function W(e,t){fe.trigger(e,t),L()&&G(e,t)}function G(e,t){ue.info("broadcasting",e,t),h.broadcast(e,t)}function Y(){p.set(T,le)}function K(){J()&&Q()}function Q(){p.remove(T)}function J(){return Z()===le}function Z(){return p.get(T)}function X(){return!!Z()}if(!e||!t)throw new Error("Need a publish & event endpoint URL");var ee=a({},k,n),te=ee.withCredentials,ne=ee.json,ie=ee.singleConnection,se=ee.debug,re=ee.authorization,oe=ee.registrationId,ae=ee.heartbeatTimeoutMs,le=Math.random().toString(16).substr(2),ue=u({enabled:se,buffer:!0,label:"trinity"}),ce=void 0,de=void 0,he=void 0,pe=!ie||!r(),fe=a({},d,{publish:j,publishEvent:H,dispose:o});return i(),se&&fe.on(v,ue.info.bind(null,"Connection open")).on(y,ue.info.bind(null,"Received action")).on(m,ue.error.bind(ue,"Error")),C(),fe}function s(e,t,n){return o({url:e,data:JSON.stringify(t),type:"POST",dataType:"text",beforeSend:function(e){n&&e.setRequestHeader("Authorization","OAuth "+n)}})}function r(){try{var e=g.localStorage,t=Date.now();if(e.getItem)return e.setItem(t,t),e.removeItem(t),!0}catch(n){}return!1}n(1861);var o=n(948),a=n(644),l=n(953),u=n(954),c=n(698),d=n(30),h=n(951),p=n(916),f=n(952),g=window,m=c.ERROR,v=c.OPEN,_=c.DATA,y=c.ACTION,b=c.DISPOSE,w=c.PUBLISH,x=c.PUBLISH_EVENT,k={withCredentials:!1,json:!1,singleConnection:!0,debug:!1,authorization:null,registrationId:void 0,heartbeatTimeoutMs:null},S=void 0,T="trinity-owner";e.exports={SCMessages:f,Events:c,getInstance:function(e,t,n){return S||(S=i(e,t,n))}};var A=function(e){return Object.keys(e).map(function(t){return e[t]})},E=function(e){return function(t){return e.indexOf(t)>-1}}(A(f.events))},function(e,t,n){var i=n(644),s=n(30),r=n(916),o="trinity-broadcast",a=e.exports=i({},s,{broadcast:function(e,t){r.set(o,{event:e,data:t,now:Date.now()})}});r.on(o,function(e){var t=e.event,n=e.data;t&&a.trigger(t,n)})},function(e,t){function n(e){return e.toUpperCase().replace(/-/g,"_")}var i=0,s={STOP:"stop",HEARTBEAT:"heartbeat"},r={PLAY:"play"};e.exports={events:r,actions:s,createMessage:function(e){return{version:i,timestamp:Math.floor(Date.now()/1e3),registration_id:e}},parseAction:function(e){return e&&e.action&&s[n(e.action)]?e.action:null}}},function(e,t,n){function i(e){function t(){x&&(x.close(),x=null),b=!0}function n(){b||(x=new EventSource(g,{withCredentials:m}),x.onopen=c,x.onerror=p,x.onmessage=f)}function i(){return x&&h[x.readyState]}function l(){b||x.readyState===d&&n()}function c(){b||(w=0,k.trigger(a.OPEN))}function p(e){if(!b){if(++w>u){var t=s(w);y("More than "+u+" errors in a row. "+("Will use back-off timeout to reconnect in "+t+" ms")),window.setTimeout(l,t)}else y("Will try to reconnect ASAP"),l();k.trigger(a.ERROR,e)}}function f(e){if(!b){var t=e.data;if(v)try{t=JSON.parse(t)}catch(n){t={},y("syntax error parsing data to object",n.message,e)}k.trigger(a.DATA,t)}}var g=e.eventUrl,m=e.withCredentials,v=e.json,_=e.log,y=void 0===_?function(){}:_,b=!1,w=0,x=null,k=r({},o,{dispose:t,getEventSourceReadyState:i});return n(),k}function s(e){var t=e/u,n=l*Math.pow(2,t);return Math.min(c,n)}var r=n(644),o=n(30),a=n(698),l=500,u=3,c=1e4,d=2,h={0:"connecting",1:"open",2:"closed"};e.exports=i},function(e,t){"use strict";function n(){function e(e,n){if(p){for(var i=arguments.length,s=Array(i>2?i-2:0),r=2;i>r;r++)s[r-2]=arguments[r];"string"==typeof n?n=" "+n:(s.unshift(n),n="");var o=[t()+" | "+A+(k?"%c":"")+n].concat(E,s);m?T.push({level:e,logArgs:o})>x&&T.shift():h[e].apply(h,o)}}function t(){var e=new Date,t=null===S?0:e-S,n=k?"%c":"";return S=+e,n+i(e)+(n+" ("+n)+s("+"+t+"ms"," ",8)+(n+")")}function n(e){return e.enable=function(){p=!0},e.disable=function(){p=!1},e.bufferOn=function(){m=!0},e.bufferOff=function(){m=!1,T.length=0},e.flush=u()?function(){T.forEach(function(e){var t=e.level,n=e.logArgs;h[t].apply(h,n)}),T.length=0}:function(){},e}var r=c.apply(void 0,arguments),o=r.enabled,p=void 0===o?!0:o,g=r.buffer,m=void 0===g?!1:g,v=r.label,_=void 0===v?"":v,y=r.plainOutput,b=void 0===y?!1:y,w=r.bufferSize,x=void 0===w?1e3:w;if(!u())return n(d.reduce(function(e,t){return e[t]=e},function(){}));h.CL||(h.CL={_cssCounter:0});var k=!b&&l(),S=null,T=[],A=a(_,k),E=k?["color: green","color: grey","color: blue","color: grey",f(_),""]:[],C=h.CL[_]=n(d.reduce(function(t,n){return t[n]=e.bind(null,n),t},e.bind(null,"log")));return C}function i(e){return r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+"."+s(e.getMilliseconds(),"0",3)}function s(e,t,n){return o(t,n-(""+e).length)+e}function r(e){return s(e,"0",2)}function o(e,t){return t>0?new Array(t+1).join(e):""}function a(e,t){return(t?"%c":"")+(e?e:"")}function l(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent;return/chrome|firefox|opr/i.test(e)&&!/msie|edge/i.test(e)}function u(){return h&&d.every(function(e){return"function"==typeof h[e]})}function c(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return"object"==typeof e&&e||{enabled:e,label:t}}e.exports=n;var d=["log","info","warn","error"],h="undefined"!=typeof console?console:null,p=["color:#fff","border-radius:3px","padding:2px 4px","font-family:sans-serif","text-transform:uppercase","font-size:9px"].join(";")+";",f=function(){var e=["#51613C","#447848","#486E5F","#787444","#6E664E"];return function(t){return t?"background:"+e[h.CL._cssCounter++%e.length]+";"+p:""}}()},function(e,t){function n(){return d.call(arguments,function(e,t){return t&&h(t).forEach(function(i){void 0===e[i]?e[i]=t[i]:"object"==typeof e[i]&&"object"==typeof t[i]&&(e[i]=n(e[i],t[i]))}),e},{})}function i(e){return"function"==typeof e?e():e}function s(e,t,i,s){if(f.forEach(function(e){if(!(e in t))throw new Error('Endpoint "'+i+'" missing required field: "'+e+'"')}),e.indexOf(t.service)<0)throw new Error('Endpoint "'+i+'" references unknown service: "'+t.service+'"');return n(t,s,p)}function r(e,t,i){return m.forEach(function(n){if(!(n in e))throw new Error('Service "'+t+'" missing required field: "'+n+'"')}),n(e,i,g)}function o(e,t){return e.replace(/:([\w-]+)/g,function(e,n){return null!=t[n]?t[n]:""})}function a(e,t){var n=e[t];if(!n)throw new Error('Could not find config for endpoint "'+t+'"');return n}function l(e,t,s,r){var l=a(e.endpoints,t),u=e.services[l.service],c=n(r,i(l.query),u.query);return e.formatUrl(u.protocol,u.hostname,u.port,o(l.path,s),c)}function u(e,t,i,s,r,o,u){var c=a(e.endpoints,t),d=e.services[c.service];return e.apiTransport({method:c.method,url:l(e,t,i,s),dataType:c.dataType,data:o||null,headers:n(r,c.headers,d.headers),timeout:c.timeout},{name:t,endpointCustomSettings:c.customSettings||{},serviceCustomSettings:d.customSettings||{},args:u||[]})}var c=Array.prototype,d=(c.slice,c.reduce),h=Object.keys,p={dataType:"json",method:"get",query:{},timeout:3e3,customSettings:{}},f=["path","service"],g={headers:{},port:null,protocol:"http",query:{},customSettings:{}},m=["hostname"];e.exports=function(e,t,n){var i,o=e.endpoints,a=e.services,c=e.defaults||{},d={};if(!o||!a)throw new Error("Cannot create endpoints: invalid config format");if("function"!=typeof t)throw new Error("Cannot create endpoints: no api transport given");if(d.apiTransport=t,"function"!=typeof n)throw new Error("Cannot create endpoints: no url formatter given");return d.formatUrl=n,d.services=h(a).reduce(function(e,t){return e[t]=r(a[t],t,c.services),e},{}),i=h(d.services),d.endpoints=h(o).reduce(function(e,t){return e[t]=s(i,o[t],t,c.endpoints),e},{}),{callEndpoint:u.bind(null,d),getUrlForEndpoint:l.bind(null,d)}}},function(e,t,n){e.exports=n(957)},function(e,t){e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{get:function(t,n){return e[t]&&e[t].experiment_name===n?e[t].variant_name:!1},getAll:function(){return e},getVariantIds:function(){return Object.keys(e).reduce(function(t,n){return null!=e[n].variant_id&&(t[n]=e[n].variant_id),t},{})}}}},function(e,t){function n(e){var t=e.data[0],n=e.data[1];if(!/https?:\/\/(.+\.|)soundcloud\.(com|dev\:[0-9]{4})/.test(e.origin))return!1;switch(t){case"i18n-locale:rendered":return i(n);case"i18n-locale:set-locale-always":return r.onLocaleChange()}}function i(e){s.style.width=e.width,s.style.height=e.height}var s,r=e.exports={init:function(e){if(!e||!e.selector||!e.host)throw new Error("i18n locale iframe: Missing parameter(s)");s=window.document.createElement("iframe"),s.src=e.host+"/i18n-locale-switcher.html",s.frameBorder=0,s.style.border="none",s.style.backgroundColor="transparent",window.addEventListener("message",n),window.document.querySelector(e.selector).appendChild(s);
},onLocaleChange:function(){window.location.reload()}}},function(e,t,n){function i(e){this.phrases={},this.setLocale(e)}function s(){var e=r.call(this);this.number=new f(e),this.dateTime=new p(e,this.number)}function r(){return w[this.locale]||w[b]}function o(e,t){return t?e.replace(y,function(e,n,i,s){var r=t[n||i||s];return i?v(r):r}):e}function a(e,t){return w[e].pluralForm(t)}function l(e){return Array.isArray(e)?e[0]:e.toString()}function u(e){for(var t,n,i=1,s=arguments.length;s>i;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(e){for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];for(var s in i)void 0===e[s]&&(e[s]=i[s])}return e}function d(e){var t=e.dates,n=e.d3;return{decimal:e.delimiters.decimal,thousands:e.delimiters.thousands,grouping:n.grouping,currency:n.currency,dateTime:n.dateTime,date:n.date,time:n.time,periods:n.periods,days:t.weekdays,shortDays:t.shortWeekdays,months:t.months,shortMonths:t.monthsShort}}function h(e){var t=e.datePicker,n=e.dates;return{closeText:t.closeText,prevText:t.prevText,nextText:t.nextText,currentText:t.currentText,weekHeader:t.weekHeader,dateFormat:t.dateFormat,firstDay:t.firstDay,isRTL:t.isRTL,showMonthAfterYear:t.showMonthAfterYear,yearSuffix:t.yearSuffix,monthNames:n.months,monthNamesShort:n.monthsShort,dayNames:n.weekdays,dayNamesShort:n.shortWeekdays,dayNamesMin:n.minWeekdays}}var p=n(960),f=n(961),g="sclocale",m={};e.exports=i;var v,_="[a-zA-Z0-9_]+",y=new RegExp("\\[\\[\\[("+_+")\\]\\]\\]|\\[\\[("+_+")\\]\\]|(%d)","g"),b="en",w={en:n(699),en_GB:n(699),pt_BR:n(964),fr:n(963),es:n(962)};i.prototype.getLocaleCookieName=function(){return g},i.prototype.setLocale=function(e){this.locale=w[e]?e:b,s.call(this)},i.prototype.setPhrases=function(e){this.phrases=e||{}},i.prototype.extend=function(e){u(this.phrases,e)},i.prototype.getLocaleDataFor=function(e){var t=r.call(this),n=m;switch(e){case"d3":return n.d3=n.d3||d(t);case"jquery.datepicker":return n["jquery.datepicker"]=n["jquery.datepicker"]||h(t);default:return t}},i.prototype.t=function(e,t,n,i){var s=(n?n+"::":"")+e,r=this.phrases[s]||e;return o.call(this,l(r),t)},i.prototype.tp=function(e,t,n,i,s,r){var u=(s?s+"::":"")+e,d=this.phrases[u],h=this.number.format(n);return d=d?d[a(this.locale,n)]:a("en",n)?t:e,o.call(this,l(d),c({"%d":h},i))},v=function(){function e(e){return t[e]||"&amp;"}var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/[&<>"'`]/g,i=/[&<>"'`]/;return function(t){return t||0===t?(t=""+t,i.test(t)?t.replace(n,e):t):""}}()},function(e,t){function n(e,t){function n(t,n,i){if(!(t instanceof Date))throw new Error("toRelativeTime method expects first argument to be Date");i=i||Date.now();var s,r,o,a=i-t,l=a>0,u=null,c=e.relativeTime;if(n=n&&parseInt(n,10)||1e3,a=Math.abs(a),n>=a)return l?c.justNow:c.rightNow;for(s in m)if(m.hasOwnProperty(s)){if(a<m[s])break;u=s,a/=m[s]}return a=Math.floor(a),r=l?c.past:c.future,o=c[u](a),r.replace(/%s/i,o)}function c(t,i){var s,r,o,a,l,u,c=e.dates;if(!(t instanceof Date))throw new Error("format method expects first argument to be Date");return"relative"===i?n(t):(s=t.getDate(),r=t.getDay(),o=t.getMonth(),a=t.getFullYear(),l=d(t.getMinutes()),u=[["YYYY",a],["MMMM",c.months[o]],["DDDD",c.weekdays[r]],["MMM",c.monthsShort[o]],["DD",s],["MM",o+1],["HH",t.getHours()],["mm",l]],u.reduce(function(e,t){return e.replace(new RegExp(t[0],"g"),t[1])},_(i)))}function _(t){var n;switch(t){case"iso":return"YYYY-MM-DD";case"readable":n="readable";break;case"readable_time":n="readableTime";break;case"readable_abbreviated":n="readableAbbreviated";break;case"readable_with_weekday":n="readableWithWeekday";break;default:n="default"}return e.dateFormats[n]}function y(e){var t,n;return t="number"==typeof e?new Date(e):i(e),n=t-Date.now(),Math.abs(n)>7*g?!1:(k=n,!0)}function b(){return Date.now()+k}function w(t,n){if(isNaN(t))return t;var i=[],s=Math.floor(t/f),r=Math.floor(t/p%60),o=Math.floor(t/h%60),a=e.relativeTime;return n&&n.inWords?(s>0&&i.push(a.hour(s)),r>0&&i.push(a.min(r)),(o>0||0===r&&0===s)&&i.push(a.sec(o)),i.join(" ")):(s>0&&i.push(s),n&&n.minimal&&0===s&&0===r?i.push(""):i.push(10>r&&s>0?"0"+r:r),i.push(10>o?"0"+o:o),i.join(":"))}function x(e){return t.zeroPad(e.getHours(),2)+":"+t.zeroPad(e.getMinutes(),2)}var k=0;return{time:v,toRelativeTime:n,format:c,fromString:i,setServerTime:y,nowAtServer:b,timecode:w,stringToTime:s,convert:r,floorTo30Minutes:o,parseTime:a,formatTime:x,getTimezoneOffset:l,getBounds:u}}function i(e){return new Date(Date.parse(e)||e)}function s(e){var t,n=/^\d+(\.\d+)?$/g,i=/^(?:npt:)?(?:(?:(\d+):)?(\d\d?):)?(\d\d?)(\.\d+)?$/,s=/^(?:(\d\d?)[hH])?(?:(\d\d?)[mM])?(\d\d?)[sS]$/;return n.test(e)?1e3*parseFloat(e):(t=i.exec(e)||s.exec(e),t?1e3*(3600*(parseInt(t[1],10)||0)+60*(parseInt(t[2],10)||0)+parseInt(t[3],10)+(parseFloat(t[4])||0)):0)}function r(e,t,n){n=n||"s";var i="smh",s=i.indexOf(t),r=i.indexOf(n);if(-1===s||-1===r)throw new Error('Units must be expressed as either "h", "m" or "s"');return Math.round(Math.pow(60,r-s)*e)}function o(e){return e=new Date(e),e.setMinutes(e.getMinutes()-e.getMinutes()%30),e}function a(e){var t,n,i,s=e.match(/^\s*(\d{1,2})\s*(?::\s*(\d{1,2}))?\s*(?:(a|p)m?)?\s*$/i);if(s&&(t=s[1]&&parseInt(s[1],10),n=s[2]&&parseInt(s[2],10),i=s[3]&&s[3].toLowerCase(),!(t>23||n>59))){if(i)if("p"===i){if(12>t)t+=12;else if(t>13)return}else if("a"===i)if(12===t)t=0;else if(t>12)return;return n||(n=0),[t,n]}}function l(){var e,t=new Date(2009,0,1,6,0,0),n=new Date(2009,6,1,6,0,0);return e=t.getUTCHours()>n.getUTCHours()?t.getTimezoneOffset():n.getTimezoneOffset()}function u(e){if(null==e.offset)return{};var t=new Date;c(t,e.resolution);var n=+new Date(+t+e.offset*v[e.resolution]),i=+new Date(n+(e.duration-1)*v[e.resolution]);return{from:n,to:i}}function c(e,t){switch(t){case"day":e.setUTCHours(0,0,0,0);break;case"hour":e.setUTCMinutes(0,0,0)}}function d(e){return("0"+e).substr(-2)}e.exports=n;var h=1e3,p=6e4,f=60*p,g=24*f,m={sec:1e3,min:60,hour:60,day:24,month:30,year:12},v={minute:p,hour:f,day:g}},function(e,t){function n(e){return{round:i,format:function(t,n){if(""===t||null==t||isNaN(t)||Math.abs(t)===1/0)return"";t=parseFloat(t);var s=n&&n.precision||0,r=e.delimiters;return s=Math.max(Math.min(s,20),0),t=i(t,s,n&&n.roundingFn),(""+t).split(".").map(function(e,t){return 0===t?e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+r.thousands):e}).join(r.decimal)},zeroPad:function(e,t){if(null==e)return e;e+="";var n=t-e.length;return n>0&&(e=new Array(n+1).join("0")+e),e}}}function i(e,t,n){n=n||Math.round;var i=Math.pow(10,t||0);return n(e*i)/i}e.exports=n},function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Ahora mismo",rightNow:"Ahora mismo",future:"dans %s",past:"%s",sec:n(["1 segundo","%d segundos"]),min:n(["1 minuto","%d minutos"]),hour:n(["1 hora","%d horas"]),day:n(["1 día","%d días"]),month:n(["1 mes","%d meses"]),year:n(["1 año","%d años"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],weekdays:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],shortWeekdays:["Dom.","Lun.","Mar.","Mié.","Jue.","Vie.","Sáb."],minWeekdays:["Do","Lu","Ma","Mi","Ju","Vi","Sá"]},d3:{grouping:[3],currency:["$",""],dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Cerrar",prevText:"Ant",nextText:"Sig",currentText:"Hoy",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}}},function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Récemment",rightNow:"Maintenant",future:"dans %s",past:"%s",sec:n(["1 seconde","%d secondes"]),min:n(["1 minute","%d minutes"]),hour:n(["1 heure","%d heures"]),day:n(["1 jour","%d jours"]),month:n(["1 mois","%d mois"]),year:n(["1 an","%d ans"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthsShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortWeekdays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],minWeekdays:["Di","Lu","Ma","Me","Je","Ve","Sa"]},d3:{grouping:[3],currency:["$",""],dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e>1?1:0}}},function(e,t){function n(e,t){return function(t){return e[i.pluralForm(t)].replace(/%d/i,t)}}var i=e.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Agora a pouco",rightNow:"Agora a pouco",future:"em %s",past:"%s",sec:n(["1 segundo","%d segundos"]),min:n(["1 minuto","%d minutos"]),hour:n(["1 hora","%d horas"]),day:n(["1 dia","%d dias"]),month:n(["1 mês","%d meses"]),year:n(["1 ano","%d anos"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingo","Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"],shortWeekdays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],minWeekdays:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},d3:{grouping:[3],currency:["$",""],dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Fechar",prevText:"Anterior",nextText:"Próximo",currentText:"Hoje",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return 1!==e?1:0}}},function(e,t,n){e.exports=n(966)},function(e,t){e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return{get:function(t){return!!e[t]},getAll:function(){return e}}}},function(e,t){"use strict";function n(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;t>s;s++)n[s-1]=arguments[s];return n.reduce(i,e)}function i(e,t){for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.exports=n},function(e,t){"use strict";function n(e){return i.innerHTML=e.replace(s,"&lt;"),i.value}e.exports=n;var i=document.createElement("textarea"),s=/</g},function(e,t){"use strict";function n(e){return null==e||e===!1?"":r.test(e)?e.replace(s,o):e}e.exports=n;var i={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/&(?!\w+;)|[<>"'`]/g,r=/[&<>"'`]/,o=function(e){return i[e]||"&amp;"}},function(e,t){"use strict";function n(e,t,n){return!e||n&&n.test(t)?t:e.replace(i,window.encodeURIComponent(t))}e.exports=n;var i=/%s/},function(e,t,n){"use strict";function i(e,t){function n(e){if(t>0){var n=e.data.length;t-=n,0>=t&&(e.data=e.substringData(0,e.data.length+t))}else e.data=""}function i(){return t>0}function a(e){for(var t=void 0;e;)t=e,e=e.nextSibling,t.parentNode.removeChild(t)}return e.length<t?e:(o.innerHTML=r.innerHTML=e,s(r,n,i,a),r.innerHTML+(r.innerHTML===o.innerHTML?"":"&hellip;"))}var s=n(701);e.exports=i;var r=document.createElement("div"),o=document.createElement("div")},function(e,t){"use strict";function n(){var e=[],t=Math.floor(1e4*Math.random()),n=/xxxLINK[0-9]+\|([0-9]+)xxx/g;return{addPlaceholder:function(n,i){return e.push({href:n,text:i}),"xxxLINK"+t+"|"+(e.length-1)+"xxx"},flatten:function(t,i){var s=t.replace(n,function(t,n){var s=e[parseInt(n,10)];return s?i(s.href,s.text):t});return e.length=0,s}}}e.exports=n},function(e,t,n){"use strict";function i(e,t){function n(e){i.lastIndex=0,i.test(e.data)&&(e.data=e.data.replace(i,function(e){return e.split(o).filter(Boolean).join("​")}))}var i=new RegExp("\\S{"+t+",}","g"),o=new RegExp("(\\S{"+Math.floor(t/2)+"}(?=\\S{2}))");return i.test(e)?(r.innerHTML=e,s(r,n),r.innerHTML):e}var s=n(701);e.exports=i;var r=document.createElement("div")},function(e,t){"use strict";function n(e,t,n){e=n?e.replace(n,""):e;var r=e.match(s)||[],o=i(r,1),a=o[0];if(a&&e.length>t){var l=e.search(s)+a.length,u=Math.floor((t-l)/2);return e.slice(0,l+u)+"&hellip;"+e.slice(-u)}return e}var i=function(){function e(e,t){var n=[],i=!0,s=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(l){s=!0,r=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(s)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=n;var s=/\.[a-z-]{2,30}\//},function(e,t,n){(function(t){"use strict";function i(){function e(e,t){}var t=arguments.length<=0||void 0===arguments[0]?2:arguments[0],n=T.get("me"),s=arguments[1];return s||(s=F.defer().done(function(){te.instances.add(n),I.trigger("connect:hasUserData")})),n.id?s.resolve():n.fetch().done(s.resolve).fail(function(n){403===n.status?(e("Frozen user account, removing token",n),A.logout(),s.reject(n)):t?(e("Error fetching user information. Retrying...",n),i(t-1,s)):(e("Could not fetch user information. Giving up...",n),A.logout().always(function(){window.location.reload()}),s.reject(n))}),s}function s(){var e=10;!function n(){t(window.document).one("ajaxSuccess",function(t,i){!$.dateTimeHelper.setServerTime(i.getResponseHeader("Date"))&&--e&&n()})}()}function r(){_.initialize({statusCode:O}),J.initialize()}function o(){T.set("geoip",new N)}function a(){var e,n,i=window.document;e=new G,e.setRoutes(Y,W),e.setLoader(B),b&&b.initialize(),T.set("router",e),m.setAudioAd(w),H.setAdManager(m),H.setFallbackSource(q,function(e){return G.getRoute("listenNetwork",e,"related")}),Z.initialize(t(i)),Q.initialize(),h(),n=new y({el:t("#app"),appVersion:f}),n.render(),k.history.start({root:"/",pushState:!0}),t(window).on("unload",c)}function l(){var e=new te({id:193});e.release=e.hold=g.noop}function u(){X.activate(),X.on(X.actions.STOP,d),I.on("audio:play",function(){X.publishEvent(X.events.PLAY)})}function c(){Z.dispose(t(window.document))}function d(){var e=H.getCurrentSound();e&&!e.isPaused()&&(T.get("rollouts").get("trinity_dry_run")?Z.trackAudioEvent({type:"pause",checkpointInterval:null,pause_reason:"concurrent_streaming",sound:e}):e.pause({pause_reason:"concurrent_streaming"}))}function h(){if(T.get("rollouts").get("v2_desktop_notifications")){var e=0,t=2;H.on("change:currentSound",function(n){var i=n.current,s=C.allowed(),r=!E.focused();if(null===s&&r)++e===t&&I.trigger("desktop-notification-reminder");else if(s){var o=K.get("newTrackNotifications");("always"===o||"bg"===o&&r)&&!function(){var e=function(){var e=i.get("user");C.create(i.get("title"),{icon:R.urlFrom(i,100),body:e.username,tag:"nowPlaying"}).closeAfter(5e3).on("click",window.focus,window)};i.attrExists(["title","user"])?e():i.fetch().then(function(){i.isPlaying()&&i===H.getCurrentSound()&&e()})}()}})}}var p,f,g=n(3),m=n(177),v=n(1046),_=n(189),y=n(1149),b=n(321),w=n(1133),x=n(1052),k=n(27),S=n(88),T=n(22),A=n(25),E=n(259),C=n(391),D=n(128),I=n(23),M=n(310),P=n(110),L=n(227),F=n(66),N=n(1137),O=n(225),R=n(100),$=n(64),B=n(1086),U=n(1081),z=n(1083),j=n(1082),H=n(95),V=n(764),q=n(254),W=n(942),G=n(71),Y=n(694),K=n(410),Q=n(1112),J=n(328),Z=n(1114),X=n(1115),ee=n(393),te=n(68),ne=7e3;e.exports={start:function(e){window.document.head;window.console&&window.console.info&&window.console.info("You like to look under the hood? Why not help us build the engine? http://soundcloud.com/jobs"),f=e?e:"DEVELOPMENT",T.set("app_version",f),window._scAuthCallbacks=x,p()}},p=g.once(function(){function e(){t=i(),window.setTimeout(A.loginToClassicSoundCloud,ne)}var t,n=F.defer();s(),r(),U({}),z({}),j(),o(),l(),u(),ee.startPlayTracking(),v.initialize(),M.setExperiments(T.get("experiments").getVariantIds()),(A.isLoggedIn()?F.resolve():A.loginWithCookies()).done(e).fail(function(){I.once("connect:login",e),T.get("me").lastFetchTime=Date.now(),t=F.resolve()}).always(function(){t.fail(P.ajaxFatal(D.USER_INFO_NOT_LOADED)).always(a).done(n.resolve).fail(n.reject)}),S.isIE||n.always(function(){!A.isLoggedIn()&&V.facebook&&L.isLoggedIn().done(function(e){e&&A.loginWithFacebook(L.getAccessToken())})})})}).call(t,n(1))},function(e,t,n){(function(e){"use strict";var t,i=n(64);window.__sc_abortApp||(i.initialize(),t=n(975),e(function(){t.start(window.__sc_version)}))}).call(t,n(1))},function(e,t,n){"use strict";function i(e){return this.message.indexOf(e)>-1}function s(e,t,n){r(t)&&(p>0?(e.lastFetchTime=Date.now(),e.reset([m])):(p++,o.delay(function(){e.fetch().done(function(){p=0})},5e3)))}function r(e){var t=e.status;return t>=500}var o=n(3),a=n(785),l=n(22),u=n(25),c=n(1109),d=n(97),h=n(64),p=0,f=new d("already-seen"),g={"cookies-notification-10-06-2015":{message:h.t('SoundCloud uses cookies. By using our services, you’re agreeing to our <a href="/pages/cookies" class="sc-link-dark">Cookie Policy</a>. We have updated our <a href="/pages/privacy" class="sc-link-dark">Privacy policy</a>, effective as of 10 June 2015. By using our services you’re agreeing to the updated policy.')},"email-confirmation-announcement":{message:h.t('Please confirm your email address to make the most of your SoundCloud experience. Check your <a href="/settings/email" class="sc-link-dark">settings</a> to resend the confirmation email.'),shouldAddAnnouncement:function(){return u.isLoggedIn()&&!l.get("me").get("primary_email_confirmed")}}},m={message:h.t('We’re currently experiencing issues, but we are working to get them resolved as soon as possible. Please check our <a href="http://status.soundcloud.com/" target="_blank">Status blog</a> for more information.'),dismissable:!1},v=["old search system","We will no longer be showing Favorites","making some changes to the Classic Dashboard"];e.exports=c.extend({model:a,baseUrl:"announcements",setup:function(){var e=this;this.on("error",s,this),Object.keys(g).filter(function(e){var t=g[e].shouldAddAnnouncement;return 1!==f.get(e)&&(!t||t())}).forEach(function(t){e.add({message:g[t].message}),f.set(t,1),e.lastFetchTime=Date.now()})},parse:function(e){return e.filter(function(e){return!v.some(i,e)})}},{neverRelease:!0,hashFn:function(){return 1}})},function(e,t,n){"use strict";var i=n(129),s=n(144),r=n(1132),o=n(74);e.exports=o.extend(i,{model:r,next_href:!1,audibleAt:function(e){var t=this.at(e);return t&&t.getAudible()},getSourceInfo:function(){var e=s.instances.get(this.options.conversationId);return{type:"conversation",resourceType:"user",resourceId:e.getRecipient().id}},comparator:function(e){return e.get("timestamp")}},{hashFn:function(e,t){return t&&t.conversationId}})},,,,function(e,t,n){"use strict";function i(e){this.add(e)}var s=n(74),r=n(273),o=n(23);e.exports=s.extend({model:r,baseUrl:"me/connections",setup:function(){this.listenTo(o,"connect:newConnection",i)},getByType:function(e){return this.findWhere({type:e})}},{hashFn:function(){return 1},neverRelease:!0})},,function(e,t,n){"use strict";function i(e){this.add(e.object,{at:0})}var s=n(76),r=n(74),o=n(22),a=n(87);e.exports=r.extend({model:a,defaults:{offset:0,limit:50},baseUrl:function(){return"me/playlists"},setup:function(){var e=o.get("me").id;this.listenTo(s,"createPlaylist:origin:user:"+e,i)}},{neverRelease:!0,hashFn:function(){return 1}})},,function(e,t,n){"use strict";var i=n(22),s=n(153),r=n(70),o=n(221),a=n(222);e.exports=s.extend({model:r,defaults:{sourceType:"likes"},filters:[function(e){return"sound"===e.resource_type}],setupSources:function(){var e=i.get("me").id;return"likes"===this.options.sourceType?[new o(null,{userId:e})]:[new a(null,{userId:e})]},extractModel:function(e){return e.getAudible()}},{hashFn:function(e,t){return t&&t.resource_id}})},,function(e,t,n){"use strict";var i=n(74),s=n(22),r=n(200),o=n(67);e.exports=i.extend({model:r,defaults:{queriesLimit:0,resultsLimit:10,query:null,variant:null},queryUrn:null,baseUrl:function(){var e=this.options;return o.stringify({host:s.get("api_v2_host"),path:["search","autocomplete"],query:{q:e.query,queries_limit:e.queriesLimit,results_limit:e.resultsLimit}})},parse:function(e){var t=e.queries,n=e.results,i="queries_first"===this.options.variant?t.concat(n):n.concat(t),s=i.filter(function(e){return null!==e.entity});return this.queryUrn=e.query_urn,s}},{hashFn:function(e,t){var n=t.query,i=t.queriesLimit,s=t.resultsLimit,r=t.variant;return n+"_"+i+"_"+s+"_"+r}})},,function(e,t,n){"use strict";var i=n(3),s=n(22),r=n(763),o=n(67);e.exports=r.extend({defaults:{prefix:"",context:null,urn:null},baseUrl:function(){var e=this.options;return o.stringify({path:["search","suggest","tags"],query:{q:e.prefix.toLowerCase(),highlight_mode:"offsets",context:e.context&&e.context.map(function(e){return e.toLowerCase()}).join(","),urn:e.urn,user_id:s.get("me").id}})},parse:function(e){return i.pluck(e.suggestions,"id")}},{hashFn:function(e,t){var n=t.prefix,i=t.context,s=t.urn;return n+";"+JSON.stringify(i)+";"+s}})},,,,function(e,t,n){"use strict";function i(){return new o(null,{resource_id:this.options.userId,playlists_for:"user",limit:this.options.limit})}var s=n(73),r=n(1087),o=n(253),a=n(153),l=n(718);e.exports=a.extend(r.withOptions({fields:"title"}),{model:s,defaults:{limit:200,includePrivateSounds:!1,includePlaylists:!0},regex:null,filters:[function(e){return this.options.includePrivateSounds||e.isPublic()}],setupSources:function(){var e=[];return this.options.includePlaylists&&e.push(i.call(this)),e.push(new l(null,{userId:this.options.userId})),e},extractModel:function(e){return e}},{hashFn:function(e,t){var n=t.includePlaylists!==!1;return t.userId+"_audibles"+(n?"_includes_playlists":"")}})},,,,,,,function(e,t,n){"use strict";var i=n(74),s=n(72);e.exports=i.extend({model:s.extend(),baseUrl:function(){return this.getEndpointUrl("meRightsholders")},parse:function(e){return e}},{hashFn:function(){return 1}})},function(e,t,n){"use strict";var i=n(64),s=n(25),r=n(22),o=n(1306);e.exports={genreField:{viewType:"callout",shouldDisplay:function(){return s.isLoggedIn()}},onboardingLike:{viewType:"callout",viewOptions:{title:i.t("Keep track of this track"),body:i.t("Click the heart to save it to your list of likes.")},shouldDisplay:function(){return s.isLoggedIn()&&!r.get("me").hasLikes()&&"onboarding"===r.get("router").getLayoutInfo().layoutName}},personalRecosAnnouncement:{viewType:"modal",viewOptions:{Subview:o,subviewArgs:{},width:500,filter:"darken"},shouldDisplay:function(){new Date(2020,1,1).getTime(),new Date(2020,1,1).getTime(),Date.now();return!1}}}},function(e,t,n){"use strict";var i=n(173),s=n(1494);e.exports={userBadge:{Subview:s,minHeight:199,width:"150",offset:"0 10"},audibleAttribute:{Subview:i,relativeElementAnchor:"center bottom",width:"200",anchor:"right top",offset:"18 10",smallText:!0},genericDialog:{relativeElementAnchor:"center bottom",anchor:"right top",offset:"18 10",smallText:!1,text:""}}},,function(e,t,n){"use strict";var i=n(67),s=i.parse("https://api-v2.soundcloud.com/"),r=i.parse("https://api.soundcloud.com/");e.exports={"api-v2":{hostname:s.host,protocol:s.scheme,port:s.port,headers:{Accept:"application/json, text/javascript, */*; q=0.1"},query:{client_id:"02gUJC0hH2ct1EGOcYXQIzRFU91c72Ea"}},"public-api":{hostname:r.host,protocol:r.scheme,query:{client_id:"02gUJC0hH2ct1EGOcYXQIzRFU91c72Ea"}}}},function(e,t){"use strict";function n(e,t){return 1===t?"rgb("+e+")":"rgba("+e+","+t+")"}var i="0,0,0",s="102,102,102",r="153,153,153",o="229,229,229",a="255,0,0",l="255,191,153",u="255,51,0",c="255,85,0",d="255,119,0",h="255,101,0",p="255,255,255";e.exports={_config:{barWidth:2,gapWidth:1,fadeInSteps:10,fixedTimeIndicator:!0,commentLines:!1,fullHighlight:!0},"default":{progressGradient:[[0,d],[.7,u],[.701,c],[1,c]],loaderGradient:[[0,i,.5],[1,i,.5]],backgroundGradient:[[0,s],[.7,s],[.701,s,.5],[1,s,.5]],gapGradient:[[0,r,.5],[.7,r,.5],[.701,p,0],[1,p,0]],scrubberGradientBackward:[[0,s,.5],[.7,s,.5],[.701,s,0],[1,s,0]],scrubberGradientForward:[[0,c,.5],[.7,c,.5],[.701,c,0],[1,c,0]],highlightGradientPlayed:[[0,c],[.7,c],[.701,c],[1,c]],highlightGradientUnplayed:[[0,i,.5],[1,i,.5]],progressIndicatorBg:n(i,1),progressIndicatorColor:n(h,1),durationIndicatorBg:n(i,1),durationIndicatorColor:n(r,1),dividerColorPrevious:n(a,1),dividerColorUpcoming:n(r,1)},inverted:{progressGradient:[[0,d],[.7,u],[.701,l],[1,l]],loaderGradient:[[0,p],[1,p]],backgroundGradient:[[0,p],[.7,p],[.701,o],[1,o]],gapGradient:[[0,p,0],[.28,p,.3],[.7,p,.5],[.701,p,.125],[1,p,.125]],scrubberGradientBackward:[[0,p,.5],[.7,p,.5],[.701,p,0],[1,p,0]],scrubberGradientForward:[[0,c,.5],[.7,c,.5],[.701,c,0],[1,c,0]],highlightGradientPlayed:[[0,c],[.7,c],[.701,c],[1,c]],highlightGradientUnplayed:[[0,p],[1,p]],progressIndicatorBg:n(i,1),progressIndicatorColor:n(h,1),durationIndicatorBg:n(i,1),durationIndicatorColor:n(r,1),dividerColorPrevious:n(a,1),dividerColorUpcoming:n(r,1)}}},,,function(e,t,n){(function(t){"use strict";var i=n(3),s=n(22),r=n(89),o=n(66),a=n(64),l=n(720),u=n(109),c=n(67),d=(new Date).getFullYear();e.exports=r.extend({fields:{year:{defaultValue:null,datasource:i.range(d-13,d-100,-1).map(function(e){return{value:e,label:e}})},month:{defaultValue:null,datasource:l.map(function(e,t){return{value:t+1,label:e}})}},buttons:{save:{label:a.t("Verify age"),action:"save"}},actions:{"default":"save",save:function(){var e=this,t=o.defer();return this.validate().done(function(n){n?e.saveOwnAge().done(t.resolve).fail(t.reject):t.reject()}).fail(t.reject),t}},constraints:{year:[[u,{message:a.t("Please choose a year")}]],month:[[u,{message:a.t("Please choose a month")}]]},saveOwnAge:function(){var e="/users/"+s.get("me").getUrn(),n=c.stringify({path:e},s.get("api_v2_host"));return t.ajax({type:"PUT",url:n,contentType:"application/json",dataType:"json",data:JSON.stringify({date_of_birth:this.pick("year","month")})})}},{hashFn:function(){return 1}})}).call(t,n(1))},function(e,t,n){"use strict";var i=n(88);n(51),n(52),n(53),n(41),n(40),n(44),n(42),n(43),n(45),n(48),n(50),i.isMobile&&i.isSafari&&n(34)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(3),s=n(76),r=n(27),o=n(23),a=e.exports=i.assign({},r.Events,{initialize:function(){s.bindErrorHandler(a.onActionError)},onActionError:function(e){if("follow"===e.action){var t=a.getErrorFromXhr(e.xhr)||{};switch(t.error_message){case"DENY_AGE_RESTRICTED":return o.trigger("error:followDeniedAge",{errorType:"DENY_AGE_RESTRICTED",requiredAge:t.age}),!1;case"DENY_AGE_UNKNOWN":return o.trigger("error:followDeniedAge",{errorType:"DENY_AGE_UNKNOWN",context:e.context,followeeId:e.target}),!1}}},getErrorFromXhr:function(e){return e&&403===e.status&&e.responseJSON?i.find(e.responseJSON.errors,function(e){return"DENY_AGE_RESTRICTED"===e.error_message||"DENY_AGE_UNKNOWN"===e.error_message}):void 0}})},function(e,t){"use strict";function n(e,t,n){var i,s=e.length;if(t.length!==s)return!1;for(i=0;s>i;++i)if(e[i]!==t[i]&&!n(e[i],t[i]))return!1;return!0}function i(e,t){var n,i=arguments.length<=2||void 0===arguments[2]?a:arguments[2],s=[],r=[[],[]],l=[[],[]],p=[];return o(0,e.length,0,t.length,e,t,s,r,l,i),n=0,s.forEach(function(e){switch(e){case c:case d:p.push(!1,n);break;case u:++n}}),n=0,s.forEach(function(e){switch(e){case h:case d:p.push(!0,n);case u:++n}}),p}function s(e,t,n,i,s,r,o,a){var l,u,c;for(s[e%2][n]=0,u=n+1;i>=u;u++)s[e%2][u]=s[e%2][u-1]+1;for(l=e+1;t>=l;l++)for(s[l%2][n]=s[(l-1)%2][n]+1,u=n+1;i>=u;u++)c=s[(l-1)%2][u-1],a(r[l-1],o[u-1])||c++,s[l%2][u]=Math.min(c,Math.min(s[(l-1)%2][u]+1,s[l%2][u-1]+1))}function r(e,t,n,i,s,r,o,a){var l,u,c;for(s[t%2][i]=0,u=i-1;u>=n;u--)s[t%2][u]=s[t%2][u+1]+1;for(l=t-1;l>=e;l--)for(s[l%2][i]=s[(l+1)%2][i]+1,u=i-1;u>=n;u--)c=s[(l+1)%2][u+1],a(r[l],o[u])||c++,s[l%2][u]=Math.min(c,Math.min(s[(l+1)%2][u]+1,s[l%2][u+1]+1))}function o(e,t,n,i,a,l,p,f,g,m){var v,_,y,b,w,x,k;if(e>=t)for(v=n;i>v;v++)p.push(h);else if(n>=i)for(v=e;t>v;v++)p.push(c);else if(t-1===e){for(_=a[e],y=n,v=n+1;i>v;v++)m(l[v],_)&&(y=v);for(v=n;i>v;v++)v===y?m(l[v],_)?p.push(u):p.push(d):p.push(h)}else{for(b=Math.floor((e+t)/2),s(e,b,n,i,f,a,l,m),r(b,t,n,i,g,a,l,m),w=n,x=1/0,v=n;i>=v;v++)k=f[b%2][v]+g[b%2][v],x>k&&(x=k,w=v);o(e,b,n,w,a,l,p,f,g,m),o(b,t,w,i,a,l,p,f,g,m)}}var a=function(e,t){return e===t},l=e.exports={align:function(e){var t,n,i,s=e.source,r=e.target,o=e.add,u=e.remove,c=e.comparisonFn,d=void 0===c?a:c,h=l.getAlignInstructions(s,r,d);for(t=0;t<h.length;t+=2)n=h[t+1],h[t]?(i=r[n],o(i,n)):(i=s[n],u(i,n))},getAlignInstructions:function(e,t){var s,r,o,l=arguments.length<=2||void 0===arguments[2]?a:arguments[2],u=e.length,c=t.length,d=Math.abs(u-c);if(1===d){if(o=c>u,s=o?t:e,r=o?e:t,n(s.slice(0,-1),r,l))return[o,u-(o?0:1)];if(n(s.slice(1),r,l))return[o,0]}else if(0===d&&n(e,t,l))return[];return i(e,t,l)}},u=0,c=1,d=2,h=3},function(e,t,n){"use strict";var i=n(3),s=n(1049),r=n(22),o=n(23),a=n(310),l=n(93),u=n(37),c=n(38),d=n(39);e.exports={initialize:function(){var e=function(e){return r.get(e)},t=e("me").id;a.initialize({id:e("client_application_id"),appVersion:e("app_version").replace(/!$/,""),trackingUrl:e("eventlogger_tracking_url"),user:t,batchTimeout:l.sendBeacon?5e3:1e3}),t||o.once("connect:hasUserData",function(){a.setUser(e("me").id)}),i.defer(i.invoke,[u,d,c],"include")},dispose:function(){a.flush(!0)},trackPageView:function(e,t,n,i){var s=t.join("::");null!=window._gaq&&window._gaq.push(["_trackPageview",s]),a.pageview(n,e,t,i)},trackAudioEvent:function(e){var t=e.sound.getMonetizableTrack()||e.sound,n=t.playlist,i=e.sourceInfo||{};a.audio({action:e.action,ad_urn:e.ad_urn,checkpointInterval:e.checkpointInterval,clientEventId:e.clientEventId,track_length:e.track_length,external_media:e.external_media,id:e.sound.id,monetization_model:e.monetization_model,monetization_type:e.monetization_type,monetized_object:e.monetized_object,page_name:e.page_name,page_urn:e.page_urn,pause_reason:e.pause_reason,playheadPosition:e.playheadPosition,policy:e.policy,promoted_by:e.promoted_by,protocol:e.protocol,reposted_by:e.repostedBy,attribution:e.attribution,in_playlist:n?n.getUrn():null,playlist_position:n?n.getSoundIndex(t):null,source:i.type||null,sourceVersion:i.version||null,trigger:e.trigger,trackOwnerId:t.get("user_id"),user:e.user})},trackAppLoad:function(e,t,n){a.appLoad(t,{level:e,latency:n})},trackClick:function(e,t){a.logEvent("click",e,t)},trackV0Click:function(e,t,n,i){a.click(n,e,t,i)},trackImpression:function(e,t){a.impression(e,t)},trackAudioError:function(e){s.log(e)},trackAppError:function(e){if(null!=window._gaq){var t=e.get("error")||{},n=e.get("message"),i=t.filename||"",s=t.lineno||"";window._gaq.push(["_trackEvent","Errors",n,i+":"+s,null,!0])}},trackStats:function(e,t){a.statsView(e,t)}}},function(e,t,n){"use strict";var i=n(67),s="https://eventlogger.soundcloud.com/audio_error";e.exports={log:function(e){var t=i.stringify({query:e}),n=new window.Image;n.src=s+t}}},function(e,t,n){(function(t){"use strict";function i(e,t,n){var i=m[t];if(i){var s=o.defaults({sound:e,model:e,type:i},n);"play"===i&&"undefined"==typeof this._playRegistrationEventClientId?(this._playRegistrationEventClientId=h.generate(),
e.registerUrl=e.registerUrl.bind(e,this._playRegistrationEventClientId)):"playStart"===i&&this._playRegistrationEventClientId&&(s.clientEventId=this._playRegistrationEventClientId,this._playRegistrationEventClientId=null),e.trigger(i,s)}else switch(t){case g.STREAMS:case g.NO_STREAMS:e.setHasStreamInfo(this.hasNoConnection()||this.hasStreamInfo()),this.hasNoConnection()||this.hasStreamInfo()||e.isBlocked()||c.trigger("error:audio_no_streams");break;case g.NO_CONNECTION:c.trigger("error:audio_no_connection");break;case g.REGISTERED:e.onPlayRegistered();break;case g.DESTROYED:this.unregisterModelEventListener(e);break;case g.NO_PROTOCOL:case g.FLASH_NOT_LOADED:c.trigger("error:audio_support");break;case g.AUDIO_ERROR:c.trigger("error:audio_error");break;case g.FLASH_BLOCK:c.trigger("flash:block");break;case g.FLASH_UNBLOCK:c.trigger("flash:unblock");break;case g.GEO_BLOCKED:e.setHasStreamInfo(!1),c.trigger("geoBlocked",{sound:e})}}function s(e){return t.ajax(o.extend({},e,v()))}var r,o=n(3),a=n(1051),l=n(88),u=n(22),c=n(23),d=n(225),h=n(733),p=n(310),f=n(700),g=f.Events,m=(r={},r[g.PLAY]="play",r[g.PLAY_START]="playStart",r[g.PAUSE]="pause",r[g.FINISH]="finish",r[g.SEEKED]="seeked",r[g.TIME]="time",r[g.BUFFERRING_START]="buffering:start",r[g.BUFFERRING_END]="buffering:end",r),v=(e.exports={createAudioFromSound:function(e){var t=u.get("rollouts"),n=t.get("debug_audio_v2")||!1;f.setAudioManagerOnce(a.getInstance(n));var r=new f({soundId:e.id,resourceId:e.resource_id,duration:e.getMediaDuration.bind(e),previewOnly:e.isSnippetized(),title:e.get("title"),registerEndpoint:e.url.bind(e,"registerUrl"),streamUrlsEndpoint:e.url.bind(e,"streamsUrl"),asyncFetch:!l.isMobile,mediaSourceEnabled:t.get("mediasource_enabled"),mseFirefox:t.get("mediasource_enabled_firefox"),mseSafari:t.get("mediasource_enabled_safari"),debug:n,eventLogger:p,logErrors:t.get("audio_errors_logging_enabled"),ajax:s});return r.registerModelEventListener(e,i),r}},o.memoize(function(){return{statusCode:o.mapObject(d,function(){return o.noop})}}))}).call(t,n(1))},function(e,t,n){(function(t){"use strict";function i(e){var n=e.controller,i=t(n.getContainerElement()),r=n.getState()===s.States.ERROR;i.toggleClass("blocked",r)}var s,r=n(949),o=n(23),a=1e3/60;e.exports={getInstance:function(e){return s||(s=new r({flashAudioPath:n(e?2e3:1999),flashObjectID:"flashAudioObject",updateInterval:a,debug:e}),s.Errors=r.Errors,s.States=r.States,s.UPDATE_INTERVAL=a,o.once("flash:block flash:unblock",i)),s}}}).call(t,n(1))},function(e,t,n){"use strict";function i(e,t){return t.reduce(function(t,n){return t[n]=e[n].bind(e),t},{})}var s=n(25),r=n(273),o=n(28);e.exports={connect:i(s,["setAuthToken","loginFailed","hasLoggedIn","hasSignedUp","removeIframe"]),facebook:i(r,["callback"]),payment:i(o,["handleCallback"])}},function(e,t,n){"use strict";function i(e,t){var n=t.x,i=t.y,s=t.w,r=t.h,o=t.radius,a=t.holeSize,u=t.arcAmount,c=t.bgAlpha,d=t.scrollTop,h=t.scrollLeft,p=e.canvas,f=p.width,g=p.height,m=s/2,v=r/2;e.save(),e.clearRect(0,0,f,g),e.save(),e.globalAlpha=c*b,e.fillStyle="#000",e.fillRect(0,0,f,g),e.restore(),e.translate(-h,-d),a&&(e.save(),e.beginPath(),l(e,n,i,s,r,o,a),e.globalCompositeOperation="destination-out",e.globalAlpha=1,e.fill(),e.restore()),u&&a&&(e.save(),e.beginPath(),e.translate(n+m,i+v),e.moveTo(0,0),e.arc(0,0,s+r,C,D*u+C,!1),e.restore(),e.clip(),e.save(),e.beginPath(),l(e,n,i,s,r,o,a),e.globalCompositeOperation="source-over",e.lineWidth=2,e.strokeStyle=S,e.stroke(),e.restore()),e.restore()}function s(e){var t=e[0],n=e.offset(),i=n.top,s=n.left,r=t.offsetHeight,o=t.offsetWidth;return{x:s,y:i,w:o,h:r}}function r(e,t,n){return function(i){return n((f.clamp(i,e,t)-e)/(t-e))}}function o(e){return(1-Math.cos(e*Math.PI))/2}function a(e,t,n){var i=e/D*Math.asin(1),s=D/e;return function(e){return Math.pow(2,-n*e)*Math.sin((e*t-i)*s)+1}}function l(e,t,n,i,s,r,o){y>=r?u(e,t+i/2,n+s/2,r*o):c(e,t,n,i,s,o)}function u(e,t,n,i){e.arc(t,n,i,0,D,!1)}function c(e,t,n,i,s,r){var o=w,a=x,l=k,u=!1,c=i/2,d=s/2,h=-c-a+o,p=-h,f=-d-l+o,g=-f;e.save(),e.translate(t+c,n+d),e.scale(r,r),e.moveTo(h,f-o),e.arc(p,f,o,C,T,u),e.arc(p,g,o,T,A,u),e.arc(h,g,o,A,E,u),e.arc(h,f,o,E,C,u),e.restore()}var d=n(3),h=n(773),p=n(66),f=n(262),g=n(113),m=1e3,v=300,_=10,y=40,b=.5,w=25,x=18,k=15,S="#ff5500",T=0,A=.5*Math.PI,E=Math.PI,C=1.5*Math.PI,D=2*Math.PI,I=window.document,M=r(0,.5,o),P=r(.2,.8,a(400,1e3,10)),L=r(.66,1,o);e.exports=h.extend({className:"calloutBackground g-opacity-transition-300",css:n(2358),defaults:{$targetEl:null,delay:0},states:{hidden:"m-hidden"},recalcOnWindowResizeX:!0,recalcOnWindowResizeY:!0,fullScreen:!0,_animId:null,_animState:null,setup:function(){this.getTargetDimensions=d.memoize(this.getTargetDimensions)},dispose:function(){this._animId&&window.cancelAnimationFrame(this._animId)},renderDecorate:function(){var e=this;window.setTimeout(function(){e.disposed||(h.prototype.renderDecorate.call(e),e.listenTo(g,"scroll:throttled",e.requestFrame))},this.options.delay)},teardown:function(){this.stopListening(g,"scroll:throttled",this.requestFrame)},onCanvasResize:function(){this.getTargetDimensions.cache={},this.requestFrame()},getTVal:function(){var e=Date.now();return this.getTVal=function(){return Math.min(1,(Date.now()-e)/m)},0},getTargetDimensions:function(){var e=s(this.options.$targetEl),t=e.x,n=e.y,i=e.w,r=e.h,o=(Math.sqrt(i*i+r*r)+_)/2;return{x:t,y:n,w:i,h:r,radius:o}},animateOut:function(){return this.toggleState("hidden",!0),p.delay(v)},getNextAnimationState:function(e,t){var n=this.getTargetDimensions(),i=n.x,s=n.y,r=n.w,o=n.h,a=n.radius,l=P(t),u=L(t),c=M(t),d=I.body.scrollLeft||I.documentElement.scrollLeft,h=I.body.scrollTop||I.documentElement.scrollTop,p=e?e.scrollTop:h,f=e?e.scrollLeft:d,g=h-p,m=d-f,v=p+g/8,_=f+m/8,y=t-(e?e.t:0);return{x:i,y:s,w:r,h:o,t:t,radius:a,holeSize:l,arcAmount:u,bgAlpha:c,scrollTop:v,scrollLeft:_,scrollDeltaLeft:m,scrollDeltaTop:g,deltaT:y}},requestFrame:function(){var e=this;this._animId||(this._animId=window.requestAnimationFrame(function(){e._animId=null,e.draw()}))},draw:function(){var e=this._animState=this.getNextAnimationState(this._animState,this.getTVal());i(this.context,e),this.queueFrame(e),e.t>=1&&e.deltaT>0&&this.trigger("animationDone")},queueFrame:function(e){(!e||e.t<1||Math.abs(e.scrollDeltaTop)>1||Math.abs(e.scrollDeltaLeft)>1)&&this.requestFrame()}})},function(e,t,n){(function(t){"use strict";function i(){this.getTargetDimensions.cache={},o.call(this)}function s(){a.call(this)}function r(){this.dismiss()}function o(){var e=this.getElement("bubble");e.length&&e.position({my:"left-50 bottom-8",at:"top center",of:this.options.$targetEl,offset:"0 -45px"})}function a(){var e=this.getTargetDimensions(),t=e.x,n=e.y,i=e.h;if(0!==t||0!==n){var s=m.body.scrollTop||m.documentElement.scrollTop,r=s+window.innerHeight;this._bubbleHasBeenSeen?(n>r+g||s-g>n+i)&&this.dismiss():n>s&&r>n+i&&(this._bubbleHasBeenSeen=!0)}}var l=n(3),u=n(66),c=n(164),d=n(63),h=n(113),p=500,f=300,g=50,m=window.document;e.exports=d.extend({className:"callout g-z-index-callout",css:n(2359),template:n(2002),defaults:{title:null,body:null,$targetEl:null,delay:0},element2selector:{bubble:".callout__bubble"},events:{"click .callout__button button":r,"click .calloutBackground":r},states:{hidden:"m-hidden"},_bubbleHasBeenSeen:!1,setup:function(){this.getTargetDimensions=l.memoize(this.getTargetDimensions),this.close=l.once(this.close),this.dismiss=l.once(this.dismiss),this.onDocumentKeydown=this.onDocumentKeydown.bind(this)},dispose:function(){this.trigger("closed")},renderDecorate:function(){var e=this;this.listenTo(h,"resize:debounced",i).listenTo(h,"scroll:debounced",s),t(m).on("keydown",this.onDocumentKeydown),this.toggleState("hidden",!0),this.getTargetDimensions.cache={},o.call(this),a.call(this),this.subviews.background.once("animationDone",function(){e.addTimeout(function(){e.toggleState("hidden",!1)},p)})},teardown:function(){this.stopListening(h),t(m).off("keydown",this.onDocumentKeydown)},getTargetDimensions:function(){var e=this.options.$targetEl[0],t=this.options.$targetEl.offset(),n=t.top,i=t.left,s=e.offsetHeight,r=e.offsetWidth;return{x:i,y:n,w:r,h:s}},close:function(){var e=this;return this.stopListening(h),this.subviews.background?(this.toggleState("hidden",!0),u.all([this.subviews.background.animateOut(),u.delay(f)]).then(function(){e._dispose()})):(this._dispose(),u.resolve())},dismiss:function(){this.trigger("dismissed"),this.close()},onDocumentKeydown:function(e){e.which===c.ESC&&this.dismiss()}})}).call(t,n(1))},function(e,t,n){"use strict";var i=n(105),s=n(64),r=/\s+/g,o=/^\d{6,18}$/;e.exports=i.extend({message:s.t("This is not a valid barcode."),check:function(e,t){e=e.replace(r,"");var n=!e.length||o.test(e);t(n)}})},,function(e,t,n){"use strict";function i(e){return null==e}var s=n(136),r=n(728),o=n(66),a=e.exports=s.extend({fields:null,nullable:!0,validate:function(e){var t=o.defer(),n=this.fields.map(e.get,e);return n.every(i)?this.result(t,this.nullable):this.check(n,this.fields,this.result.bind(this,t)),t},affectsField:function(e){return this.fields.indexOf(e)>-1},getOwnerField:function(){return this.fields[0]}});r.applyTo(a.prototype)},function(e,t,n){"use strict";var i=n(105),s=n(64),r=/\W+/g,o=/^\w{5}\d{7}$/;e.exports=i.extend({message:s.t("This is not a valid ISRC."),check:function(e,t){e=e.replace(r,"");var n=!e.length||o.test(e);t(n)}})},function(e,t,n){"use strict";var i=n(105),s=n(64),r=/\W+/g,o=/^\w\d{10}$/;e.exports=i.extend({message:s.t("This is not a valid ISWC."),check:function(e,t){e=e.replace(r,"");var n=!e.length||o.test(e);t(n)}})},function(e,t,n){"use strict";var i=n(105),s=n(64);e.exports=i.extend({minLength:0,message:s.t("[[minLength]] characters min"),check:function(e,t){t(e.length>=this.minLength)}})},,function(e,t,n){"use strict";var i=n(3),s=n(105),r=n(66),o=n(64),a=n(68),l=[{rule:/^(?![_-])/,errorMessage:o.t("Profile URLs must not start with an underscore or hyphen.")},{rule:/^(?!.*[-_]$)/,errorMessage:o.t("Profile URLs must not end with an underscore or hyphen.")},{rule:/^(?!.*[\-_]{2,})/,errorMessage:o.t("Profile URLs must not have two consecutive underscores or hyphens.")},{rule:/^[a-z0-9_-]*$/,errorMessage:o.t("Only numbers, letters, underscores and hyphens are permitted.")},{rule:/^.{3,255}$/,errorMessage:o.t("Profile URLs must be between 3 and 255 characters.")},{rule:new RegExp("^(?!("+["101","accounts","activate","activity","admin","android","announcements","api","apps","artworks","assets","comments","community-guidelines","connect","customize","creativecommons","creator","creators","dashboard","dropbox","emails","errors","events","explore","facebook","faqs","favorites","feedbacks","feeds","for","forums","genres","gifts","google_plus","groups","guestlist","help","hot","invite","imprint","iphone","ipad","ipod","jobs","latest","login","logout","mac","manage","me","messages","mobile","music","newsletters","notifications","oauth","oauth2","orders","oembed","pages","partners","people","player","playlists","posts","press","pro","press_release","search","session","sets","settings","signup","sitemap","sound","sounds","stats","stream","subscription","terms-of-use","tour","tracks","track-manager","turn_off_notifications","tags","upload","users","videos","waveform","welcome","widgets","you"].join("|")+")$)"),errorMessage:o.t("This permalink is reserved. Please choose another one.")}];e.exports=s.extend({initialize:function(){s.prototype.initialize.apply(this,arguments),this.constraints=l},check:function(e,t){var n=this;if(""===e)return void t(!0);var s=i.find(this.constraints,function(t){return!t.rule.test(e)});s?(this.message=s.errorMessage,t(!1)):this.resolvePermalink(e).done(function(){n.message=o.t("This profile URL is already in use. Please try another."),t(!1)}).fail(function(){t(!0)})},resolvePermalink:function(e){var t=this.getResource.call(this._form);return t&&e===t.get("permalink")?r.reject():a.resolve(e)}})},function(e,t,n){"use strict";var i=n(136);e.exports=i.extend({_propagate:!0,data:null,initialize:function(e){this.data=e||{}},stopPropagation:function(){this._propagate=!1},isPropagationStopped:function(){return!this._propagate}})},,,function(e,t,n){"use strict";function i(){this.actions=s.reduce(this.actions,function(e,t,n){return"default"===n?e["default"]=t:s.isFunction(t)?e[n]={fn:t,state:"enabled"}:e[n]=s.assign({state:"enabled"},t),e},{})}var s=n(3),r=n(24);e.exports=new r({before:{initialize:function(){i.call(this)}},actions:null,performAction:function(e){var t,n=this,i=this.actions[e];if("default"===e){if(!i)return;"string"==typeof i&&(e=i,i=this.actions[e])}return"enabled"===i.state?(t=i.fn.apply(this,Array.prototype.slice.call(arguments,1)),t&&"function"==typeof t.state&&"pending"===t.state()&&(this.setActionState(e,"pending"),t.always(function(){"pending"===n.getActionState(e)&&n.setActionState(e,"enabled")})),t):void 0},getActionState:function(e){var t=this.actions[e];return t.state},setActionState:function(e,t){var n=this.actions[e];n.state!==t&&(this.trigger("change:action:"+e,t,n.state),n.state=t,this.buttons&&s.each(this.buttons,function(n,i){n.action===e&&this.setButtonConfig(i,{state:t})},this))}})},function(e,t,n){"use strict";function i(){r.each(this.buttons,function(e,t){var n=s.call(this,t);this.setButtonConfig(t,{state:n&&n.state||"enabled"})},this)}function s(e){var t=this.buttons[e];return r.find(this.actions,function(e,n){return n===t.action})}var r=n(3),o=n(24);e.exports=new o({before:{initialize:function(){i.call(this)}},buttons:null,setButtonConfig:function(e,t){var n,i=this.buttons[e],s={};r.each(t,function(e,t){i[t]!==e&&(n=!0,s[t]=i[t]=e)}),n&&this.trigger("change:button:"+e,s)}})},function(e,t,n){"use strict";function i(){this.fields=l.reduce(this.fields,r,{},this),this.set(l.assign(l.reduce(this.fields,a,{},this),this.attributes),{silent:!0}),this.resetChanges()}function s(e){return e&&e.hold&&e.release}function r(e,t,n){return e[n]=l.defaults(l.reduce(t,o,{},this),{isDirty:!1}),e}function o(e,t,n){return"function"==typeof t&&(t=t.call(this)),s(t)&&this._submodels.push(t),e[n]=t,e}function a(e,t,n){return e[n]=t.defaultValue,e}var l=n(3),u=n(24);e.exports=new u({before:{initialize:function(){this._submodels=this._submodels||[],i.call(this)}},fields:null,getFieldMetadata:function(e){return this.fields[e]||{}},setFieldDatasource:function(e,t){var n=this;[].concat(e).forEach(function(e){var i=n.getFieldMetadata(e);t!==i.datasource&&(i.datasource=t,n.trigger("datasourceChange:"+e,i))})},setFieldDisabled:function(e,t){var n=this;e=[].concat(e);var i=e.reduce(function(e,i){var s=n.getFieldMetadata(i);return t!==s.disabled?(s.disabled=t,n.trigger("disabledChange:"+i,s),n.trigger("disabledChange",i,s),!0):e},!1);i&&this.validate({fields:e})},hasDefaultValue:function(){var e=this,t=arguments[0]?l.flatten(arguments):Object.keys(this.fields);return!t.some(function(t){var n=e.fields[t];return n&&n.defaultValue!==e.get(t)})},isDirty:function(){var e=arguments[0]?l.flatten(arguments):Object.keys(this.fields);return e.some(function(e){return this[e]&&this[e].isDirty},this.fields)},markFieldsClean:function(){if(this.isDirty()){var e=arguments[0]?l.flatten(arguments):Object.keys(this.fields);e.forEach(function(e){this[e]&&(this[e].isDirty=!1)},this.fields),this.isDirty()||this.trigger("form:clean")}},markFieldsDirty:function(e){var t=!this.isDirty();e="string"==typeof e?[e]:e,e.forEach(function(e){this[e]&&(this[e].isDirty=!0)},this.fields),t&&this.trigger("form:dirty")}})},function(e,t,n){"use strict";function i(e,t){return!e.constraints||v.any(e.constraints,v.partial(m,t))}function s(){var e=this,t=this.constraints=a.call(this,this.constraints);t.FORM=t.FORM||[],this.constraintConditions=this.constraintConditions||{},v.each(this.fields,function(t,n){var i=e.hasConstraintsOwnedBy(n);t.validity=i?x:k,t.message="",t.isValid=!0}),this.on("change",function(){r.call(e,Object.keys(e.changed))}),this.on("disabledChange",function(t){r.call(e,[t])})}function r(e){var t=Object.keys(e.reduce(h.bind(this),{})),n=[];v.each(this.constraintConditions,function(t,i){v.intersection(t.fields,e).length&&n.push(i)}),v.uniq(t.concat(n)).forEach(c,this)}function o(e){var t=void 0,n=void 0;return Array.isArray(e)?(t=e[0],n=e[1]):t=e,new t(n,this)}function a(e){var t=this;return v.reduce(e,function(e,n,i){return e[i]=n.map(o,t),e},{})}function l(e){var t=void 0,n=k;f.call(this,e).some(function(e){switch(e.state){case S:return t=e.getLastError(),n=e.state,!0;case x:return n=e.state,!0}return!1}),u.call(this,e,n,t)}function u(e,t,n){var i=t===k,s=this.fields[e];s.validity=t,(s.isValid!==i||s.message!==n)&&(s.message=n,s.isValid=i,this.trigger("validation:"+e,s))}function c(e){var t=this;this.fields[e].validity=x,f.call(this,e).forEach(function(e){e.reset(t),e.getOwnerField&&(t.fields[e.getOwnerField()].validity=x)})}function d(){var e=!0,t=v.every(this.fields,function(t){return e=e&&t.validity===k,t.validity!==x});return t?e?k:S:x}function h(e,t){return p.call(this,t).forEach(function(n){var i=v.result(n,"getOwnerField")||t,s=e[i];s||(s=e[i]=[]),-1===s.indexOf(n)&&s.push(n)}),e}function p(e){return g.call(this,e,"affected")}function f(e){return g.call(this,e,"owned")}function g(e,t){var n=(this.constraints[e]||[]).slice(),i="owned"===t?function(t){return t.getOwnerField()===e}:function(t){return t.affectsField(e)};return n.push.apply(n,this.constraints.FORM.filter(i)),n}function m(e,t){return e===t||e.constructor===t||e.constructor===t.constructor}var v=n(3),_=n(1068),y=n(24),b=n(66),w=n(258),x=w.UNKNOWN,k=w.VALID,S=w.INVALID;e.exports=new y(_,{constraints:null,constaintConditions:null,before:{initialize:function(){s.call(this)}},override:{_validate:function(){return!0},isValid:function(){return v.every(this.fields,function(e){return e.validity===k})}},hasConstraintsOwnedBy:function(e){return f.call(this,e).length>0},validate:function(e){var t=this;e=e||{};var n=b.defer();switch(d.call(this)){case S:n.resolve(!1);break;case k:n.resolve(!0);break;case x:var i=!e.fields||!e.fields.length,s=v.chain(Object.keys(this.fields)).filter(function(n){return t.fields[n].validity===x&&(i||e.fields.indexOf(n)>-1)}).reduce(h.bind(this),{}).map(function(e,n){var i=t.isConstraintEnabledForField.bind(t,n),s=v.partition(e,i),r=s[0],o=s[1];v.invoke(o,"disable");var a=v.invoke(r,"validate",t,t.get(n));return a.length?b.settled(a).always(l.bind(t,n)):void u.call(t,n,k)}).compact().value();b.all(s).always(function(){n.resolve(t.isValid())})}return e.fields||n.done(function(e){t.trigger("validation",e)}),n},isConstraintEnabledForField:function(e,t){var n=this.fields[e];if(!n)return!1;var s=this.constraintConditions[e],r=s?s.fields.map(this.get,this):[];return!n.disabled&&v.chain(p.call(this,e)).filter(function(e){return m(e,t)}).any(function(e){return s&&i(s,e)?Boolean(s.check.apply(n,r)):!0}).value()},getInvalidFields:function(){return v.compact(v.map(this.fields,function(e,t){return e.validity===S?t:void 0}))}})},function(e,t,n){"use strict";var i=n(231),s=n(1102),r=e.exports=i.extend();s.applyTo(r.prototype)},function(e,t,n){(function(t){"use strict";function i(){this._modal||(this._modal=new f({width:600,Subview:p}),h.on("gsWarningButtonClicked",s,this),this._modal.on(f.Events.CLOSED,l,this)),this._modal.open()}function s(e){e&&e.isSubmit&&(m.set("dialog-shown",!0),a()),o.call(this)}function r(){return!m.get(_)&&c.isLoggedIn()}function o(){l.call(this),window.open(v,"_blank")}function a(){t.ajax({url:u.get("api_v2_host")+"users/fastpass",type:"GET",dataType:"json"}).done(function(e){e&&e.url&&d.insertScript(e.url)})}function l(){h.off(),this._modal&&(this._modal.off(),this._modal.close(),this._modal=null)}var u=n(22),c=n(25),d=n(2),h=n(23),p=n(1501),f=n(78),g=n(97),m=new g("gs-warning-dialog"),v="https://www.soundcloudcommunity.com",_="dialog-shown";e.exports={_modal:null,redirectToHelpForum:function(){r()?i.call(this):(a(),o.call(this))}}}).call(t,n(1))},function(e,t){"use strict";var n=(window.navigator.userLanguage||window.navigator.language||"").toLowerCase(),i=n.split("-")[0],s=n.split("-")[1];e.exports={isUsedLanguage:function(e){return i===e.toLowerCase()},isCountry:function(e){return s===e.toLowerCase()},isUsedLanguageAndCountry:function(e){return n===e.toLowerCase()}}},,function(e,t){"use strict";e.exports={or:function(e,t){return e|t}}},function(e,t,n){"use strict";var i=n(3),s=n(88),r={base:1e3,digits:1,unit:"MB"};s.isWindows&&(r.base=1024);e.exports={bytesToMB:function(e,t){var n=i.assign({},r,t),s=e/Math.pow(n.base,2);return s.toFixed(n.digits)+n.unit}}},function(e,t){"use strict";var n=window.navigator;e.exports={getFlashPlugin:function(){var e,t,i,s;if("undefined"!=typeof window.ActiveXObject)try{s=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"),s&&(e=s.GetVariable("$version"))}catch(r){}else n.plugins&&n.plugins.length>0&&(i="application/x-shockwave-flash",t=n.mimeTypes,t&&t[i]&&t[i].enabledPlugin&&t[i].enabledPlugin.description&&(e=t[i].enabledPlugin.description));return e},getFlashVersion:function(){var e=this.getFlashPlugin().match(/\d\S+/)[0].replace(/,/g,".").split(".");return[e[0],e[1]].join(".")},getOperatingSystem:function(){var e=n.appVersion;return-1!==e.indexOf("Win")?"Windows":-1!==e.indexOf("Mac")?"MacOS":-1!==e.indexOf("X11")?"UNIX":-1!==e.indexOf("Linux")?"Linux":"undefined-OS"},getBrowser:function(){var e,t,i=n.userAgent,s=i.match(/(opera|chrome|safari|firefox|msie|applewebkit)\/?\s*(\.?\d+(\.\d+)*)/i),r=i.match(/version\/([\.\d]+)/i);return t=null!==r?r[1]:s?s[2]:null,e=s?[s[1],t]:[n.appName,n.appVersion],e.join()}}},,function(e,t,n){"use strict";function i(e){var t,n=e.name.replace(/\.[a-z0-9]{2,}$/,"");return t=n.replace(/_/g," ").replace(/(\S)-(\S)/g,"$1 - $2"),t=l.capitalize(t).trim(),t||n.trim()}var s=n(3),r=n(735),o=n(66),a=n(1116),l=n(219);e.exports={getTitleFromFile:i,getDataFromFile:function(e){function t(){c.title=i(e),u.resolve(c)}function n(){var t=this.result,n=t.byteLength,o=n-128;"TAG"===r.getStringFromBuffer(t,o,3)&&s.assign(c,{title:r.getStringFromBuffer(t,o+3,30).trim(),publisherArtist:r.getStringFromBuffer(t,o+33,30).trim(),publisherAlbumTitle:r.getStringFromBuffer(t,o+63,30).trim()},a.convertFromID3(r.getByteFromBuffer(t,n-1))),c.title||(c.title=i(e)),u.resolve(c)}var l,u=o.defer(),c={};return e.slice?(l=new window.FileReader,l.onload=n,l.onerror=t,l.readAsArrayBuffer(e.slice(-128))):t(),u}}},,function(e,t,n){(function(t){"use strict";function i(e){var t=!e||e.indexOf(f)>-1?p:e;return t.replace(b,".json")}function s(e){return t.ajax({url:e,type:"GET",dataType:"json",timeout:m})}function r(e){var t,n=e.model,r=i(n.get("waveform_url")),a=v.get(r);return a?t=u.resolve({data:a}):(t=s(r).then(function(e){return{data:e.samples.reduce(w(e.height),new h(e.samples.length)),key:r}},function(){return u.resolve({key:r,data:x()})}),t.then(o)),t.then(function(t){e.waveformData=t.data}),t}function o(e){v.set(e.key,e.data)}var a=n(3),l=n(22),u=n(66),c=n(231),d=n(93),h=d.typedArrays?Uint8Array:Array,p=l.get("wisHost")+"/90GaSwazbrh1_m.png",f="/images/player-waveform-medium.png",g=500,m=1e4,v=new c({maxLength:g}),_=1.5,y=1800,b=/\.png$/,w=(e.exports={loadWaveformDataForView:r},a.memoize(function(e){return function(t,n,i){return t[i]=Math.round(Math.pow((e-n)/e,1/_)*e),t}})),x=a.memoize(function(){for(var e=new h(y),t=0;y>t;++t)e[t]=Math.round(15*Math.sin(t/y*Math.PI*10)+105);return e})}).call(t,n(1))},function(e,t,n){"use strict";var i=n(22),s=n(956);e.exports=function(e){i.get("experiments")||i.set("experiments",s(e))}},function(e,t,n){"use strict";var i=n(22),s=n(68);e.exports=function(e){var t=i.get("me");t?t.set(e,{parse:!0}):(t=new s(e,{isMe:!0,parse:!0}),t.baseUrl=function(){return this.getEndpointUrl("me")},t.saveUrl=function(){return this.getEndpointUrl("meUpdate")},i.set("me",t)),e&&(t.lastFetchTime=Date.now())}},function(e,t,n){"use strict";var i=n(22),s=n(965);e.exports=function(e){i.get("rollouts")||i.set("rollouts",s(e))}},,,function(e,t,n){"use strict";var i=n(66),s={};e.exports={loadLayout:function(e){var t,r=s[e];return r?r:(t=i.defer(),n(935)("./"+e.replace("layouts/",""))(function(e){t.resolve(e)}),r=s[e]=t.promise())}}},function(e,t,n){"use strict";function i(e){var t=[].concat(e).map(r);return function(e){return!this._userInput||t.some(function(t){return t.call(this,e.attributes)},this)}}function s(e){return this._userInput.test(e)}function r(e){return o.compose(s,u,o.property(e))}var o=n(3),a=n(24),l=n(153),u=n(250),c=n(162);e.exports=new a({requirePrototype:l.prototype,_userInput:null,applyTo:function(e,t){e.filters||(e.filters=[]),e.filters.push(i(t.fields))},setUserInput:function(e){e&&"string"==typeof e?this._userInput=RegExp(c.regexpEscape(u(e)),"i"):this._userInput=e,this.recalculateFilters()}})},,function(e,t,n){"use strict";var i=n(3),s=n(24),r=n(85);e.exports=new s({requires:["adZone"],around:{parse:function(e,t){var n=r.parseResponse(t),i=n.data,s=[];return i&&s.push({ad_urn:n.ad_urn,campaign:"promoted",kind:i.kind,origin:i,promoted_by:n.promoted_by_user,promoted_by_urn:n.promoted_by_urn,tracking:n.tracking}),e(s)}},defaults:{parse:function(e){return e}},override:{url:function(){return null!==this.next_href?this.next_href:r.getAdUrl(this.adZone,i.result(this,"adZoneParams"))}}})},function(e,t,n){"use strict";function i(e,t,n){return this._shuffleEnabled&&s.isArray(t)&&t.length>1&&(t=s.shuffle(t)),e(t,n)}var s=n(3),r=n(74),o=n(24);e.exports=new o({requirePrototype:r.prototype,requires:["unshuffle"],_shuffleEnabled:!1,isShuffled:function(){return this._shuffleEnabled},toggleShuffle:function(e){if(e!==this._shuffleEnabled){var t=s.isUndefined(e)?!this._shuffleEnabled:e,n=this.models.slice();return t?n=s.shuffle(n):(n=s.sortBy(n,this.unshuffle),this._shuffleEnabled=t),this.reset(n),this._shuffleEnabled=t,this.trigger("shuffled",this,t),this}},around:{set:i}})},,function(e,t,n){(function(t){"use strict";function i(e){return e&&x.dateTimeHelper.fromString(e)}function s(e){return e.toISOString()}function r(){var e=this.get("monetizationStart"),t=this.get("monetizationEnd"),n=this.get("monetizationEnabled");!n||e||t||(this.set("monetizationEnd",!0),this.set("monetizationEndDate",a(h(),this.defaultDurationDays)))}function o(){var e=this.get("monetizationStart"),t=this.get("monetizationEnd"),n=this.get("monetizationStartDate");e&&t&&n&&(this.set("monetizationEndTimezone",this.get("monetizationStartTimezone")),this.set("monetizationEndDate",a(n,this.defaultDurationDays)))}function a(e,t){return e=new Date(+e),e.setUTCDate(e.getUTCDate()+t),e}function l(){this.get("monetizationEnabled")&&this.set("monetizationTerritories",["US"])}function u(e,t){var n=["monetizationTerritories","monetizationStartTimezone","monetizationStart","monetizationStartLocalDate","monetizationStartDate","monetizationEndTimezone","monetizationEnd","monetizationEndLocalDate","monetizationEndDate"],i=!t||!p();this.setFieldDisabled(n,i)}function c(e){var t={start_timestamp:null,start_timezone:null,end_timestamp:null,end_timezone:null,territories:[]};return e.get("monetizationEnabled")&&(e.get("monetizationStart")&&(t.start_timestamp=s(e.get("monetizationStartDate")),t.start_timezone=e.get("monetizationStartTimezone")),e.get("monetizationEnd")&&(t.end_timestamp=s(e.get("monetizationEndDate")),t.end_timezone=e.get("monetizationEndTimezone")),t.territories=e.get("monetizationTerritories")),t}function d(e){var t=_.get("rollouts").get("v2_edit_track_rightsholder");return e.get("monetizationRightsholder")&&t?[{territory:"US",rightsholder_urn:e.get("monetizationRightsholder")}]:[]}function h(){var e=new Date;return e.setHours(0,0,0,0),e}function p(){return _.get("me").canEditMonetization()&&_.get("me").hasMonetization()}function f(){_.get("rollouts").get("v2_edit_track_rightsholder")&&p()&&(this.listenTo(this,"change:publisherIsrc",g),g.call(this))}function g(){var e=this,t=this.get("publisherIsrc");this.setFieldDisabled("monetizationRightsholder",!1),y.callEndpoint("territoriesWhichRequireExplicitRightsholder",{},{isrc:t}).then(function(t){var n=t.body;e.setFieldDisabled("monetizationRightsholder",!v.includes(n,"US"))})}var m,v=n(3),_=n(22),y=n(29),b=n(729),w=n(24),x=n(64),k=n(109),S=n(731),T=n(388),A=n(1001),E=v.negate(p);m={monetizationEnabled:{defaultValue:!1,disabled:E},monetizationTerritories:{defaultValue:null,disabled:E},monetizationStartTimezone:{defaultValue:null,disabled:E},monetizationStart:{defaultValue:!1,disabled:E},monetizationStartLocalDate:{defaultValue:null,disabled:E},monetizationStartDate:{defaultValue:null,disabled:E},monetizationEndTimezone:{defaultValue:null,disabled:E},monetizationEnd:{defaultValue:!1,disabled:E},monetizationEndLocalDate:{defaultValue:null,disabled:E},monetizationEndDate:{defaultValue:null,disabled:E},monetizationRightsholder:{defaultValue:null,disabled:E,datasource:function(){return new A},datasourceToSelectOptions:function(){return function(e){return e.filter(function(e){return"US"===e.get("territory_code")}).map(function(e){return{label:e.get("name"),value:e.get("rightsholder_urn")}})}}}};e.exports=new w({merge:{requiredModelAttributes:["monetization"]},applyTo:function(e){t.extend(!0,e,{fields:m,constraints:{monetizationTerritories:[[k,{message:x.t("Please choose at least one country to monetize in.")}]],monetizationStartDate:[[k,{message:x.t("Please choose a date.")}],S,b],monetizationEndDate:[[k,{message:x.t("Please choose a date.")}],S,b],monetizationRightsholder:[[k,{message:x.t("Please choose a rightsholder.")}]]},constraintConditions:{monetizationTerritories:{fields:["monetizationEnabled"],check:v.identity},monetizationStartDate:{fields:["monetizationStartDate","monetizationStart"],check:function(e,t){return t&&(!e||this.isDirty)}},monetizationEndDate:{fields:["monetizationEndDate","monetizationEnd"],check:function(e,t){return t&&(!e||this.isDirty)}},monetizationRightsholder:{fields:["monetizationEnabled"],check:function(e){return e&&_.get("rollouts").get("v2_edit_track_rightsholder")}}}}),e.constraints.FORM=(e.constraints.FORM||[]).concat([[T,{nullable:!0,message:x.t("Monetization start must happen before monetization end."),fields:["monetizationStartDate","monetizationEndDate"]}]])},after:{setup:function(){var e=_.get("me");this.on("change:monetizationEnabled",l,this).on("change:monetizationEnabled",u,this),this.trigger("change:monetizationEnabled"),!this.isEdit&&e.getCPPOption("default_monetizable")&&this.set("monetizationEnabled",!0),this.defaultDurationDays=e.getCPPOption("default_monetization_duration_in_days"),this.defaultDurationDays>0&&(this.isEdit||(this.on("change:monetizationEnabled",r,this),r.call(this)),this.on("change:monetizationStartDate change:monetizationEnd",o,this)),f.call(this)}},around:{getAttributesToBeSaved:function(e){var t=e.apply(this,[].slice.call(arguments,1)),n=_.get("me").isCPPEnabled();return n?v.assign(t,{monetization:c(this),rightsholders:d(this)}):t},getAttributesFromModel:function(e){var t=e.apply(this,[].slice.call(arguments,1)),n=this.getAudible().get("monetization");n&&v.assign(t,{monetizationEnabled:!(!n.territories||!n.territories.length),monetizationTerritories:n.territories,monetizationStart:!!n.start_timestamp,monetizationEnd:!!n.end_timestamp,monetizationStartDate:i(n.start_timestamp),monetizationEndDate:i(n.end_timestamp),monetizationStartTimezone:n.start_timezone,monetizationEndTimezone:n.end_timezone});var s=this.getAudible().get("rightsholders");if(s){var r=s.find(function(e){return"US"===e.territory});r&&(t.monetizationRightsholder=r.rightsholder_urn)}return t}}})}).call(t,n(1))},function(e,t,n){"use strict";function i(e){var t=e?"on":"off";this._onFieldsChange=this._onFieldsChange||l.throttle(s.bind(this),this.serialization.saveOnceIn,{leading:!1}),this[t](r.call(this),this._onFieldsChange)}function s(){var e=this,t=this.serialization.fields.reduce(function(t,n){return t[n]=e.get(n),t},{});d.set(this.serialization.storeKey,t)}function r(){return"change:"+this.serialization.fields.join(" change:")}function o(){return!this._isStoringFields&&this.serialization.storeKey&&this.serialization.fields&&this.serialization.fields.length;
}var a,l=n(3),u=n(97),c=n(24),d=new u("persistentFormFields","session");a={fields:[],storeKey:null,saveOnceIn:3e3,restoreAndStoreOnSetup:!1};e.exports=new c({_isStoringFields:!1,_onFieldsChange:null,after:{setup:function(){this.serialization=l.assign({},a,this.serialization),this.serialization.restoreAndStoreOnSetup&&(this.restoreFields(),this.startStoringFields())}},applyTo:function(e){e.constructor.onCleanup=function(e){e.stopStoringFields()}},restoreFields:function(){var e=d.get(this.serialization.storeKey);e&&this.set(e)},startStoringFields:function(){o.call(this)&&(this._isStoringFields=!0,i.call(this,!0))},stopStoringFields:function(){this._isStoringFields&&(this._isStoringFields=!1,i.call(this,!1),this._onFieldsChange=null)},clearStoredValues:function(){d.set(this.serialization.storeKey,null)},_getStore:function(){return d}})},function(e,t,n){(function(t){"use strict";function i(e){return""===e?null:e}function s(){return u.get("me").isCPPEnabled()}var r,o,a=n(3),l=n(1055),u=n(22),c=n(89),d=n(1058),h=n(1059),p=n(64),f=n(109),g=n(24);o={publisherArtist:{defaultValue:null},publisherAlbumTitle:{defaultValue:null},publisherContainsMusic:{datasource:[{label:"",value:null},{label:p.t("Yes"),value:!0},{label:p.t("No"),value:!1}],defaultValue:null},publisher:{defaultValue:null},publisherIswc:{defaultValue:null},publisherUpcOrEan:{defaultValue:null},publisherIsrc:{defaultValue:null},publisherPLine:{defaultValue:null},publisherCLine:{defaultValue:null},publisherExplicit:{datasource:[{label:"",value:null},{label:p.t("Yes"),value:!0},{label:p.t("No"),value:!1}],defaultValue:null},publisherWriterComposer:{defaultValue:null},publisherReleaseTitle:{defaultValue:null}},r={artist:"publisherArtist",album_title:"publisherAlbumTitle",contains_music:"publisherContainsMusic",publisher:"publisher",iswc:"publisherIswc",upc_or_ean:"publisherUpcOrEan",isrc:"publisherIsrc",p_line:"publisherPLine",c_line:"publisherCLine",explicit:"publisherExplicit",writer_composer:"publisherWriterComposer",release_title:"publisherReleaseTitle"};e.exports=new g({requires:["getAudible","getAttributesFromModel"],requirePrototype:c.prototype,merge:{requiredModelAttributes:["publisher_metadata"]},applyTo:function(e){t.extend(!0,e,{fields:o,constraints:{publisher:[f],publisherIswc:[h],publisherIsrc:[f,d],publisherUpcOrEan:[l],publisherArtist:[f],publisherContainsMusic:[f],publisherWriterComposer:[f]},constraintConditions:{publisherIsrc:{fields:["monetizationEnabled","publisherContainsMusic"],constraints:[f],check:function(e,t){var n=u.get("me"),i=n.getCPPOption("is_isrc_required_for_audio"),s=n.hasMonetization();return e&&(t||i)&&s}},publisherArtist:{fields:["publisherContainsMusic"],check:function(e){return s()&&e}},publisherContainsMusic:{fields:["monetizationEnabled"],check:a.identity},publisher:{fields:["publisherContainsMusic"],check:function(e){return e&&u.get("me").hasMonetization()}},publisherWriterComposer:{fields:["publisherContainsMusic"],check:function(e){return s()&&e}}}})},after:{setup:function(){!this.isEdit&&u.get("me").getCPPOption("default_is_audio")&&this.set("publisherContainsMusic",!1)}},around:{getAttributesToBeSaved:function(e){var t=e.apply(this,[].slice.call(arguments,1));return u.get("me").isCPPEnabled()&&(t.publisher_metadata=a.reduce(r,function(e,t,n){return e[n]=i(this.get(t)),e},{},this)),t},getAttributesFromModel:function(e){var t=e.apply(this,[].slice.call(arguments,1)),n=this.getAudible().get("publisher_metadata");return n&&a.assign(t,a.reduce(r,function(e,t,i){return e[t]=n[i],e},{})),t}}})}).call(t,n(1))},function(e,t,n){"use strict";function i(e){return e&&new Date(e)}var s=n(3),r=n(24),o=n(64),a=n(750),l=n(388);e.exports=new r(a,{requires:["requiredModelAttributes"],applyTo:function(e){e.constraints.FORM=(e.constraints.FORM||[]).concat([[l,{nullable:!0,message:o.t("Track must be made available before it’s made unavailable."),fields:["scheduledPublicDate","scheduledPrivateDate"]}]]),this.merge(e,{requiredModelAttributes:e.getScheduledAttributes()})},around:{getAttributesToBeSaved:function(e){var t=e.apply(this,[].slice.call(arguments,1));return s.assign(t,this.getScheduledAttributesToBeSaved()),t},getAttributesFromModel:function(e){var t=e.apply(this,[].slice.call(arguments,1)),n=this.getAudible();return s.assign(t,{scheduledPublic:!!n.get("scheduled_public_date"),scheduledPrivate:!!n.get("scheduled_private_date"),scheduledPublicDate:i(n.get("scheduled_public_date")),scheduledPrivateDate:i(n.get("scheduled_private_date")),scheduledTimezone:n.get("scheduled_timezone")}),t}}})},function(e,t,n){"use strict";function i(e,t,n){function i(){r.clearTimeout(l),r.clearTimeout(a)}function s(){e()&&(i(),n())}var r=window,a=r.setTimeout(i,t),l=r.setInterval(s,o);s()}var s=n(23),r=n(24),o=50,a=2e4,l=window.performance&&window.performance.timing,u="fetchStart",c=!0;e.exports=new r(l?{defaults:{performanceSelector:null},after:{render:function(){var e,t,n,r=this;c&&(c=!1,(e=this.performanceSelector)&&(t=function(){return r.$(e).length},n=function(){var e=Date.now()-l[u];s.trigger("tracking:appLoad",{latency:e})},i(t,a,n)))}}}:{})},function(e,t,n){"use strict";function i(e){return e?d.stringify({query:e}):"default"}function s(e){return!this.id||e.jqAjax||e.saveRequest||e.batch===!1||"private"===this.get("sharing")}function r(e,t,n,i){this.batchEndpoint=e,this.batchParams=t,this.maxQueueSize=n,this.flushInterval=i,this.queue={},this.timer=null}var o=n(3),a=n(29),l=n(24),u=n(66),c=n(732),d=n(67),h=50,p=50,f=function(){return null};e.exports=new l({applyTo:function(e,t){var n=t.batchEndpoint,o=t.flushInterval,a=void 0===o?h:o,l=t.maxQueueSize,u=void 0===l?p:l,c=t.getBatchParams,d=void 0===c?f:c,g={};this.around(e,{fetch:function(e,t){if(t||(t={}),s.call(this,t))return e(t);if(this._requests||(this._requests={}),!this._requests[this.id]){var o=d(this)||null,l=i(o),c=g[l]||(g[l]=new r(n,o,u,a));this._requests[this.id]=c.add(this,t)}return this._requests[this.id]}})}});r.prototype={getIds:function(){var e=o.reduce(this.queue,function(e,t,n){return"pending"===t.deferred.state()&&(e[n]=t),e},{});return Object.keys(e).sort()},add:function(e,t){var n=this.queue[e.id]=this.queue[e.id]||{callsigs:[],deferred:u.defer()};return n.callsigs.push({model:e,options:t}),this.timer||(this.timer=window.setTimeout(this.flush.bind(this),this.flushInterval)),Object.keys(this.queue).length===this.maxQueueSize&&this.flush(),n.deferred},flush:function(){var e=this.getIds(),t=this.queue;window.clearTimeout(this.timer),this.timer=null,this.queue={},e.length<1||a.callEndpoint(this.batchEndpoint,null,o.assign({ids:e.join(",")},this.batchParams)).then(function(n){var i=n.body,s=o.map(o.pluck(i,"id"),String);i.forEach(function(e){var n=e.id,i=t[n],s=Date.now();i&&(i.callsigs.forEach(function(t){var n=t.model;n.lastFetchTime=s,n.set(n.parse(e),t.options)}),i.deferred.resolve())}),o.difference(e,s).forEach(function(e){var n=t[e];n&&n.callsigs.forEach(function(e){e.model.trigger("error",e.model,new c,e.options)})}),o.each(t,function(e){e.deferred.reject()})})}}},function(e,t,n){"use strict";var i=n(3),s=n(24),r=n(72),o=n(67);e.exports=new s({requirePrototype:r.prototype,defaults:{isPrivate:function(){return"private"===this.get("sharing")},extractSecretToken:i.noop},isPublic:function(){return!this.isPrivate()},around:{url:function(e,t){var n=this.get("secret_token"),i=e(t);return n&&this.isPrivate()?o.modify(i,{query:{secret_token:n}}):i},parse:function(e,t){var n;return"string"==typeof this.baseUrl&&(n=o.parse(this.baseUrl).query.secret_token),n||(n=this.extractSecretToken(t)),n&&(t.secret_token=n),e(t)}}})},function(e,t,n){(function(t){"use strict";function i(e,n){var i=s.reduce(n,function(n,i){var r=e.get(i);return s.isObject(r)?n[i]=t.extend(!0,{},r):e.attrExists(i)&&(n[i]=r),n},{}),r=s.reject(n,function(t){return e.attrExists(t)});this.rollback=function(){s.each(r,function(t){e.unset(t)}),e.set(i)}}var s=n(3),r=n(24),o=n(72);e.exports=new r({requirePrototype:o.prototype,createSnapshot:function(e){return new i(this,e)}})}).call(t,n(1))},function(e,t,n){"use strict";var i=n(3),s=n(147),r=n(24),o=2e3,a=3e4,l=100;e.exports=new r({applyTo:function(e){var t=e.constructor;this.before(t,{onCleanup:function(e){e.pollOff()}})},after:{initialize:function(){this._polling={circuit:null,callbacks:{}}}},pollOn:function(e,t,n){var i=this._polling,r=i.circuit;r||(r=i.circuit=new s({tolerance:1,baseDelay:o,maxDelay:a,backoffRate:1.5,giveUp:l,enabled:!1}),r.on("enabled",function(){this.fetch({attrs:Object.keys(i.callbacks),batch:!1}),r.failed()},this).on("giveup",function(){this.pollOff()},this)),i.callbacks[e]=i.callbacks[e]||[],i.callbacks[e].length||r.succeeded(),this._polling.callbacks[e].push({callback:t,context:n}),this.on("change:"+e,t,n)},pollOff:function(e,t,n){var s,r=this._polling,o={};3===arguments.length&&r.callbacks[e]?(s=[],o[e]=[],r.callbacks[e].forEach(function(i){i.callback===t&&i.context===n?o[e].push(i):s.push(i)}),r.callbacks[e]=s,r.callbacks[e].length||delete r.callbacks[e]):e?(o={attr:r.callbacks[e]||[]},delete r.callbacks[e]):(o=r.callbacks,r.callbacks={}),i.each(o,function(e,t){e.forEach(function(e){this.off("change:"+t,e.callback,e.context)},this)},this),!Object.keys(r.callbacks).length&&r.circuit&&(r.circuit.dispose(),r.circuit=null)}})},function(e,t,n){"use strict";function i(e,t){return[d,e,t].join(h)}function s(e){var t=e.storage,n=e.keyName,i=e._store;if(t)try{return t.setItem(n,JSON.stringify(i)),!0}catch(s){return!1}}function r(e){return"local"===e&&c.localStorage?window.localStorage:"session"===e&&c.sessionStorage?window.sessionStorage:null}function o(e){var t=e.storage,n=e.keyName;if(t)try{return JSON.parse(t.getItem(n)||"{}")}catch(i){}return{}}function a(e){var t={dontPersist:!0};if(!e.key)return void l.each(l.values(f.local).concat(l.values(f.session)),function(e){e.reset(t)});p.lastIndex=0;var n=p.exec(e.key)||[],i=n[1],s=n[2];i&&s&&!function(){var e=f[i][s];if(e){var n=o(e),r=Object.keys(n);l.each(n,function(n,i){e.set(i,n,t)}),l.difference(e.keys(),r).forEach(function(n){e.unset(n,t)})}}()}var l=n(3),u=n(24),c=n(93),d="V2",h="::",p=new RegExp("^"+d+h+"(\\S+?)"+h+"(\\S+)");window.addEventListener("storage",a,!1);var f={local:{},session:{}};e.exports=new u({storage:null,keyName:null,type:null,namespace:null,around:{initialize:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?"local":arguments[2];return f[n][t]?f[n][t]:(f[n][t]=this,e(),this.type=n,this.namespace=t,this.storage=r(n,t),this.keyName=i(n,t),this._store=o(this),void(this.length=l.keys(this._store).length))}},after:{set:function(e,t,n){n&&n.dontPersist||s(this)},unset:function(e,t){t&&t.dontPersist||s(this)},reset:function(e){e&&e.dontPersist||s(this)}},dispose:function(){this.storage&&this.storage.removeItem(this.keyName),this.reset({dontPersist:!0}),delete f[this.type][this.namespace]},write:function(){s(this)}})},function(e,t,n){"use strict";var i=n(24);e.exports=new i({onCleanup:null,onIncrement:null,onDecrement:null,after:{initialize:function(e){this._counts={},this._needsGC=!1,e=e||{},this._autoCleanup=!!e.autoCleanup,this.onCleanup=e.onCleanup,this.onIncrement=e.onIncrement,this.onDecrement=e.onDecrement},reset:function(){this._counts={},this._needsGC=!1},set:function(e,t){this._counts[e]||(this._counts[e]=1,this.onIncrement&&this.onIncrement(t,e,1))},unset:function(e){delete this._counts[e]}},before:{reset:function(){this.onCleanup&&this.forEach(this.onCleanup)}},countFor:function(e){return this._counts[e]||0},increment:function(e,t){return this.has(e)&&(t="number"==typeof t?t:1,t>0?(this._counts[e]=(this._counts[e]||0)+t,this.onIncrement&&this.onIncrement(this.get(e),e,t)):0>t&&this.decrement(e,-t)),this},decrement:function(e,t){return this.has(e)&&(t="number"==typeof t?t:1,t>0?(this._counts[e]=(this._counts[e]||1)-t,this.onDecrement&&this.onDecrement(this.get(e),e,t),this._counts[e]<=0&&(this._needsGC=!0,this._autoCleanup&&this.cleanup())):0>t&&this.increment(e,-t)),this},cleanup:function(){var e,t,n=this.onCleanup,i=!1;if(this._needsGC){for(e in this._counts)this._counts.hasOwnProperty(e)&&this._counts[e]<=0&&(n&&(t=this.get(e),n.call(t,t,e)),i=!0,this.unset(e));this._needsGC=!1}return i},changeKey:function(e,t){if(e!==t){var n=this.get(e),i=this.countFor(e);this.unset(e),this.set(t,n),this.increment(t,i-1)}}})},,,,,,,function(e,t,n){"use strict";var i=n(3),s=n(27),r=n(74),o=n(66),a=9e5;e.exports=r.extend({defaults:{pollingInterval:a},url:function(){return i.result(this,"baseUrl")},parse:function(e){return e},fetch:function(e){var t=e&&e.url||i.result(this,"url");return t?s.Collection.prototype.fetch.call(this,e):o.defer().done(e&&e.success).resolve([])},bulkFetch:function(){return this.fetch()},setLimit:i.noop,isFullyPopulated:function(){return!1},startPolling:function(){this.isPolling()||this._pollingId||(this._pollingId=window.setInterval(this.fetch.bind(this),this.options.pollingInterval))},stopPolling:function(){window.clearInterval(this._pollingId),this._pollingId=null},isPolling:function(){return!!this._pollingId}})},function(e,t,n){"use strict";function i(){this.setDirty(!0)}var s=n(3),r=n(773);e.exports=r.extend({className:"g-box-full sceneLayer",addNode:function(e){var t=e[0],n=s.assign({el:this.el,scale:this.scale},e[1]),r=new t(n);r.className&&this.$el.addClass(r.className),this.addSubview(r).on("dirty",i,this).render()},onCanvasResize:function(){s.invoke(this.subviews,"onResize")},setDirty:function(e){(this.isDirty=e)&&this.trigger("dirty")},update:function(){if(!this.disposed&&this.isDirty){var e,t,n=!1;for(this.context.clearRect(0,0,this.el.width,this.el.height),e=0;t=this.subviews[e];++e)t.draw(),n=n||t.isDirty;this.setDirty(n)}}})},function(e,t,n){"use strict";function i(){s.call(this)}function s(){this._raf||(this._raf=window.requestAnimationFrame(this.update))}var r=n(27),o=n(136);e.exports=o.extend([r.Events,{_layers:null,_raf:null,initialize:function(){this._layers=[],this.update=this.update.bind(this)},teardown:function(){window.cancelAnimationFrame(this._raf),this._raf=null;for(var e;e=this._layers.pop();)this.stopListening(e)},getLayers:function(){return this._layers},addLayer:function(e){this._layers.push(e),this.listenTo(e,"dirty",i),e.isDirty&&s.call(this)},update:function(){this._raf=null;var e,t;for(e=0;t=this._layers[e];++e)t.isDirty&&t.update()}}])},function(e,t,n){"use strict";function i(){var e=r.get("me"),t=s(e.getConsumerPlan()),n=s(e.getPlan()),i=u.or(t,n);if("number"==typeof i){var o=!0;a.set({name:b,value:i,expirationInDays:30,secure:o,domainStrict:!0})}return i}function s(e){var t=0;switch(e){case _:case g:t=16;break;case y:case m:t=32;break;case h:t=64;break;case p:case v:case f:t=0}return t}var r=n(22),o=n(25),a=n(390),l=n(23),u=n(1074),c=n(26),d=c.productIds,h=d.CONSUMER_SUBSCRIPTION_HIGH_TIER,p=d.CONSUMER_SUBSCRIPTION_FREE,f=d.CREATOR_SUBSCRIPTION_FREE,g=d.CREATOR_SUBSCRIPTION_PRO,m=d.CREATOR_SUBSCRIPTION_PRO_UNLIMITED,v=d.CREATOR_GIFT_FREE,_=d.CREATOR_GIFT_PRO,y=d.CREATOR_GIFT_PRO_UNLIMITED,b="ja";e.exports={_subsCookie:null,initialize:function(){var e=this;o.isLoggedIn()&&(this._subsCookie=i()),l.once("connect:hasUserData",function(){e._subsCookie=i()}),l.once("connect:logout",function(){a.unset(b),e._subsCookie=null})}}},function(e,t,n){"use strict";var i=n(3),s=n(27),r=n(372),o=n(411),a=n(70),l=n(197),u=l.INITIAL,c=l.CURRENT_COMMENT,d=l.CURRENT_TIMESTAMP,h=l.ACTIVE_TIMESTAMP,p=300,f=3e3,g=1e3,m=function(){this.setup.apply(this,arguments)};m.extend=s.Model.extend,i.assign(m.prototype,s.Events,{constructor:m,currentComment:null,activeTimestamp:null,currentTimestamp:null,commentQuotaTimeout:null,commentQuotaExceeded:!0,commentIntervalTimeout:null,commentIntervalExceeded:!0,currentState:u,interactingWithComments:!1,setup:function(e,t,n){this.collection=new r(null,{sound_id:e,secret_token:n}),this.listenTo(this,u,this.onInitialState).listenTo(this,c,this.onCurrentComment).listenTo(this,d,this.onCurrentTimestamp).listenTo(this,h,this.onActiveTimestamp),this.sound=new a({id:e,resource_id:t}),this.listenTo(this.sound,"time",this.onAudioTime)},dispose:function(){this.stopListening(),this.sound.release(),this.collection.release()},onInitialState:function(){this.activeTimestamp=null,this.currentComment=null,this.currentTimestamp=null},onCurrentComment:function(e,t){this.activeTimestamp=null,this.currentComment=t,this.currentTimestamp=null},onCurrentTimestamp:function(e){this.activeTimestamp=null,this.currentComment=null,this.currentTimestamp=e},onActiveTimestamp:function(e){this.activeTimestamp=e,this.currentComment=null,this.currentTimestamp=null},goToState:function(e){var t=this.canGoToState.apply(this,arguments);return t&&(this.currentState=e,this.trigger.apply(this,arguments)),t},canGoToState:function(e){var t=this.activeTimestamp&&this.currentState===h;switch(e){case d:return!t;case c:return this.commentIntervalExceeded&&arguments[1]!==this.currentComment&&!t;case u:return!0;case h:var n=arguments[1];return n!==this.activeTimestamp&&n<=this.sound.getMediaDuration();default:return!1}},onAudioTime:i.throttle(function(e){var t=this;if(!this.disposed){var n,i=e.sound.currentTime(),s=window;!this.interactingWithComments&&this.sound.isPlaying()&&(n=this.collection.getCommentAtTimestamp(i,p),n?this.goToState(c,i,n)&&(s.clearTimeout(this.commentIntervalTimeout),this.commentIntervalExceeded=!1,s.setTimeout(function(){t.commentIntervalExceeded=!0},g),s.clearTimeout(this.commentQuotaTimeout),this.commentQuotaExceeded=!1,this.commentQuotaTimeout=s.setTimeout(function(){t.commentQuotaExceeded=!0,t.onAudioTime(e)},f)):this.commentQuotaExceeded&&this.goToState(d,i))}},p)}),e.exports=o.applyTo(m,{onCleanup:function(e){e.dispose()},cleanupInstantly:!0,hashFn:function(e){return e}})},function(e,t,n){"use strict";function i(e){var t=D.get("me"),n=e&&e.args;return n&&t.id&&t.hasPermalink(n.userPermalink)}function s(){return D.get("me").id||null}function r(e,t){return t=t||"subpage",e&&e[t]?e[t]:"main"}function o(e,t){var n=N.getQueryParam("in",t),i=["sounds"];return n?i.push(["sets","sets/track_page"]):e.playlistPermalink?i.push(["sets","sets/"+r(e)]):i.push(["sounds","sounds/"+r(e)]),i}function a(e){var t=D.get("me").attributes;return t.permalink===e.userPermalink?["you",["you","you/"+r(e)]]:["users",["users","users/"+r(e)]]}function l(e){var t=e.user;return e.type="user",e.userPermalink=t.get("permalink"),e.userId=t.id,e}function u(e){var t=e.audible,n="sound"===t.resource_type;return e.type=t.resource_type,e.userId=t.get("user_id"),n?e.soundId=t.id:(e.playlistId=t.id,e.playlistPermalink=t.get("permalink")),e}function c(e){return e&&e.attribution?T.extend({},e,{attribution:T.pick(e.attribution,"queryUrn","position")}):e}function d(e,t,n){var i,s=n.state!==!1,r=L.getCurrentMetadata(),o=T.defaults(t||{},{object:O.generate(n.targetType,n.target),target:null,clickNameOn:"add",clickNameOff:"remove"});k(n)&&(n.click_name=e+"::"+o[s?"clickNameOn":"clickNameOff"],n.click_object=o.object,n.click_target=o.target,n.context&&"promoted"===n.context.campaign?i=n.context:r&&r.promotedInfo&&r.sound&&r.sound.getUrn()===o.object&&(i=r.promotedInfo),s&&i&&F.trackEvent(e,i),h(n,i),U.trackClick(null,n))}function h(e,t){t&&"promoted"===t.campaign&&(e.ad_urn=t.ad_urn,e.monetization_type="promoted",e.promoted_by=t.promoted_by_urn)}function p(e){d("track_to_playlist",{object:e.object.getUrn(),target:O.generate(e.targetType,e.target)},e)}function f(e){d("playlist",{object:e.object.getUrn()},e)}function g(e){d("like",null,e)}function m(e){d("comment",null,e)}function v(e){d("follow",null,e)}function _(e){d("repost",null,e)}function y(e){var t=L.getCurrentSound(),n=t&&t.getUrn(),i={click_name:"repeat::"+(e?"on":"off")};n&&(i.click_object=n),U.trackClick(["play_controls","repeat_track",e?"on":"off"],i)}function b(e){var t={playlist:"playlist",comment:"comment"}[e.targetType];t&&("comment"===t&&(e.target=e.targetModel.get("track_id"),e.targetType="track"),d(t,null,T.assign({},e,{state:!1})))}function w(e){d("group",{clickNameOn:"join",clickNameOff:"leave"},e)}function x(e){U.trackClick(["add_to_group",e.state?"add":"remove",e.origin])}function k(e){return"user"===e.originType&&e.origin===D.get("me").id}function S(e,t){var n,i,s,c,d,p,f,g,m,v,_;switch(e){case"tracking:playStart":case"tracking:pause":U.trackAudioEvent(t);break;case"tracking:ad:skip":case"tracking:ad:finish":case"tracking:ad:click":U.trackClick(t.chapter,t);break;case"tracking:impression":U.trackImpression(t);break;case"tracking:authentication:initiate":U.trackClick(null,{click_category:"authentication",click_name:"initiate",click_object:t.target,click_target:t.action});break;case"tracking:consumer-sub-upsell:click":U.trackClick(null,T.assign({click_category:"consumer_subs",click_name:"clickthrough::consumer_sub_ad"},t));break;case"tracking:sub-upsell:click":U.trackClick(null,t);break;case"tracking:user-upsell:click":U.trackClick(["upsell_teaser_user","click"],t);break;case"tracking:user-upsell:dismiss":U.trackClick(["upsell_teaser_user","dismiss"],t);break;case"tracking:listen-upsell:click":U.trackClick(["upsell_teaser_listen","click"],t);break;case"tracking:listen-upsell:dismiss":U.trackClick(["upsell_teaser_listen","dismiss"],t);break;case"tracking:signup-teaser:dismiss":U.trackClick(["signup-teaser","dismiss"],t);break;case"tracking:search":U.trackPageView("search",["search","search/"+t.category],{queryUrn:t.queryUrn});break;case"tracking:charts":U.trackPageView("charts",["charts"],{queryUrn:t.queryUrn});break;case"tracking:userLayout":t=l(t),g=a(t),U.trackPageView(g[0],g[1]);break;case"tracking:listenLayout":t=u(t),m=o(t),U.trackPageView(m[0],m[1]);break;case"tracking:shuffle":U.trackClick(["shuffle"],{click_name:t.isActive?"shuffle::on":"shuffle::off"});break;case"tracking:shuffle:playlist":U.trackClick(["shuffle","playlist"],{click_name:t.isActive?"shuffle::on":"shuffle::off",click_object:t.playlist.getUrn()});break;case"tracking:front:hero_upload":U.trackClick(null,{click_category:"frontpage",click_name:"hero_upload"});break;case"tracking:front:featured_artist":U.trackClick(null,{click_category:"frontpage",click_name:"featured_artist",click_target:t.url});break;case"tracking:front:explore_trending":U.trackClick(null,{click_category:"frontpage",click_name:"explore_trending"});break;case"tracking:front:genre":t.click_category="frontpage",t.click_name="genre_grid",t.click_target=t.genreUrn,U.trackClick(null,t);break;case"tracking:front:mobile_info":U.trackClick(null,{click_category:"frontpage",click_name:"mobile_info"});break;case"tracking:front:osc_info":U.trackClick(null,{click_category:"frontpage",click_name:"osc_info"});break;case"tracking:front:footer_link":U.trackClick(null,{click_category:"frontpage",click_name:"footer_link",click_target:t.href});break;case"tracking:dont-show-repost-upsell":U.trackClick(["dont-show-repost-upsell"]);break;case"new-message:sent":U.trackClick(["messages","new-message-sent"],t);break;case"messages:write-new":U.trackClick(["messages","write-new-clicked"],t);break;case"messages:close-overlay":U.trackClick(["messages","overlay-clicked"],t);break;case"messages:add-track":U.trackClick(["messages","track-added"],t);break;case"messages:new-message-validation-error":U.trackClick(["messages","new-message-validation-error"],t);break;case"tracking:stats":U.trackStats(t);break;case"tracking:unauthenticated-access":U.trackClick(["unauthenticated-access"]);break;case"tracking:add_to_set:confirmation":U.trackClick(["add_to_set","confirmation",t?"ok":"cancel"]);break;case"tracking:add_to_set:go_to_playlist":U.trackClick(["add_to_set","go_to_new"]);break;case"tracking:add_to_set:main":t.click_name="track_to_playlist::prompt",t.click_object=t.object,h(t,t.context),U.trackClick(null,t);break;case"tracking:add_to_set:validation":U.trackClick(["add_to_set","validation"]);break;case"tracking:profileImage:uploadSuccess":t.click_name="profile_image:add",U.trackClick(null,t);break;case"tracking:profileHeader:uploadSuccess":t.click_name="banner_image:add",U.trackClick(null,t);break;case"tracking:profileHeader:deleteSuccess":t.click_name="banner_image:remove",U.trackClick(null,t);break;case"tracking:group:moderate":U.trackClick(["group","moderate"]);break;case"tracking:group:edit":U.trackClick(["group","edit"]);break;case"tracking:localeServed":U.trackClick(["localeServed",t.locale]);break;case"tracking:localeSwitched":U.trackClick(["localeSwitched",t.localeTo,t.localeFrom]);break;case"layout:change":switch(C.include(),i=t.args,t.layoutName){case"stream":case"activity":U.trackPageView("stream",["stream","stream/"+("stream"===t.layoutName?"main":t.layoutName)]);break;case"collection":U.trackPageView("collection",["collection",i.subpage]);break;case"user":case"user-network":break;case"listen":case"listen-network":break;case"tags":U.trackPageView("tags",["tags","tags/main"]);break;case"search":break;case"charts":break;case"premium":!i||i.secondary&&"gifts"!==i.secondary||(v=N.getQueryParam("ref"),U.trackPageView("premium",["premium",N.stringify({path:["premium","main",i.secondary,v]})]));break;case"group":case"group-network":U.trackPageView("group",["groups","groups/"+r(i)]);break;case"explore":U.trackPageView("explore",["explore","explore/"+r(i,"category")]);break;case"upload":U.trackPageView("upload",["upload","upload/main"]);break;case"people":_=r(i,"tab"),U.trackPageView("people_"+_,["people","people/"+_]);break;case"home":case"front":U.trackPageView("homepage",["home","home/main"]);break;case"inbox":U.trackPageView("messages",["messages",r(i,"conversationId")]);break;case"stats":case"track-stats":U.trackPageView("stats",["default",window.location]);break;case"track-manager":U.trackPageView("track-manager",["track-manager","main"]);break;case"error":U.trackPageView("error",["error"]);break;case"logout":U.trackPageView("logout");break;case"static-page":U.trackPageView("static",["static",r(i,"pageName")]);break;case"mobile":U.trackPageView("static",["static","mobile/main"]);break;default:U.trackPageView("default",["default",window.location])}break;case"exception":s=t.get("xhr"),d=t.get("streamInfo"),d?(p=t.get("errorCode"),f={protocol:d.protocol||"undefined-protocol",browser:I.getBrowser(),flash:I.getFlashPlugin(),os:I.getOperatingSystem(),bitrate:d.bitrate||"undefined-bitrate",format:d.extension||"undefined-extension",url:d.url||"undefined-url"},p&&(f.error_code=p),U.trackAudioError(f)):s||U.trackAppError(t);break;case"header-more:open":U.trackClick(["header","more"],t);break;case"header-profile:open":U.trackClick(["header","you_main"],t);break;case"header-activities:open":U.trackClick(["header","activity","main"],t);break;case"header-messages:open":U.trackClick(["header","messages","main"],t);break;case"header-search:open":U.trackClick(["header","search","main"],t);break;case"header:volume":U.trackClick(["header","volume"],t);break;case"connect:logout":U.trackClick(["header","you_log_out"],t);break;case"share:prompt":t.click_name="share::prompt",t.click_object=t.object,h(t,t.context),U.trackClick(null,t);break;case"share:link":case"share:visual_embed":case"share:html5_embed":case"share:html5_mini_embed":case"share:sc_message":case"share:email":case"share:googleplus":case"share:twitter":case"share:facebook":case"share:tumblr":case"share:pinterest":case"share:weibo":case"share:vkontakte":case"share:mixi":case"share:tuenti":n=e.split(":"),t.click_name="share",t.click_object=t.object,t.click_target=n[1],U.trackClick(null,t);break;case"upload:share:twitter":case"upload:share:facebook_profile":case"upload:share:tumblr":n=e.split(":"),U.trackClick([n[0],n[1],n[2],t.id,t.type],t);break;case"commentForm:canceled":case"commentForm:focused":n=e.split(":")[1].replace("canceled","cancel").replace("focused","click"),U.trackClick(["comment",n],t);break;case"shortcut:click":t.click_name="item_navigation",t.click_object=t.model.resource?t.model.resource.getUrn():null,t.click_target=t.model.isQuery()?t.model.get("link"):null,U.trackClick(["search","shortcut",t.model.get("kind")],t);break;case"premium:pageView":c=arguments[1],U.trackPageView("premium",["premium",c]);break;case"premium:started":U.trackClick(null,t);break;case"auth:start":U.trackClick(e.split(":"),t);break;case"signup:successful":case"login:successful":case"login:failed":U.trackClick(e.split(":"),t);break;case"audibleBadge:username":U.trackClick(["audibleBadge","username"],{click_name:"item_navigation",context:t.context});break;case"userBadgeListItem:username":U.trackClick(["userBadgeListItem","username"],{click_name:"item_navigation",context:t.context});break;case"audibleBadge:audible":U.trackClick(["audibleBadge","audible"],{click_name:"item_navigation",context:t.context});break;case"listOptionToggle:showBadgeList":U.trackClick(t.chapter.concat(["toggle_badges"]),{click_name:"view_changed"});break;case"listOptionToggle:showWaveformList":U.trackClick(t.chapter.concat(["toggle_waveforms"]),{click_name:"view_changed"});break;case"onboarding:continue":case"onboarding:dismiss":case"onboarding:cold-start":case"onboarding:warm-start":U.trackClick(e.split(":").slice(1),t);break;case"tracking:sound:edit:saved":U.trackClick(t.chapter,t);break;case"upload_group:single":case"upload_group:multiple:grouped":case"upload_group:multiple:ungrouped":case"upload_funnel:upload_button_header":case"upload_funnel:start":case"upload_funnel:upload_done":case"upload_funnel:transcoding_done":case"upload_funnel:complete":case"upload_funnel:cancel":case"upload_funnel:failed:uploading":case"upload_funnel:failed:transcoding":case"upload_funnel:save":U.trackClick(e.split(":"),t);break;case"upload:image:click":case"upload:image:drag":case"upload:image:upload_started":case"upload:image:upload_success":n=e.split(":"),t&&n.push(t),U.trackClick(n);break;case"proPage:click":U.trackClick(null,t);break;case"image:zoom":n=e.split(":"),t&&n.push(t),U.trackClick(n);break;case"purchase:click":t.click_name="buy_link",t.click_object=t.context.urn,h(t,t.context),U.trackClick(null,t);break;case"download:click":t.click_name="download",t.click_object=t.context.urn,h(t,t.context),U.trackClick(null,t);break;case"tracking:go_mobile":c=arguments[1],U.trackClick(["go_mobile",c.action,c.location,c.abtest_identifier,c.platform],t);break;case"tracking:visualprofile:deeplink":U.trackClick(["deeplink"],t);break;case"tagSuggester:save":case"tagSuggester:cancel":U.trackClick(e.split(":"),t);break;case"tracking:expandStats":U.trackStatsClick("expand_stats_view");break;case"tracking:item-click-through":t.click_name="item_navigation",t.click_object=t.context.urn,t.click_target=t.target||t.context.urn,h(t,t.context),U.trackClick(null,t);break;case"tracking:mobile:appLink":U.trackClick([t.layout,"appLink"].concat(t.chapter));break;case"tracking:appLoad":U.trackAppLoad(t);break;case"click:external-link":U.trackClick(null,{click_category:"navigation",click_name:t.clickName,click_object:t.clickObject,click_target:t.clickTarget})}}var T=n(3),A=n(76),E=n(1048),C=n(36),D=n(22),I=n(1076),M=n(23),P=n(64),L=n(95),F=n(85),N=n(67),O=n(99),R=.15,$={},B={listen:"sounds","listen-network":"sounds",activity:"stream",stream:"stream",user:"users","user-network":"users",tags:"tags",search:"search",you:"you",explore:"explore",group:"group","group-network":"group",home:"homepage",front:"homepage",premium:"premium",people:"people",upload:"upload",inbox:"messages",onboarding:"onboarding","track-manager":"track-manager",collection:"collection","personal-recommended":"personal-recommended",charts:"charts"},U=e.exports={initialize:function(e){E.initialize(),z(e,!0)},dispose:function(e){E.dispose(),z(e,!1)},trackPageView:function(e,t,n){var i=D.get("router").getLayoutInfo(),r=i&&i.tracking||{},o=T.compact(t||[]),a=s(),l={};l.page_name=r.pageName,l.page_urn=r.pageUrn,l.locale=P.getLocale(),n&&n.queryUrn&&(l.query_urn=n.queryUrn),o.length<1&&l.page_name&&(o=l.page_name.split(":")),E.trackPageView(e,o,a,l)},trackAudioEvent:function(e){function t(){return e.pause_reason||(e.userInitiated&&"pause"===e.type?"pause":null)}var n=e.sound,i=L.getCurrentMetadata(),r=D.get("router").getLayoutInfo(),o=r&&r.tracking||{},a=e.ad&&e.ad.sound.getMonetizableTrack(),l=i.sourceInfo,u=T.extend({
position:i.sourcePosition,queryUrn:l.queryUrn},e.context&&e.context.attribution),d={action:"playStart"===e.type?"play":e.type,checkpointInterval:e.checkpointInterval,clientEventId:e.clientEventId,track_length:n.getMediaDuration(),monetization_model:n.get("monetization_model"),page_name:o.pageName,page_urn:o.pageUrn,pause_reason:t(),playheadPosition:Math.round(n.audio&&n.audio.currentTime()||0),policy:n.get("policy"),protocol:n.audio&&n.audio.streamInfo&&n.audio.streamInfo.protocol,repostedBy:i.reposterUrn,attribution:u,sound:n,sourceInfo:"playStart"===e.type?l:null,trigger:e.userInitiated?"manual":e.isRepeating?"repeat":"auto",user:s()};d=c(d),i.promotedInfo?(h(d,i.promotedInfo),"playStart"===e.type&&F.trackEvent("play",i.promotedInfo)):a&&(d.ad_urn=e.ad.get("audio").ad_urn,d.monetization_type="audio_ad",d.monetized_object=a.getUrn(),d.policy=null),E.trackAudioEvent(d)},trackAppLoad:function(e){var t=e.latency,n=D.get("router").getLayoutInfo(),r=n&&n.layoutName||"user",o=i(n)?"you":r,a=B[o],l=s();E.trackAppLoad(a,l,t)},trackClick:function(e,t){var n=D.get("router").getLayoutInfo(),r=s(),o=T.compact(e),a=n&&n.layoutName||"user",l=n&&n.tracking||{},u=i(n)?"you":a,d=B[u];t=t||{},t.page_name=l.pageName,t.page_urn=l.pageUrn,t=c(t),t.click_category?E.trackClick("1.16.0",T.extend({page_context:t.context&&t.context.scope&&t.context.scope.join(":")},T.omit(t,"context"))):(o.length<1&&t.page_name&&(o=t.page_name.split(":")),E.trackV0Click(d,o,r,t))},trackImpression:function(e){var t,n=D.get("router").getLayoutInfo(),i=n&&n.tracking||{},r=s(),o=e.urn,a=e.originView;e.page_name=i.pageName,e.page_urn=i.pageUrn,e.useAudioFinishHandler?($[a]||($[a]={}),$[a][o]||(t=function(n){var i=parseInt(e.urn.split(":").pop(),10),s=n.sound.id;i===s&&(delete $[a][o],M.off("audio:finish",t))},$[a][o]=!0,M.on("audio:finish",t),E.trackImpression(r,e))):(e.context&&"promoted"===e.context.campaign&&(e.ad_urn=e.context.ad_urn,e.monetization_type="promoted",e.impression_object=e.context.urn,e.promoted_by=e.context.promoted_by_urn),E.trackImpression(r,e))},trackStats:function(e){E.trackStats(s(),e)},trackStatsClick:function(e){var t="stats",n=s(),i=[e],r=D.get("router").getLayoutInfo().layoutName,o={stats:"main","track-stats":"track"},a={context:{scope:["stats",o[r]]}};E.trackV0Click(t,i,n,a)},trackAudioError:function(e){E.trackAudioError(e)},trackAppError:function(e){var t=e.get("message");j(t)&&E.trackAppError(e)}},z=function(){var e=T.map({".header__logoLink":["header","logo"],".header__mainMenu-home":["header","home"],".header__mainMenu-stream":["header","stream"],".header__mainMenu-explore":["header","explore"],'.moreMenu__link[href$="/community-guidelines"]':["header","community_guidelines"],'.moreMenu__link[href$="/terms-of-use"]':["header","terms_of_use"],'.moreMenu__link[href$="/creators"]':["header","creators"],'.moreMenu__link[href$="/pages/privacy"]':["header","privacy_policy"],'.moreMenu__link[href$="/pages/copyright"]':["header","copyright_information"],'.moreMenu__link[href$="/imprint"]':["header","company_information"],'.moreMenu__link[href$="/pages/contact"]':["header","about_us"],'.moreMenu__link[href="http://blog.soundcloud.com"]':["header","blog"],'.moreMenu__link[href="http://soundcloud.com/jobs"]':["header","jobs"],'.moreMenu__link[href="http://developers.soundcloud.com"]':["header","developers"],'.moreMenu__link[href="http://help.soundcloud.com"]':["header","help"],".moreMenu__keyboard":["header","keyboard_shortcuts"],".profileMenu__profile":["header","you","profile"],".profileMenu__likes":["header","you","likes"],".profileMenu__following":["header","you","following"],".profileMenu__sets":["header","you","sets"],".profileMenu__stats":["header","you","stats"],".profileMenu__groups":["header","you","groups"],".profileMenu__friends":["header","you","who_to_follow"],".profileMenu__settings":["header","you","settings"],".profileMenu__logout":["header","you","logout"],".playbackTitle":["play_controls","title"],".playControls .playControl:not(.playing)":["play_controls","pause"],".playControls .playControl.playing":["play_controls","play"],".playControls .skipControl__previous":["play_controls","skip_back"],".playControls .skipControl__next":["play_controls","skip_forward"],".header__inner a.outgoing-messages":["outgoing","messages"],".header__inner a.outgoing-record":["outgoing","record"],".chooser__record":["outgoing","record"],".profileMenu a.outgoing-settings":["outgoing","settings"],".profileMenu a.outgoing-stats":["outgoing","you_stats"],".statsModule a.outgoing-stats-module":["outgoing","all_stats"],".userInfo a.sc-button-message":["outgoing","new_message"],".whoToFollowModule a.refresh-wtf":["outgoing","who_to_follow_refresh"],".soundActions__edit":["edit","main"],".latestActivities__viewAll":["header","activity","view_all"],".headerMessages__viewAll":["header","messages","view_all"],".listenContent__inner .listenContent__parentLink a":["sets","trackview","set_button"],".listenContent__inner a.listenContent__prevLink":["sets","trackview","previous_track"],".listenContent__inner a.listenContent__nextLink":["sets","trackview","next_track"],".explore__bucket .carousel__next":["explore","skip_next"],".explore__bucket .carousel__prev":["explore","skip_prev"],".signupButton":["signup","start"],".loginButton":["login","start"],".signupTeaser .signupButton":["signup-teaser","signup"]},function(e,t){return["click",t,function(t){U.trackClick(e,t)}]});return function(t,n){var i=n?"on":"off";A[i]("like",g)[i]("comment",m)[i]("addToPlaylist",p)[i]("createPlaylist",f)[i]("addToGroup",x)[i]("follow",v)[i]("repost",_)[i]("join",w)[i]("destroy",b),M[i]("all",S),L[i]("state:repeating",y),e.forEach(function(e){this[i].apply(this,e)},t)}}(),j=function(){function e(e){return this.message.indexOf(e)>-1}var t=["top.GLOBALS","originalCreateNotification","canvas.contentDocument","MyApp_RemoveAllHighlights","http://tt.epicplay.com","Can’t find variable: ZiteReader","jigsaw is not defined","ComboSearch is not defined","http://loading.retry.widdit.com/","atomicFindClose","fb_xd_fragment","Script error.","stopAudioAdsTimer","ReferenceError: Can’t find variable: dzPlayer","Attempting to use a disconnected port object","TopLine is not defined","has no method 'UpdatePanels'","Error connecting to extension","PCG_searchParentNodeClass","ModuleSystem has been deleted","Verif is not defined","SCD_main","executeScript","dpQuery","uplListener"];return function(n){return Math.random()<R&&!t.some(e,{message:n})}}()},function(e,t,n){"use strict";function i(){if(_()||y()){if(!l.isLoggedIn())return void c.once("connect:login",i);var e=l.getAuthToken(),t=d.generate(),n=u.getUrlForEndpoint("trinitySubscribe",{},{registrationID:t,oauth:e}),s=u.getUrlForEndpoint("trinityPublish");p=o.getInstance(s,n,{debug:y(),authorization:e,withCredentials:!1,json:!0,singleConnection:!0,registrationId:t,heartbeatTimeoutMs:2*h}),p.on(o.Events.ACTION,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];e!==g.HEARTBEAT&&v.trigger.apply(v,[e].concat(n))})}}var s=n(3),r=n(27),o=n(950),a=n(22),l=n(25),u=n(29),c=n(23),d=n(733),h=1e4,p=null,f=o.SCMessages,g=f.actions,m=f.events,v=e.exports=s.assign({},r.Events,{actions:g,events:m,activate:s.once(i),publishEvent:function(e){p&&p.publishEvent(e)}}),_=function(){return a.get("rollouts").get("trinity_enabled")||a.get("rollouts").get("internal_qa")},y=function(){return a.get("rollouts").get("trinity_debug")||a.get("rollouts").get("internal_qa")}},function(e,t){"use strict";var n,i;e.exports={getStandardGenres:function(){return n},convertFromID3:function(e){var t=i[e],n={};return"string"==typeof t?n.tags=[t]:t&&2===t.length&&(n.tags=[t[1],t[0]]),n}};n=["Abstract","Acid Jazz","Acoustic Rock","Acoustic","African","Alternative","Ambient","Americana","Arabic","Arts & Entertainment","Avantgarde","Bachata","Ballads","Bhangra","Blues Rock","Blues","Books","Bossa Nova","Breakbeats","Business & Technology","Chanson","Chillout","Chiptunes","Choir","Classic Rock","Classical Guitar","Classical","Comedy","Contemporary","Country","Cumbia","Dance","Dancehall","Death Metal","Dirty South","Disco","Documentary","Dream Pop","Drum & Bass","Dub","Dubstep","Easy Listening","Electro House","Electronic Pop","Electronic Rock","Electronic","Folk Rock","Folk","Funk","Glitch","Gospel","Grime","Grindcore","Grunge","Hard Rock","Hardcore","Heavy Metal","Hip-Hop","House","Indie Pop","Indie","Industrial Metal","Instrumental Rock","Instrumental","J-Pop","Jazz Funk","Jazz Fusion","Jazz","K-Pop","Latin Jazz","Latin","Learning","Mambo","Metalcore","Middle Eastern","Minimal","Modern Jazz","Moombahton","New Wave","News","Nu Jazz","Opera","Orchestral","Other","Piano","Pop","Post Hardcore","Post Rock","Progressive House","Progressive Metal","Progressive Rock","Punk","R&B","Rap","Reggae","Reggaeton","Riddim","Rock 'n' Roll","Rock","Salsa","Samba","Shoegaze","Singer-songwriter","Smooth Jazz","Soul","Sports","Story","Synth Pop","Tech House","Techno","Thrash Metal","Trance","Trap","Trip-hop","Turntablism","Underground","80s"],i=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal",["New Age","Ambient"],null,null,"Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta","Top 40","Christian Rap","Pop/Funk","Jungle","Native American","Cabaret","New Wave","Psychadelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","Acapella","Euro-House","Dance Hall","Goa","Drum & Bass","Club - House","Hardcore","Terror","Indie","BritPop","Punk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop"]},function(e,t){"use strict";e.exports={FAILURE:"failure",FINISHED:"finished",NOT_FOUND:"not_found",PREPARING:"preparing",TRANSCODING:"transcoding",QUEUED:"queued"}},function(e,t,n){(function(t){"use strict";function i(e){function t(e){return c=!e&&c?Math.min(1e4,1.5*c):1e3}function n(e){d=window.setTimeout(i,t(e))}function i(){u=r(e).done(s).fail(l)}function s(e){switch(e.status){case a.QUEUED:case a.PREPARING:n();break;case a.TRANSCODING:n(e.percentage===h),h=e.percentage,p.notify(h);break;case a.FINISHED:p.resolve();break;case a.NOT_FOUND:case a.FAILURE:p.reject()}}function l(e){500===e.status?n():p.reject()}var u,c,d,h,p=o.defer(),f=p.promise();return n(),f.abort=function(){window.clearTimeout(d),u&&u.abort()},f}function s(e){var n,i;return i=t.ajax({url:"transcodings",type:"POST",data:{uid:e},contentType:"application/json"}),n=i.then(null,function(e){return 500===e.status?o.resolve():void 0}),n.abort=i.abort.bind(i),n}function r(e){return t.getJSON("transcodings/"+e)}var o=n(66),a=n(1117);e.exports=function(e){var t,n,r;return t=s(e),r=t.then(function(){return n=i(e)}),r.abort=function(){t.abort(),n&&n.abort()},r}}).call(t,n(1))},,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(73),s=n(99),r=n(72);e.exports=r.extend({_audible:null,setup:function(){var e,t=this.get("urn");t&&(e=s.getAsAttributes(t),this._audible=new i({resource_type:e.resource_type,id:e.id}),this.addSubmodel(this._audible))},getAudible:function(){return this._audible}})},function(e,t,n){"use strict";function i(){var e=Math.min(this.getRequiredListenPeriod(),this.sound.getMediaDuration()),t=this.sound.audio.currentTime();return e-t}function s(e){this._monetizableTrack.trigger("ad:"+e.type,e)}var r=n(3),o=n(72),a=n(85),l=n(70),u=n(68);e.exports=o.extend({resource_type:"audio_ad",submodelMap:{sound:l,user:u},_monetizableTrack:null,baseUrl:function(){return a.getAudioAdsUrl({trackId:this.getMonetizableTrack().id})},setup:function(){this.options.requiredListenPeriod=this.options.requiredListenPeriod||0},createSubmodel:function(e,t){var n;"sound"===t?(n=this.get("sound"),this.sound=new l(r.assign(n,{resource_id:{ad_target_id:this.resource_id,sound_id:n.id}})),this.sound.setMonetizableTrack(this._monetizableTrack),this.listenTo(this.sound,"buffering:start buffering:end",s)):o.prototype.createSubmodel.apply(this,arguments)},parse:function(e){var t={};return e&&e.promoted&&(a.parseResponse({promoted:[e.promoted]}),e.track&&(t.sound=e.track,t.sound.ad_type="preroll",t.user=e.track.user,t.audio=e.promoted.data.audio,t.companion_display=r.isEmpty(e.promoted.data.companion_display)?null:e.promoted.data.companion_display)),t},isPopulated:function(){var e="MONETIZE"===this.getMonetizableTrack().get("policy");return e?o.prototype.isPopulated.call(this):!0},getMsUntilCanSkip:function(){return Math.max(i.call(this),0)},getRequiredListenPeriod:function(){return this.attrExists("required_listen_period")?this.get("required_listen_period"):this.options.requiredListenPeriod},isSkippableRightNow:function(){return i.call(this)<=0},getMonetizableTrack:function(){return this._monetizableTrack},configureMonetizableTrack:function(e){this._monetizableTrack=e}})},,,function(e,t,n){"use strict";var i=n(64),s=n(72),r=n(85),o=[n(226).anySCLinkRegex,/^https:\/\/play.google.com\/.*id\=com\.soundcloud\.android/,/^https:\/\/itunes.apple.com\/.*\/soundcloud\//,/^https:\/\/soundcloudcontests.com\b/,/^https:\/\/docs.google.com\/a\/soundcloud\.com\//];e.exports=s.extend({resource_type:"dashbox",baseUrl:function(){return r.getDashboxUrl(this.options.adZone,i.getLocale())},parse:function(e){return r.parseDashboxResponse(e)},isAd:function(){var e=this.get("click_through_url")||this.get("landing_page");return e?!o.some(e.match,e):!1},isStandardDashbox:function(){return!!this.get("body")},isVisualDashbox:function(){return!!this.get("ad_visual")},hasContent:function(){return this.isStandardDashbox()||this.isVisualDashbox()}})},function(e,t,n){"use strict";var i=n(72);e.exports=i.extend({},{neverRelease:!0,hashFn:function(){return 1}})},function(e,t,n){"use strict";var i=n(3),s=n(72),r=n(87);e.exports=s.extend({resource_type:"liked-and-owned-playlist",submodelMap:{playlist:r},setup:function(e){},isOwned:function(){return"playlist"===this.get("type")},isLiked:function(){return"playlist-like"===this.get("type")},createSubmodel:function(){var e,t=i.last(this._submodels);s.prototype.createSubmodel.apply(this,arguments),e=i.last(this._submodels),e!==t&&this.listenTo(e,"destroy",this.onSubmodelDestroy)},onSubmodelDestroy:function(){this.destroy()},getAudible:function(){return r.instances.get(this.get("playlist").id)}},{hashFn:function(e){return[e.user.id,e.playlist.id].join("_")},getModelData:function(e,t,n){return{type:t,created_at:(new Date).toISOString(),playlist:{id:n},user:{id:e}}}})},,function(e,t,n){"use strict";var i=n(3),s=n(72);e.exports=s.extend({resource_type:"soundVisual",hasDataForView:function(){return!0},baseUrl:i.noop},{hashFn:function(e){return e.urn}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){function n(e){if(this.size=0,this._data=[],e)for(var t=0;t<e.length;++t)this.insert(t,e[t])}function i(){this._data.push(0)}function s(){this._data.pop()}function r(e){for(var t=0;t<this._data.length;++t)this._data[t]&=e._data[t]}function o(e){for(var t=0;e;++t)e&=e-1;return t}function a(e,t,n){var i=(1<<t-e+1)-1<<e;return n||(i=~i),i}var l=1<<31;e.exports=n,n.combine=function(e){var t=e[0].clone();return t.applyAnd(e.slice(1)),t},n.prototype={get:function(e){return 0!==(this._data[e/32|0]&1<<e%32)},set:function(e,t){if(!(0>e||e>=this.size)){var n=e/32|0,i=e%32;this._data[n]^=(!t-1^this._data[n])&1<<i}},insert:function(e,t){if(!(e>this.size||0>e)){var n,s,r,o,u;if(this.size%32===0&&i.call(this),e<this.size){for(n=e/32|0,s=e%32,r=this._data[n],u=this._data.length-1;u>n;--u)this._data[u]<<=1,this._data[u-1]&l&&(this._data[u]|=1);o=a(0,s-1,!1),this._data[n]=r<<1&o|r&~o}++this.size,this.set(e,t)}},remove:function(e){if(!(e>=this.size||0>e)){var t,n,i,r,o;if(e<this.size-1)for(t=e/32|0,n=e%32,i=this._data[t],r=a(0,n-1,!1),this._data[t]=i>>>1&r|i&~r,o=t+1;o<this._data.length;++o)1&this._data[o]&&(this._data[o-1]|=l),this._data[o]>>>=1;--this.size%32===0&&s.call(this)}},applyAnd:function(e){for(var t=0;t<e.length;++t)r.call(this,e[t])},clearRange:function(e,t){var n,i,s,r=e/32|0,o=t/32|0;for(s=r;o>=s;++s)n=Math.max(0,e-32*s),i=Math.min(31,t-32*s),0===n&&31===i?this._data[s]=0:this._data[s]&=a(n,i,0)},clone:function(){var e=new n;return e._data=this._data.slice(),e.size=this.size,e},getIndexes:function(e){for(var t=[],n=!!e,i=0;i<this.size;++i)this.get(i)===n&&t.push(i);return t},countValuesInRange:function(e,t,n){t=t||0,n=void 0===n?this.size-1:n;var i,s,r,l,u=t/32|0,c=n/32|0,d=0;for(r=u;c>=r;++r)i=Math.max(0,t-32*r),s=Math.min(31,n-32*r),l=0===i&&31===s?this._data[r]:this._data[r]&a(i,s,1),d+=o(l);return e?d:n-t-d+1}}},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-collection>.l-nav{margin:30px 0}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-messages-left{position:fixed;top:45px;bottom:0;width:350px;overflow:hidden}.l-messages-main{padding-left:380px}@media (max-width:1079px){.l-messages-left{width:270px}.l-messages-main{padding-left:300px}}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".listen-about .l-main{min-height:230px}@media (max-width:1079px){.listen-about>.l-sidebar-left{display:none}}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-listen-wrapper{position:relative}.l-listen-wrapper .l-about-main{margin-right:330px;padding-top:20px}.l-listen-wrapper .l-about-rows{padding-right:30px;border-right:1px solid #f2f2f2}.l-listen-wrapper .l-about-row{margin-bottom:20px}.l-listen-wrapper .l-about-row:last-child{margin-bottom:0}.l-listen-wrapper .l-about-top>.listenEngagement{padding-top:0}.l-listen-wrapper .l-sidebar-right{top:30px;right:0;position:absolute;bottom:auto;width:300px;margin-bottom:50px}.l-listen__mainContent{position:relative}.l-listen__mainContent>.l-about-left{position:absolute;top:0;left:0;width:120px}.l-listen__mainContent>.l-about-right{padding-left:150px}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-premium-content{padding-top:30px}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-search{position:relative}.l-search .l-fixed-top{position:absolute;top:0;left:0}.l-search .l-fixed-left{position:absolute;top:94px;left:0;bottom:0;width:200px}.l-search .l-fixed-left>.l-fixed{width:200px}.l-search .l-main{margin:0 0 0 230px;padding-top:84px}.l-search .l-fixed-left>.l-footer{position:fixed;bottom:0;width:200px}@media (max-width:1079px){.l-search .l-main{margin-left:220px}}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"@media (max-width:1079px){.l-settings-layout .l-fluid-fixed .l-main{margin-right:0;padding-right:0;border-right:0}.l-settings-layout .l-fluid-fixed .l-sidebar-right{display:none}}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-two-column-sound-hero{position:relative}.l-two-column-sound-hero .l-sidebar-right{position:absolute;top:30px;bottom:0;right:0;width:300px}.l-two-column-sound-hero .l-sidebar-right .l-fixed{width:300px;overflow:hidden}.l-two-column-sound-hero .l-sidebar-right .l-footer{position:relative;top:-30px;padding-bottom:30px}.l-two-column-sound-hero .l-main{padding:0 30px 0 0;margin:0 330px 0 0}.l-two-column-sound-hero .l-listen-content{position:relative;padding:20px 0 0 0;margin:0}@media (max-width:1079px){.l-two-column-sound-hero .l-main{padding-right:20px;margin-right:320px}}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,"",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-fluid-fixed .l-user-main{margin-top:20px;padding-top:0}.l-fluid-fixed .l-user-sidebar-right{top:0}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".calloutBackground{position:fixed;top:0;left:0;bottom:0;right:0}.calloutBackground.m-hidden{opacity:0}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".callout{position:absolute;top:0;left:0;bottom:0;right:0}.callout__bubble{position:absolute;background-color:#fff;width:300px;padding:25px;box-sizing:border-box;border-radius:4px;transition:opacity .3s ease-in-out,-webkit-transform .3s ease-in-out;transition:opacity .3s ease-in-out,transform .3s ease-in-out}.callout.m-hidden .callout__bubble{opacity:0;-webkit-transform:translateY(-8px);transform:translateY(-8px)}.callout__bubble::before{content:'';position:absolute;bottom:-8px;left:40px;padding:10px;border-radius:2px;width:0;background-color:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.callout__button{float:right}.callout__title{margin-bottom:10px}.callout__bubble.ui-flipped-bottom::before{bottom:auto;top:-8px}.callout__bubble.ui-flipped-left::before{left:auto;right:40px}.callout.m-hidden .callout__bubble.ui-flipped-bottom{-webkit-transform:translateY(8px);transform:translateY(8px)}.callout__bubble.ui-flipped-bottom{-webkit-transform:translateY(0);transform:translateY(0)}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-fixed-fluid{position:relative}.l-fixed-fluid .l-sidebar-left{position:absolute;top:30px;bottom:0;left:0;width:200px}.l-fixed-fluid .l-sidebar-left .l-fixed{width:200px}.l-fixed-fluid .l-main{margin:0 0 0 230px;padding-top:30px}.l-fixed-fluid .l-sidebar-left>.l-footer{position:fixed;bottom:0;width:200px}@media (max-width:1079px){.l-fixed-fluid .l-main{margin-left:220px}}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-fixed-top-one-column{padding-bottom:10px}.l-fixed-top-one-column>.l-top{background:#fff;position:fixed;top:46px;padding:31px 30px 0;width:1240px}@media (max-width:1239px){.l-fixed-top-one-column>.l-top{width:1080px}}@media (max-width:1079px){.l-fixed-top-one-column>.l-top{width:960px;padding-left:20px;padding-right:20px}}",""])},,function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-fluid-fixed{position:relative}.l-fluid-fixed .l-sidebar-right{position:absolute;top:30px;bottom:0;right:0;width:300px}.l-fluid-fixed .l-sidebar-right .l-fixed{width:300px}.l-fluid-fixed .l-sidebar-right .l-footer{position:relative;padding-bottom:80px}.l-fluid-fixed .l-sidebar-right .sidebarModule.mobileApps{margin-bottom:0;border-bottom:none}.l-fluid-fixed .l-main{padding:30px 30px 0 0;margin:0 330px 0 0}@media (max-width:1079px){.l-fluid-fixed .l-main{padding-right:20px;margin-right:320px}}",""])},function(e,t,n){t=e.exports=n(6)(),t.push([e.id,".l-one-column>.l-main{padding:30px 0}",""])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){/** @license
	 * eventsource.js
	 * Available under MIT License (MIT)
	 * https://github.com/Yaffle/EventSource/
	 */
!function(e){"use strict";function t(){this.data={}}function n(){this.listeners=new t}function i(e){c(function(){throw e},0)}function s(e){this.type=e,this.target=void 0}function r(e,t){s.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function o(e,t){var n=e;return n!==n&&(n=t),A>n?A:n>E?E:n}function a(e,t,n){try{"function"==typeof t&&t.call(e,n)}catch(s){i(s)}}function l(t,i){function l(){z=y,void 0!=R&&(R.abort(),R=void 0),0!==$&&(d($),$=0),0!==B&&(d(B),B=0),L.readyState=y}function u(e){var n="";if(z===_||z===v)try{n=R.responseText}catch(i){}var u=void 0,h=!1;if(z===v){var p=0,f="",g=void 0;if("contentType"in R)""!==e&&"error"!==e&&(p=200,f="OK",g=R.contentType);else try{p=R.status,f=R.statusText,g=R.getResponseHeader("Content-Type")}catch(i){p=0,f="",g=void 0}if(void 0==g&&(g=""),0===p&&""===f&&"load"===e&&""!==n&&(p=200,f="OK",""===g)){var A=/^data\:([^,]*?)(?:;base64)?,[\S]*$/.exec(t);void 0!=A&&(g=A[1])}if(200===p&&T.test(g)){if(z=_,N=!0,F=I,L.readyState=_,u=new s("open"),L.dispatchEvent(u),a(L,L.onopen,u),z===y)return}else if(0!==p&&(200!==p||""!==g)){var C="";C=200!==p?"EventSource's response has a status "+p+" "+f.replace(/\s+/g," ")+" that is not 200. Aborting the connection.":"EventSource's response has a Content-Type specifying an unsupported type: "+g.replace(/\s+/g," ")+". Aborting the connection.",c(function(){throw new Error(C)},0),h=!0}}if(z===_){n.length>U&&(N=!0);for(var D=U-1,O=n.length,B="\n";++D<O;)if(B=n.charAt(D),W===b&&"\n"===B)W=w;else if(W===b&&(W=w),"\r"===B||"\n"===B){if("data"===G?j.push(Y):"id"===G?H=Y:"event"===G?V=Y:"retry"===G?(I=o(Number(Y),I),F=I):"heartbeatTimeout"===G&&(M=o(Number(Y),M),0!==$&&(d($),$=c(q,M))),Y="",G="",W===w){if(0!==j.length&&(P=H,""===V&&(V="message"),u=new r(V,{data:j.join("\n"),lastEventId:H}),L.dispatchEvent(u),"message"===V&&a(L,L.onmessage,u),z===y))return;j.length=0,V=""}W="\r"===B?b:w}else W===w&&(W=x),W===x?":"===B?W=k:G+=B:W===k?(" "!==B&&(Y+=B),W=S):W===S&&(Y+=B);U=O}z!==_&&z!==v||!("load"===e||"error"===e||h||U>1048576||0===$&&!N)?0===$&&(N=!1,$=c(q,M)):(h?l():(""!==e||0!==$||N||c(function(){throw new Error("No activity within "+M+" milliseconds. Reconnecting.")},0),z=m,R.abort(),0!==$&&(d($),$=0),F>16*I&&(F=16*I),F>E&&(F=E),$=c(q,F),F=2*F+1,L.readyState=v),u=new s("error"),L.dispatchEvent(u),a(L,L.onerror,u))}function h(){u("progress")}function p(){u("load")}function A(){u("error")}function C(){u(4===R.readyState?0===R.status?"error":"load":"progress")}t=t.toString();var D=f&&void 0!=i&&Boolean(i.withCredentials),I=o(1e3,0),M=o(45e3,0),P="",L=this,F=I,N=!1,O=void 0!=i&&void 0!=i.Transport?i.Transport:g,R=new O,$=0,B=0,U=0,z=m,j=[],H="",V="",q=void 0,W=w,G="",Y="";"readyState"in R&&void 0!=e.opera&&(B=c(function K(){3===R.readyState&&u("progress"),B=c(K,500)},0)),q=function(){if($=0,z!==m)return void u("");if((!("ontimeout"in R)||"sendAsBinary"in R||"mozAnon"in R)&&void 0!=e.document&&void 0!=e.document.readyState&&"complete"!==e.document.readyState)return void($=c(q,4));R.onload=p,R.onerror=A,"onabort"in R&&(R.onabort=A),"onprogress"in R&&(R.onprogress=h),"onreadystatechange"in R&&(R.onreadystatechange=C),N=!1,$=c(q,M),U=0,z=v,j.length=0,V="",H=P,Y="",G="",W=w;var n=t.slice(0,5);n="data:"!==n&&"blob:"!==n?t+((-1===t.indexOf("?",0)?"?":"&")+"lastEventId="+encodeURIComponent(P)+"&r="+(Math.random()+1).toString().slice(2)):t,R.open("GET",n,!0),"withCredentials"in R&&(R.withCredentials=D),"responseType"in R&&(R.responseType="text"),"setRequestHeader"in R&&R.setRequestHeader("Accept","text/event-stream"),R.send(void 0)},n.call(this),this.close=l,this.url=t,this.readyState=v,this.withCredentials=D,this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,q()}function u(){this.CONNECTING=v,this.OPEN=_,this.CLOSED=y}var c=e.setTimeout,d=e.clearTimeout;t.prototype.get=function(e){return this.data[e+"~"]},t.prototype.set=function(e,t){this.data[e+"~"]=t},t.prototype["delete"]=function(e){delete this.data[e+"~"]},n.prototype.dispatchEvent=function(e){e.target=this;var t=e.type.toString(),n=this.listeners,s=n.get(t);if(void 0!=s)for(var r=s.length,o=-1,a=void 0;++o<r;){a=s[o];try{a.call(this,e)}catch(l){i(l)}}},n.prototype.addEventListener=function(e,t){e=e.toString();var n=this.listeners,i=n.get(e);void 0==i&&(i=[],n.set(e,i));for(var s=i.length;--s>=0;)if(i[s]===t)return;i.push(t)},n.prototype.removeEventListener=function(e,t){e=e.toString();var n=this.listeners,i=n.get(e);if(void 0!=i){for(var s=i.length,r=[],o=-1;++o<s;)i[o]!==t&&r.push(i[o]);0===r.length?n["delete"](e):n.set(e,r)}},r.prototype=s.prototype;var h=e.XMLHttpRequest,p=e.XDomainRequest,f=void 0!=h&&void 0!=(new h).withCredentials,g=f||void 0!=h&&void 0==p?h:p,m=-1,v=0,_=1,y=2,b=3,w=4,x=5,k=6,S=7,T=/^text\/event\-stream;?(\s*charset\=utf\-8)?$/i,A=1e3,E=18e6;u.prototype=n.prototype,l.prototype=new u,u.call(l),f&&(l.prototype.withCredentials=void 0);var C=function(){return void 0!=e.EventSource&&"withCredentials"in e.EventSource.prototype};void 0!=g&&(void 0==e.EventSource||f&&!C())&&(e.NativeEventSource=e.EventSource,e.EventSource=l)}("undefined"!=typeof window?window:this)},,,,function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/buffering-d977ce.gif"},function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/buffering@2x-44e635.gif"},function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/pause-1f3f22.svg"},function(e,t,n){e.exports=n.p+"assets/images/buttons/hero/play-69601b.svg"},function(e,t,n){e.exports=n.p+"assets/images/close-announcement-ed6150.png"},function(e,t,n){e.exports=n.p+"assets/images/close-announcement@2x-65dcea.png"},function(e,t,n){e.exports=n.p+"assets/images/close-modal-light-1161ba.svg"},,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"assets/images/drag-handle-a403f9.png"},,function(e,t,n){e.exports=n.p+"assets/images/empty-states/comments-1267be.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/comments@2x-30296a.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/following-f6990b.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/following@2x-65b4cc.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/groups-small-aec6e5.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/groups-small@2x-3528f2.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/groups-f91e24.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/groups@2x-d264fa.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/info-206a18.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/info@2x-f54f4f.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/likes-3bcb16.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/likes@2x-0ea46c.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/playlists-17e39d.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/playlists@2x-81659e.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/reposts-357430.png"},function(e,t,n){e.exports=n.p+"assets/images/empty-states/reposts@2x-34af13.png"},,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"assets/images/header/activities-66caaa.svg"},function(e,t,n){e.exports=n.p+"assets/images/header/dropdown-cf3420.svg"},function(e,t,n){e.exports=n.p+"assets/images/header/header-icons-1afa05.png"},function(e,t,n){e.exports=n.p+"assets/images/header/messages-f517d0.svg"},function(e,t,n){e.exports=n.p+"assets/images/header/more-0e9e75.svg"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/follow_light-006bc6.png"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/following_light-4c851d.png"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/groups_light-9aa8cd.png"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/likes_light-b79fe9.png"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/premium_light-0f2add.png"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/sets_light-eb43b8.png"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/sounds_light-9699a1.png"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/stats_light-53c6d3.png"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/track_manager_light-e8f84d.png"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/track_manager_light@2x-49a9db.png"},function(e,t,n){e.exports=n.p+"assets/images/header/profile/user_light-dd6863.png"},function(e,t,n){e.exports=n.p+"assets/images/loader-dark-45940a.gif"},,function(e,t,n){e.exports=n.p+"assets/images/messages/recipientRemove-929f8f.png"},,function(e,t,n){e.exports=n.p+"assets/images/playback/pause-b172a6.svg"},function(e,t,n){e.exports=n.p+"assets/images/playback/play-c9d2fb.svg"},function(e,t,n){e.exports=n.p+"assets/images/playback/prev-34697d.svg"},function(e,t,n){e.exports=n.p+"assets/images/playback/repeat-track-active-525e7e.svg"},function(e,t,n){e.exports=n.p+"assets/images/playback/repeat-track-b45f6e.svg"},function(e,t,n){e.exports=n.p+"assets/images/playback/skip-3aac31.svg"},,,function(e,t,n){e.exports=n.p+"assets/images/playlist-cover-bg_small-1e4020.png"},function(e,t,n){e.exports=n.p+"assets/images/playlist-cover-bg_small@2x-c437aa.png"},,,,,,function(e,t,n){e.exports=n.p+"assets/images/premium/error-305b36.png"},,,,,,,,,,,,function(e,t,n){e.exports=n.p+"assets/images/recos-announcement/new_recos-99f4cc.png"},function(e,t,n){e.exports=n.p+"assets/images/recos-announcement/new_recos@2x-1f96d4.png"},,function(e,t,n){e.exports=n.p+"assets/images/stopper-9d4f27.png"},function(e,t,n){e.exports=n.p+"assets/images/throbber-repeat-605910.png"},,,function(e,t,n){e.exports=n.p+"assets/images/upload/big-checkbox-583f9f.png"},function(e,t,n){e.exports=n.p+"assets/images/upload/big-checkbox@2x-a39eff.png"},,,,,,,,,function(e,t,n){e.exports=n.p+"assets/images/warnings/gs-logo-1c66fa.png"},function(e,t,n){e.exports=n.p+"assets/images/warnings/sc-logo-849899.png"},function(e,t,n){e.exports=n.p+"assets/images/who-to-follow/refresh-8000d5.png"},function(e,t,n){e.exports=n.p+"assets/images/widgets/colors-0c8fa8.png"},,,,,,function(e,t,n){e.exports=n.p+"assets/images/widgets/tabs/classic-3212ff.png"},function(e,t,n){e.exports=n.p+"assets/images/widgets/tabs/mini-450a78.png"},function(e,t,n){e.exports=n.p+"assets/images/widgets/tabs/visual-b7ef66.png"},function(e,t,n){e.exports=n.p+"assets/swf/flashAudio-ccac65.swf"},function(e,t,n){e.exports=n.p+"assets/swf/flashAudio_debug-64e67d.swf"},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-two-column-sound-hero">\n  <div class="l-main sc-border-light-right">\n    <div class="l-listen-sound sc-clearfix"></div>\n    <div class="l-listen-engagement"></div>\n    <div class="l-listen-content"></div>\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,i,s,r){var o,a=null!=t?t:{},l=i.helperMissing,u=e.escapeExpression,c=e.lambda;return u((n(62)||t&&t.$view||l).call(a,n(1053),{name:"$view",hash:{delay:null!=(o=null!=t?t._options:t)?o.delay:o,$targetEl:null!=(o=null!=t?t._options:t)?o.$targetEl:o,key:"background"},data:r}))+'\n\n<div class="callout__bubble">\n  <h2 class="callout__title">'+u(c(null!=(o=null!=t?t._options:t)?o.title:o,t))+'</h2>\n  <p class="sc-type-small">'+u(c(null!=(o=null!=t?t._options:t)?o.body:o,t))+'</p>\n  <div class="callout__button">\n    <button class="sc-button sc-button-cta sc-button-medium">'+u((n(61)||t&&t.$t||l).call(a,"OK, got it",{name:"$t",hash:{},data:r}))+"</button>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-fixed-fluid">\n  <div class="l-sidebar-left">\n\n  </div>\n  <div class="l-main">\n\n  </div>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){var r,o=null!=t?t:{},a=n.helperMissing,l="function",u=e.escapeExpression;return'<div class="l-fixed-top-one-column" style="padding-top: '+u((r=null!=(r=n.topHeight||(null!=t?t.topHeight:t))?r:a,typeof r===l?r.call(o,{name:"topHeight",hash:{},data:s}):r))+'px">\n  <div class="l-top sc-border-box g-z-index-fixed sc-browsers-enable-gpu l-inner-fullwidth"\n    style="height: '+u((r=null!=(r=n.topHeight||(null!=t?t.topHeight:t))?r:a,typeof r===l?r.call(o,{name:"topHeight",hash:{},data:s}):r))+'px">\n  </div>\n  <div class="l-main g-main-scroll-area">\n\n  </div>\n</div>\n'},useData:!0})},,function(e,t,n){var i=n(21);e.exports=(i["default"]||i).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,s){return'<div class="l-fluid-fixed">\n  <div class="l-main sc-border-light-right">\n\n  </div>\n  <div class="l-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={africa:{DZ:"Algeria",AO:"Angola",AG:"Antigua And Barbuda",BJ:"Benin",BT:"Bhutan",BW:"Botswana",BF:"Burkina Faso",BI:"Burundi",CM:"Cameroon",CV:"Cape Verde",CF:"Central African Republic",TD:"Chad",KM:"Comoros",CG:"Congo",CD:"Congo, The Democratic Republic Of The",CI:"Cote D'ivoire",EG:"Egypt",GQ:"Equatorial Guinea",ER:"Eritrea",ET:"Ethiopia",GF:"French Guiana",GA:"Gabon",GM:"Gambia",GH:"Ghana",GN:"Guinea",GW:"Guinea-Bissau",KE:"Kenya",LS:"Lesotho",LR:"Liberia",MW:"Malawi",ML:"Mali",MR:"Mauritania",YT:"Mayotte",MA:"Morocco",MZ:"Mozambique",NA:"Namibia",NE:"Niger",NG:"Nigeria",QA:"Qatar",RW:"Rwanda",ST:"Sao Tome And Principe",SN:"Senegal",SC:"Seychelles",SL:"Sierra Leone",SO:"Somalia",ZA:"South Africa",SD:"Sudan",SR:"Suriname",SZ:"Swaziland",TZ:"Tanzania, United Republic Of",TG:"Togo",TT:"Trinidad And Tobago",UG:"Uganda",EH:"Western Sahara",ZM:"Zambia",ZW:"Zimbabwe"},asia:{AF:"Afghanistan",BH:"Bahrain",BD:"Bangladesh",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",KH:"Cambodia",CN:"China",DJ:"Djibouti",HK:"Hong Kong",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IL:"Israel",JP:"Japan",JO:"Jordan",KP:"Korea, Democratic People's Republic Of",KR:"Korea, Republic Of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LY:"Libyan Arab Jamahiriya",MO:"Macao",MY:"Malaysia",MN:"Mongolia",MM:"Myanmar",NP:"Nepal",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PH:"Philippines",SA:"Saudi Arabia",SG:"Singapore",SB:"Solomon Islands",SS:"South Sudan",LK:"Sri Lanka",SY:"Syrian Arab Republic",TW:"Taiwan, Province Of China",TJ:"Tajikistan",TH:"Thailand",TL:"Timor-Leste",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",AE:"United Arab Emirates",UZ:"Uzbekistan",VN:"Viet Nam",YE:"Yemen"},australasia:{AS:"American Samoa",AU:"Australia",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CK:"Cook Islands",FJ:"Fiji",PF:"French Polynesia",HM:"Heard Island And McDonald Islands",KI:"Kiribati",MG:"Madagascar",MV:"Maldives",MH:"Marshall Islands",MU:"Mauritius",FM:"Micronesia, Federated States Of",NR:"Nauru",NC:"New Caledonia",NZ:"New Zealand",NU:"Niue",MP:"Northern Mariana Islands",PG:"Papua New Guinea",WS:"Samoa",TK:"Tokelau",TO:"Tonga",TV:"Tuvalu",VU:"Vanuatu",WF:"Wallis And Futuna",AQ:"Antarctica"},europe:{AX:"Aaland Islands",AL:"Albania",AD:"Andorra",AM:"Armenia",AT:"Austria",AZ:"Azerbaijan",BY:"Belarus",BE:"Belgium",BA:"Bosnia And Herzegovina",BV:"Bouvet Island",BG:"Bulgaria",HR:"Croatia",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",EE:"Estonia",FO:"Faroe Islands",FI:"Finland",FR:"France",TF:"French Southern Territories",GE:"Georgia",DE:"Germany",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GP:"Guadeloupe",GG:"Guernsey",VA:"Holy See (Vatican City State)",HU:"Hungary",IS:"Iceland",IE:"Ireland",IM:"Isle Of Man",IT:"Italy",JE:"Jersey",KZ:"Kazakhstan",LV:"Latvia",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MK:"Macedonia, The Former Yugoslav Republic Of",MT:"Malta",MQ:"Martinique",MD:"Moldova, Republic Of",MC:"Monaco",ME:"Montenegro",MS:"Montserrat",NL:"Netherlands",NF:"Norfolk Island",NO:"Norway",PL:"Poland",PT:"Portugal",RE:"Reunion",RO:"Romania",RU:"Russian Federation",SH:"Saint Helena, Ascension And Tristan Da Cunha",SM:"San Marino",RS:"Serbia",SX:"Sint Maarten (Dutch Part)",SK:"Slovakia",SI:"Slovenia",GS:"South Georgia And The South Sandwich Islands",ES:"Spain",SJ:"Svalbard And Jan Mayen",SE:"Sweden",CH:"Switzerland",UA:"Ukraine",GB:"United Kingdom",VG:"Virgin Islands, British"},latin_america:{AR:"Argentina",AW:"Aruba",BB:"Barbados",BZ:"Belize",BM:"Bermuda",BO:"Bolivia, Plurinational State Of",BQ:"Bonaire, Sint Eustatius And Saba",BR:"Brazil",CL:"Chile",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CW:"Curacao",EC:"Ecuador",SV:"El Salvador",FK:"Falkland Islands (Malvinas)",GD:"Grenada",GT:"Guatemala",GY:"Guyana",HN:"Honduras",JM:"Jamaica",MX:"Mexico",NI:"Nicaragua",PA:"Panama",PY:"Paraguay",PE:"Peru",PN:"Pitcairn",PR:"Puerto Rico",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",UY:"Uruguay",VE:"Venezuela, Bolivarian Republic Of"},north_america:{AI:"Anguilla",BS:"Bahamas",CA:"Canada",KY:"Cayman Islands",DM:"Dominica",DO:"Dominican Republic",GU:"Guam",HT:"Haiti",BL:"Saint Barthelemy",MF:"Saint Martin (French Part)",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And The Grenadines",TC:"Turks And Caicos Islands",US:"United States",UM:"United States Minor Outlying Islands",VI:"Virgin Islands, U.S."}}},,function(e,t){"use strict";function n(e){return e in o?o[e]:null}function i(e,t){return o[e]=t,!0}function s(e){var t=e in o;return t?delete o[e]:!1}function r(){return o={},!0}var o={};e.exports={getItem:n,setItem:i,removeItem:s,clear:r}},function(e,t){(function(t){"use strict";function n(){t.addEventListener?t.addEventListener("storage",i,!1):t.attachEvent?t.attachEvent("onstorage",i):t.onstorage=i}function i(e){function n(t){t(JSON.parse(e.newValue),JSON.parse(e.oldValue),e.url||e.uri)}e||(e=t.event);var i=o[e.key];i&&i.forEach(n)}function s(e,t){o[e]?o[e].push(t):o[e]=[t],a===!1&&n()}function r(e,t){var n=o[e];n.length>1?n.splice(n.indexOf(t),1):o[e]=[]}var o={},a=!1;e.exports={on:s,off:r}}).call(t,function(){return this}())},function(e,t,n){function i(e,t){return null==t?e:s(t,r(t),e)}var s=n(2340),r=n(917);e.exports=i},function(e,t){function n(e,t,n){n||(n={});for(var i=-1,s=t.length;++i<s;){var r=t[i];n[r]=e[r]}return n}e.exports=n},function(e,t){function n(e,t,n){if("function"!=typeof e)return i;if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,s){return e.call(t,n,i,s)};case 4:return function(n,i,s,r){return e.call(t,n,i,s,r)};case 5:return function(n,i,s,r,o){return e.call(t,n,i,s,r,o)}}return function(){return e.apply(t,arguments)}}function i(e){return e}e.exports=n},function(e,t,n){function i(e){return o(function(t,n){var i=-1,o=null==t?0:n.length,a=o>2?n[o-2]:void 0,l=o>2?n[2]:void 0,u=o>1?n[o-1]:void 0;for("function"==typeof a?(a=s(a,u,5),o-=2):(a="function"==typeof u?u:void 0,o-=a?1:0),l&&r(n[0],n[1],l)&&(a=3>o?void 0:a,o=1);++i<o;){var c=n[i];c&&e(t,c,a)}return t})}var s=n(2341),r=n(2344),o=n(2347);e.exports=i},function(e,t){function n(e){return!!e&&"object"==typeof e}function i(e,t){var n=null==e?void 0:e[t];return o(n)?n:void 0}function s(e){return r(e)&&h.call(e)==a}function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function o(e){return null==e?!1:s(e)?p.test(c.call(e)):n(e)&&l.test(e)}var a="[object Function]",l=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,d=u.hasOwnProperty,h=u.toString,p=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function i(e){return null!=e&&o(c(e))}function s(e,t){return e="number"==typeof e||l.test(e)?+e:-1,t=null==t?u:t,e>-1&&e%1==0&&t>e}function r(e,t,n){if(!a(n))return!1;var r=typeof t;if("number"==r?i(n)&&s(t,n.length):"string"==r&&t in n){var o=n[t];return e===e?e===o:o!==o}return!1}function o(e){return"number"==typeof e&&e>-1&&e%1==0&&u>=e}function a(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var l=/^\d+$/,u=9007199254740991,c=n("length");e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}function i(e){return r(e)&&g.call(e,"callee")&&(!v.call(e,"callee")||m.call(e)==d)}function s(e){return null!=e&&a(_(e))&&!o(e)}function r(e){return u(e)&&s(e)}function o(e){var t=l(e)?m.call(e):"";return t==h||t==p}function a(e){return"number"==typeof e&&e>-1&&e%1==0&&c>=e}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function u(e){return!!e&&"object"==typeof e}var c=9007199254740991,d="[object Arguments]",h="[object Function]",p="[object GeneratorFunction]",f=Object.prototype,g=f.hasOwnProperty,m=f.toString,v=f.propertyIsEnumerable,_=n("length");e.exports=i},function(e,t){function n(e){return!!e&&"object"==typeof e}function i(e,t){var n=null==e?void 0:e[t];return a(n)?n:void 0}function s(e){return"number"==typeof e&&e>-1&&e%1==0&&v>=e}function r(e){return o(e)&&f.call(e)==u}function o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return null==e?!1:r(e)?g.test(h.call(e)):n(e)&&c.test(e)}var l="[object Array]",u="[object Function]",c=/^\[object .+?Constructor\]$/,d=Object.prototype,h=Function.prototype.toString,p=d.hasOwnProperty,f=d.toString,g=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=i(Array,"isArray"),v=9007199254740991,_=m||function(e){return n(e)&&s(e.length)&&f.call(e)==l};e.exports=_},function(e,t){function n(e,t){if("function"!=typeof e)throw new TypeError(i);return t=s(void 0===t?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=s(n.length-t,0),o=Array(r);++i<r;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Array(t+1);for(i=-1;++i<t;)a[i]=n[i];return a[t]=o,e.apply(this,a)}}var i="Expected a function",s=Math.max;e.exports=n},function(e,t,n){/*!
	 * Remixin v1.0.1
	 * (c) SoundCloud 2015
	 * Remixin may be freely distributed under the MIT license.
	 */
!function(t){var i=t(n(56));e.exports=i}(function(e){function t(){this.mixins=e.initial(arguments),this.properties=e.last(arguments)}function n(e,t){this.applyTo=function(n){e.applyTo(n,t)}}function i(e,t){return null==e?t.slice():s(l(e),t)}function s(t,n){return t.concat(e.difference(n,t))}function r(e,t){return null==e?t:i(a(e),a(t)).join(" ")}function o(t,n){return e.extend({},n,t)}function a(t){return e.compact(t.split(c))}function l(t){return e.isArray(t)?t:[t]}var u=["before","after","around","requires","override","defaults","applyTo","requirePrototype","merge"],c=/\s+/;return e.extend(t.prototype,{applyTo:function(t,n){var i=this.properties;this.defaults(t,i.defaults),this.extend(t,i),this.merge(t,i.merge),e.invoke(this.mixins,"applyTo",t),["requires","requirePrototype","override","before","after","around"].forEach(function(e){this[e](t,i[e])},this),i.applyTo&&i.applyTo.call(this,t,n)},withOptions:function(e){return new n(this,e)},before:function(t,n){e.each(n,function(e,n){var i=t[n];t[n]=function(){return e.apply(this,arguments),i.apply(this,arguments)}})},after:function(t,n){e.each(n,function(e,n){var i=t[n];t[n]=function(){var t=i.apply(this,arguments);return e.apply(this,arguments),t}})},around:function(t,n){e.each(n,function(e,n){var i=t[n];t[n]=function(){var t=0,n=arguments.length,s=Array(n+1);for(s[0]=i.bind(this);n>t;++t)s[t+1]=arguments[t];return e.apply(this,s)}})},override:function(t,n){e.extend(t,n)},defaults:function(t,n){e.each(n,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})},merge:function(t,n){e.each(n,function(n,s){if(null!=n){var a=t[s];t[s]=e.isArray(n)?i(a,n):e.isString(n)?r(a,n):o(a,n)}})},extend:function(t,n){var i=e.omit(n,u);e.extend(t,i)},requires:e.noop,requirePrototype:e.noop}),n.prototype=t.prototype,t})},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t["default"]=function(e){e.registerDecorator("inline",function(e,t,n,s){var r=e;return t.partials||(t.partials={},r=function(s,r){var o=n.partials;n.partials=i.extend({},o,t.partials);var a=e(s,r);return n.partials=o,a}),t.partials[s.args[0]]=s.fn,r})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,n){var s=n.inverse,r=n.fn;if(t===!0)return r(this);if(t===!1||null==t)return s(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):s(this);if(n.data&&n.ids){var o=i.createFrame(n.data);o.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:o}}return r(t,n)})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(4),r=n(5),o=i(r);t["default"]=function(e){e.registerHelper("each",function(e,t){function n(t,n,r){u&&(u.key=t,u.index=n,u.first=0===n,u.last=!!r,c&&(u.contextPath=c+t)),l+=i(e[t],{data:u,blockParams:s.blockParams([e[t],t],[c+t,null])})}if(!t)throw new o["default"]("Must pass iterator to #each");var i=t.fn,r=t.inverse,a=0,l="",u=void 0,c=void 0;if(t.data&&t.ids&&(c=s.appendContextPath(t.data.contextPath,t.ids[0])+"."),s.isFunction(e)&&(e=e.call(this)),t.data&&(u=s.createFrame(t.data)),e&&"object"==typeof e)if(s.isArray(e))for(var d=e.length;d>a;a++)a in e&&n(a,a,a===e.length-1);else{var h=void 0;for(var p in e)e.hasOwnProperty(p)&&(void 0!==h&&n(h,a-1),h=p,a++);void 0!==h&&n(h,a-1,!0)}return 0===a&&(l=r(this)),l})},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var s=n(5),r=i(s);t["default"]=function(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new r["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t["default"]=function(e){e.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var s=1;null!=n.hash.level?s=n.hash.level:n.data&&null!=n.data.level&&(s=n.data.level),t[0]=s,e.log.apply(e,t)})},e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=n(4);t["default"]=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var s=t.data;return t.data&&t.ids&&(s=i.createFrame(t.data),s.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:s,blockParams:i.blockParams([e],[s&&s.contextPath])})})},e.exports=t["default"]},function(e,t,n){var i=n(1519);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1521);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1522);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1523);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},function(e,t,n){var i=n(1524);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})},,function(e,t,n){var i=n(1527);"string"==typeof i&&(i=[[e.id,i,""]]);n(7)(i,{})}]);